(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();var Sp={exports:{}},mu={};var JT;function sI(){if(JT)return mu;JT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:l}}return mu.Fragment=t,mu.jsx=e,mu.jsxs=e,mu}var tE;function rI(){return tE||(tE=1,Sp.exports=sI()),Sp.exports}var x=rI(),wp={exports:{}},It={};var eE;function aI(){if(eE)return It;eE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,k={};function F(L,et,ot){this.props=L,this.context=et,this.refs=k,this.updater=ot||V}F.prototype.isReactComponent={},F.prototype.setState=function(L,et){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,et,"setState")},F.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Q(){}Q.prototype=F.prototype;function $(L,et,ot){this.props=L,this.context=et,this.refs=k,this.updater=ot||V}var lt=$.prototype=new Q;lt.constructor=$,U(lt,F.prototype),lt.isPureReactComponent=!0;var st=Array.isArray;function ht(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(L,et,ot){var ft=ot.ref;return{$$typeof:n,type:L,key:et,ref:ft!==void 0?ft:null,props:ot}}function O(L,et){return I(L.type,et,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function z(L){var et={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ot){return et[ot]})}var D=/\/+/g;function Xt(L,et){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):et.toString(36)}function ue(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ht,ht):(L.status="pending",L.then(function(et){L.status==="pending"&&(L.status="fulfilled",L.value=et)},function(et){L.status==="pending"&&(L.status="rejected",L.reason=et)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function W(L,et,ot,ft,At){var xt=typeof L;(xt==="undefined"||xt==="boolean")&&(L=null);var Lt=!1;if(L===null)Lt=!0;else switch(xt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(L.$$typeof){case n:case t:Lt=!0;break;case y:return Lt=L._init,W(Lt(L._payload),et,ot,ft,At)}}if(Lt)return At=At(L),Lt=ft===""?"."+Xt(L,0):ft,st(At)?(ot="",Lt!=null&&(ot=Lt.replace(D,"$&/")+"/"),W(At,et,ot,"",function(wt){return wt})):At!=null&&(M(At)&&(At=O(At,ot+(At.key==null||L&&L.key===At.key?"":(""+At.key).replace(D,"$&/")+"/")+Lt)),et.push(At)),1;Lt=0;var ye=ft===""?".":ft+":";if(st(L))for(var ct=0;ct<L.length;ct++)ft=L[ct],xt=ye+Xt(ft,ct),Lt+=W(ft,et,ot,xt,At);else if(ct=w(L),typeof ct=="function")for(L=ct.call(L),ct=0;!(ft=L.next()).done;)ft=ft.value,xt=ye+Xt(ft,ct++),Lt+=W(ft,et,ot,xt,At);else if(xt==="object"){if(typeof L.then=="function")return W(ue(L),et,ot,ft,At);throw et=String(L),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function rt(L,et,ot){if(L==null)return L;var ft=[],At=0;return W(L,ft,"","",function(xt){return et.call(ot,xt,At++)}),ft}function dt(L){if(L._status===-1){var et=L._result;et=et(),et.then(function(ot){(L._status===0||L._status===-1)&&(L._status=1,L._result=ot)},function(ot){(L._status===0||L._status===-1)&&(L._status=2,L._result=ot)}),L._status===-1&&(L._status=0,L._result=et)}if(L._status===1)return L._result.default;throw L._result}var Ct=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Mt={map:rt,forEach:function(L,et,ot){rt(L,function(){et.apply(this,arguments)},ot)},count:function(L){var et=0;return rt(L,function(){et++}),et},toArray:function(L){return rt(L,function(et){return et})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return It.Activity=_,It.Children=Mt,It.Component=F,It.Fragment=e,It.Profiler=a,It.PureComponent=$,It.StrictMode=s,It.Suspense=m,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,It.__COMPILER_RUNTIME={__proto__:null,c:function(L){return C.H.useMemoCache(L)}},It.cache=function(L){return function(){return L.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(L,et,ot){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ft=U({},L.props),At=L.key;if(et!=null)for(xt in et.key!==void 0&&(At=""+et.key),et)!R.call(et,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&et.ref===void 0||(ft[xt]=et[xt]);var xt=arguments.length-2;if(xt===1)ft.children=ot;else if(1<xt){for(var Lt=Array(xt),ye=0;ye<xt;ye++)Lt[ye]=arguments[ye+2];ft.children=Lt}return I(L.type,At,ft)},It.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},It.createElement=function(L,et,ot){var ft,At={},xt=null;if(et!=null)for(ft in et.key!==void 0&&(xt=""+et.key),et)R.call(et,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(At[ft]=et[ft]);var Lt=arguments.length-2;if(Lt===1)At.children=ot;else if(1<Lt){for(var ye=Array(Lt),ct=0;ct<Lt;ct++)ye[ct]=arguments[ct+2];At.children=ye}if(L&&L.defaultProps)for(ft in Lt=L.defaultProps,Lt)At[ft]===void 0&&(At[ft]=Lt[ft]);return I(L,xt,At)},It.createRef=function(){return{current:null}},It.forwardRef=function(L){return{$$typeof:d,render:L}},It.isValidElement=M,It.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:dt}},It.memo=function(L,et){return{$$typeof:g,type:L,compare:et===void 0?null:et}},It.startTransition=function(L){var et=C.T,ot={};C.T=ot;try{var ft=L(),At=C.S;At!==null&&At(ot,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(ht,Ct)}catch(xt){Ct(xt)}finally{et!==null&&ot.types!==null&&(et.types=ot.types),C.T=et}},It.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},It.use=function(L){return C.H.use(L)},It.useActionState=function(L,et,ot){return C.H.useActionState(L,et,ot)},It.useCallback=function(L,et){return C.H.useCallback(L,et)},It.useContext=function(L){return C.H.useContext(L)},It.useDebugValue=function(){},It.useDeferredValue=function(L,et){return C.H.useDeferredValue(L,et)},It.useEffect=function(L,et){return C.H.useEffect(L,et)},It.useEffectEvent=function(L){return C.H.useEffectEvent(L)},It.useId=function(){return C.H.useId()},It.useImperativeHandle=function(L,et,ot){return C.H.useImperativeHandle(L,et,ot)},It.useInsertionEffect=function(L,et){return C.H.useInsertionEffect(L,et)},It.useLayoutEffect=function(L,et){return C.H.useLayoutEffect(L,et)},It.useMemo=function(L,et){return C.H.useMemo(L,et)},It.useOptimistic=function(L,et){return C.H.useOptimistic(L,et)},It.useReducer=function(L,et,ot){return C.H.useReducer(L,et,ot)},It.useRef=function(L){return C.H.useRef(L)},It.useState=function(L){return C.H.useState(L)},It.useSyncExternalStore=function(L,et,ot){return C.H.useSyncExternalStore(L,et,ot)},It.useTransition=function(){return C.H.useTransition()},It.version="19.2.0",It}var nE;function Zg(){return nE||(nE=1,wp.exports=aI()),wp.exports}var j=Zg(),Rp={exports:{}},pu={},xp={exports:{}},Cp={};var iE;function oI(){return iE||(iE=1,(function(n){function t(W,rt){var dt=W.length;W.push(rt);t:for(;0<dt;){var Ct=dt-1>>>1,Mt=W[Ct];if(0<a(Mt,rt))W[Ct]=rt,W[dt]=Mt,dt=Ct;else break t}}function e(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var rt=W[0],dt=W.pop();if(dt!==rt){W[0]=dt;t:for(var Ct=0,Mt=W.length,L=Mt>>>1;Ct<L;){var et=2*(Ct+1)-1,ot=W[et],ft=et+1,At=W[ft];if(0>a(ot,dt))ft<Mt&&0>a(At,ot)?(W[Ct]=At,W[ft]=dt,Ct=ft):(W[Ct]=ot,W[et]=dt,Ct=et);else if(ft<Mt&&0>a(At,dt))W[Ct]=At,W[ft]=dt,Ct=ft;else break t}}return rt}function a(W,rt){var dt=W.sortIndex-rt.sortIndex;return dt!==0?dt:W.id-rt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,_=null,b=3,w=!1,V=!1,U=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function lt(W){for(var rt=e(g);rt!==null;){if(rt.callback===null)s(g);else if(rt.startTime<=W)s(g),rt.sortIndex=rt.expirationTime,t(m,rt);else break;rt=e(g)}}function st(W){if(U=!1,lt(W),!V)if(e(m)!==null)V=!0,ht||(ht=!0,z());else{var rt=e(g);rt!==null&&ue(st,rt.startTime-W)}}var ht=!1,C=-1,R=5,I=-1;function O(){return k?!0:!(n.unstable_now()-I<R)}function M(){if(k=!1,ht){var W=n.unstable_now();I=W;var rt=!0;try{t:{V=!1,U&&(U=!1,Q(C),C=-1),w=!0;var dt=b;try{e:{for(lt(W),_=e(m);_!==null&&!(_.expirationTime>W&&O());){var Ct=_.callback;if(typeof Ct=="function"){_.callback=null,b=_.priorityLevel;var Mt=Ct(_.expirationTime<=W);if(W=n.unstable_now(),typeof Mt=="function"){_.callback=Mt,lt(W),rt=!0;break e}_===e(m)&&s(m),lt(W)}else s(m);_=e(m)}if(_!==null)rt=!0;else{var L=e(g);L!==null&&ue(st,L.startTime-W),rt=!1}}break t}finally{_=null,b=dt,w=!1}rt=void 0}}finally{rt?z():ht=!1}}}var z;if(typeof $=="function")z=function(){$(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Xt=D.port2;D.port1.onmessage=M,z=function(){Xt.postMessage(null)}}else z=function(){F(M,0)};function ue(W,rt){C=F(function(){W(n.unstable_now())},rt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(W){switch(b){case 1:case 2:case 3:var rt=3;break;default:rt=b}var dt=b;b=rt;try{return W()}finally{b=dt}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(W,rt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var dt=b;b=W;try{return rt()}finally{b=dt}},n.unstable_scheduleCallback=function(W,rt,dt){var Ct=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ct+dt:Ct):dt=Ct,W){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=dt+Mt,W={id:y++,callback:rt,priorityLevel:W,startTime:dt,expirationTime:Mt,sortIndex:-1},dt>Ct?(W.sortIndex=dt,t(g,W),e(m)===null&&W===e(g)&&(U?(Q(C),C=-1):U=!0,ue(st,dt-Ct))):(W.sortIndex=Mt,t(m,W),V||w||(V=!0,ht||(ht=!0,z()))),W},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(W){var rt=b;return function(){var dt=b;b=rt;try{return W.apply(this,arguments)}finally{b=dt}}}})(Cp)),Cp}var sE;function lI(){return sE||(sE=1,xp.exports=oI()),xp.exports}var Ip={exports:{}},un={};var rE;function uI(){if(rE)return un;rE=1;var n=Zg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(m,g,null,y)},un.flushSync=function(m){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=y,s.d.f()}},un.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},un.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},un.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:w}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},un.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},un.requestFormReset=function(m){s.d.r(m)},un.unstable_batchedUpdates=function(m,g){return m(g)},un.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.2.0",un}var aE;function cI(){if(aE)return Ip.exports;aE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ip.exports=uI(),Ip.exports}var oE;function hI(){if(oE)return pu;oE=1;var n=lI(),t=Zg(),e=cI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),i;if(p===u)return m(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=p;else{for(var T=!1,A=f.child;A;){if(A===o){T=!0,o=f,u=p;break}if(A===u){T=!0,u=f,o=p;break}A=A.sibling}if(!T){for(A=p.child;A;){if(A===o){T=!0,o=p,u=f;break}if(A===u){T=!0,u=p,o=f;break}A=A.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),$=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Xt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case F:return"Profiler";case k:return"StrictMode";case st:return"Suspense";case ht:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case V:return"Portal";case $:return i.displayName||"Context";case Q:return(i._context.displayName||"Context")+".Consumer";case lt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:Xt(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return Xt(i(r))}catch{}}return null}var ue=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Ct=[],Mt=-1;function L(i){return{current:i}}function et(i){0>Mt||(i.current=Ct[Mt],Ct[Mt]=null,Mt--)}function ot(i,r){Mt++,Ct[Mt]=i.current,i.current=r}var ft=L(null),At=L(null),xt=L(null),Lt=L(null);function ye(i,r){switch(ot(xt,r),ot(At,i),ot(ft,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?bT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=bT(r),i=AT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}et(ft),ot(ft,i)}function ct(){et(ft),et(At),et(xt)}function wt(i){i.memoizedState!==null&&ot(Lt,i);var r=ft.current,o=AT(r,i.type);r!==o&&(ot(At,i),ot(ft,o))}function Gt(i){At.current===i&&(et(ft),et(At)),Lt.current===i&&(et(Lt),cu._currentValue=dt)}var de,Ce;function We(i){if(de===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);de=r&&r[1]||"",Ce=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+i+Ce}var li=!1;function Fr(i,r){if(!i||li)return"";li=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(X){var K=X}Reflect.construct(i,[],nt)}else{try{nt.call()}catch(X){K=X}i.call(nt.prototype)}}else{try{throw Error()}catch(X){K=X}(nt=i())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],A=p[1];if(T&&A){var N=T.split(`
`),G=A.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===G.length)for(u=N.length-1,f=G.length-1;1<=u&&0<=f&&N[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==G[f]){var Z=`
`+N[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=f);break}}}finally{li=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?We(o):""}function hl(i,r){switch(i.tag){case 26:case 27:case 5:return We(i.type);case 16:return We("Lazy");case 13:return i.child!==r&&r!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return Fr(i.type,!1);case 11:return Fr(i.type.render,!1);case 1:return Fr(i.type,!0);case 31:return We("Activity");default:return""}}function fl(i){try{var r="",o=null;do r+=hl(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ie=Object.prototype.hasOwnProperty,Fe=n.unstable_scheduleCallback,Ls=n.unstable_cancelCallback,Rd=n.unstable_shouldYield,Ec=n.unstable_requestPaint,gn=n.unstable_now,Hr=n.unstable_getCurrentPriorityLevel,dl=n.unstable_ImmediatePriority,ml=n.unstable_UserBlockingPriority,ks=n.unstable_NormalPriority,xd=n.unstable_LowPriority,bc=n.unstable_IdlePriority,Ac=n.log,Sc=n.unstable_setDisableYieldValue,ui=null,Ze=null;function Hn(i){if(typeof Ac=="function"&&Sc(i),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(ui,i)}catch{}}var Ee=Math.clz32?Math.clz32:Rc,wc=Math.log,La=Math.LN2;function Rc(i){return i>>>=0,i===0?32:31-(wc(i)/La|0)|0}var xi=256,qr=262144,De=4194304;function Ci(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ii(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,p=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?f=Ci(u):(T&=A,T!==0?f=Ci(T):o||(o=A&~i,o!==0&&(f=Ci(o))))):(A=u&~p,A!==0?f=Ci(A):T!==0?f=Ci(T):o||(o=u&~i,o!==0&&(f=Ci(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function ci(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Cd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var i=De;return De<<=1,(De&62914560)===0&&(De=4194304),i}function Di(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Gr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Id(i,r,o,u,f,p){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,N=i.expirationTimes,G=i.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-Ee(o),nt=1<<Z;A[Z]=0,N[Z]=-1;var K=G[Z];if(K!==null)for(G[Z]=null,Z=0;Z<K.length;Z++){var X=K[Z];X!==null&&(X.lane&=-536870913)}o&=~nt}u!==0&&Kr(i,u,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(T&~r))}function Kr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Ee(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function pl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Ee(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function gl(i,r){var o=r&-r;return o=(o&42)!==0?1:Yr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Yr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ss(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Cc(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:KT(i.type))}function hi(i,r){var o=rt.p;try{return rt.p=i,r()}finally{rt.p=o}}var fi=Math.random().toString(36).slice(2),Ne="__reactFiber$"+fi,Ke="__reactProps$"+fi,Ni="__reactContainer$"+fi,ka="__reactEvents$"+fi,Dd="__reactListeners$"+fi,Ic="__reactHandles$"+fi,Dc="__reactResources$"+fi,Vi="__reactMarker$"+fi;function Ua(i){delete i[Ne],delete i[Ke],delete i[ka],delete i[Dd],delete i[Ic]}function Mi(i){var r=i[Ne];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ni]||o[Ne]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=DT(i);i!==null;){if(o=i[Ne])return o;i=DT(i)}return r}i=o,o=i.parentNode}return null}function qn(i){if(i=i[Ne]||i[Ni]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Nn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Oi(i){var r=i[Dc];return r||(r=i[Dc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ve(i){i[Vi]=!0}var yl=new Set,vl={};function Pi(i,r){Li(i,r),Li(i+"Capture",r)}function Li(i,r){for(vl[i]=r,i=0;i<r.length;i++)yl.add(r[i])}var _l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},El={};function Nc(i){return Ie.call(El,i)?!0:Ie.call(Tl,i)?!1:_l.test(i)?El[i]=!0:(Tl[i]=!0,!1)}function ja(i,r,o){if(Nc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Vn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Me(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Ye(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Us(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,p=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,p.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Wt(i){if(!i._valueTracker){var r=Us(i)?"checked":"value";i._valueTracker=bl(i,r,""+i[r])}}function $r(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Us(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function ki(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Qr=/[\n"\\]/g;function En(i){return i.replace(Qr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function za(i,r,o,u,f,p,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Ye(r)):i.value!==""+Ye(r)&&(i.value=""+Ye(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Al(i,T,Ye(r)):o!=null?Al(i,T,Ye(o)):u!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Ye(A):i.removeAttribute("name")}function Vc(i,r,o,u,f,p,T,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Wt(i);return}o=o!=null?""+Ye(o):"",r=r!=null?""+Ye(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Wt(i)}function Al(i,r,o){r==="number"&&ki(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function js(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Ye(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Mc(i,r,o){if(r!=null&&(r=""+Ye(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Ye(o):""}function zs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ue(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Ye(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Wt(i)}function bn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Oc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function wl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Sl(i,f,u)}else for(var p in r)r.hasOwnProperty(p)&&Sl(i,p,r[p])}function Ba(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(i){return Bs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function di(){}var Rl=null;function Gn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fs=null,Ui=null;function Xr(i){var r=qn(i);if(r&&(i=r.stateNode)){var o=i[Ke]||null;t:switch(i=r.stateNode,r.type){case"input":if(za(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+En(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[Ke]||null;if(!f)throw Error(s(90));za(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&$r(u)}break t;case"textarea":Mc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&js(i,!!o.multiple,r,!1)}}}var Ha=!1;function Hs(i,r,o){if(Ha)return i(r,o);Ha=!0;try{var u=i(r);return u}finally{if(Ha=!1,(Fs!==null||Ui!==null)&&(Ch(),Fs&&(r=Fs,i=Ui,Ui=Fs=null,Xr(r),i)))for(r=0;r<i.length;r++)Xr(i[r])}}function mi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Ke]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=!1;if(Kn)try{var te={};Object.defineProperty(te,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Wr=!1}var ji=null,xl=null,Zr=null;function Cl(){if(Zr)return Zr;var i,r=xl,o=r.length,u,f="value"in ji?ji.value:ji.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===f[p-u];u++);return Zr=f.slice(i,1<u?1-u:void 0)}function Jr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function rs(){return!0}function pi(){return!1}function Je(i){function r(o,u,f,p,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?rs:pi,this.isPropagationStopped=pi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),r}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=Je(as),qs=_({},as,{view:0,detail:0}),Il=Je(qs),Gs,qa,Bi,Ga=_({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Bi&&(Bi&&i.type==="mousemove"?(Gs=i.screenX-Bi.screenX,qa=i.screenY-Bi.screenY):qa=Gs=0,Bi=i),Gs)},movementY:function(i){return"movementY"in i?i.movementY:qa}}),Dl=Je(Ga),ta=_({},Ga,{dataTransfer:0}),Lc=Je(ta),kc=_({},qs,{relatedTarget:0}),ea=Je(kc),Nl=_({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Uc=Je(Nl),Ka=_({},as,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),jc=Je(Ka),zc=_({},as,{data:0}),Fi=Je(zc),Bc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Hc[i])?!!r[i]:!1}function Ks(){return qc}var yn=_({},qs,{key:function(i){if(i.key){var r=Bc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Jr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Fc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(i){return i.type==="keypress"?Jr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Jr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Gc=Je(yn),Kc=_({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=Je(Kc),h=_({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),v=Je(h),E=_({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Je(E),H=_({},Ga,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Je(H),at=_({},as,{newState:0,oldState:0}),Dt=Je(at),be=[9,13,27,32],$t=Kn&&"CompositionEvent"in window,ce=null;Kn&&"documentMode"in document&&(ce=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!ce,Hi=Kn&&(!$t||ce&&8<ce&&11>=ce),gi=" ",yi=!1;function na(i,r){switch(i){case"keyup":return be.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ya(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var $a=!1;function Cx(i,r){switch(i){case"compositionend":return Ya(r);case"keypress":return r.which!==32?null:(yi=!0,gi);case"textInput":return i=r.data,i===gi&&yi?null:i;default:return null}}function Ix(i,r){if($a)return i==="compositionend"||!$t&&na(i,r)?(i=Cl(),Zr=xl=ji=null,$a=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hi&&r.locale!=="ko"?null:r.data;default:return null}}var Dx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Dx[i.type]:r==="textarea"}function Ov(i,r,o,u){Fs?Ui?Ui.push(u):Ui=[u]:Fs=u,r=Ph(r,"onChange"),0<r.length&&(o=new zi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Vl=null,Ml=null;function Nx(i){gT(i,0)}function Yc(i){var r=Nn(i);if($r(r))return i}function Pv(i,r){if(i==="change")return r}var Lv=!1;if(Kn){var Nd;if(Kn){var Vd="oninput"in document;if(!Vd){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),Vd=typeof kv.oninput=="function"}Nd=Vd}else Nd=!1;Lv=Nd&&(!document.documentMode||9<document.documentMode)}function Uv(){Vl&&(Vl.detachEvent("onpropertychange",jv),Ml=Vl=null)}function jv(i){if(i.propertyName==="value"&&Yc(Ml)){var r=[];Ov(r,Ml,i,Gn(i)),Hs(Nx,r)}}function Vx(i,r,o){i==="focusin"?(Uv(),Vl=r,Ml=o,Vl.attachEvent("onpropertychange",jv)):i==="focusout"&&Uv()}function Mx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Yc(Ml)}function Ox(i,r){if(i==="click")return Yc(r)}function Px(i,r){if(i==="input"||i==="change")return Yc(r)}function Lx(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Mn=typeof Object.is=="function"?Object.is:Lx;function Ol(i,r){if(Mn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ie.call(r,f)||!Mn(i[f],r[f]))return!1}return!0}function zv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Bv(i,r){var o=zv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=zv(o)}}function Fv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Fv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Hv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ki(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ki(i.document)}return r}function Md(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var kx=Kn&&"documentMode"in document&&11>=document.documentMode,Qa=null,Od=null,Pl=null,Pd=!1;function qv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pd||Qa==null||Qa!==ki(u)||(u=Qa,"selectionStart"in u&&Md(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pl&&Ol(Pl,u)||(Pl=u,u=Ph(Od,"onSelect"),0<u.length&&(r=new zi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Qa)))}function ia(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Xa={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},Ld={},Gv={};Kn&&(Gv=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function sa(i){if(Ld[i])return Ld[i];if(!Xa[i])return i;var r=Xa[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Gv)return Ld[i]=r[o];return i}var Kv=sa("animationend"),Yv=sa("animationiteration"),$v=sa("animationstart"),Ux=sa("transitionrun"),jx=sa("transitionstart"),zx=sa("transitioncancel"),Qv=sa("transitionend"),Xv=new Map,kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kd.push("scrollEnd");function vi(i,r){Xv.set(i,r),Pi(r,[i])}var $c=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},$n=[],Wa=0,Ud=0;function Qc(){for(var i=Wa,r=Ud=Wa=0;r<i;){var o=$n[r];$n[r++]=null;var u=$n[r];$n[r++]=null;var f=$n[r];$n[r++]=null;var p=$n[r];if($n[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}p!==0&&Wv(o,f,p)}}function Xc(i,r,o,u){$n[Wa++]=i,$n[Wa++]=r,$n[Wa++]=o,$n[Wa++]=u,Ud|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function jd(i,r,o,u){return Xc(i,r,o,u),Wc(i)}function ra(i,r){return Xc(i,null,null,r),Wc(i)}function Wv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-Ee(o),i=p.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),p):null}function Wc(i){if(50<iu)throw iu=0,$m=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Za={};function Bx(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(i,r,o,u){return new Bx(i,r,o,u)}function zd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ls(i,r){var o=i.alternate;return o===null?(o=On(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Zv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Zc(i,r,o,u,f,p){var T=0;if(u=i,typeof i=="function")zd(i)&&(T=1);else if(typeof i=="string")T=KC(i,o,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=On(31,o,r,f),i.elementType=I,i.lanes=p,i;case U:return aa(o.children,f,p,r);case k:T=8,f|=24;break;case F:return i=On(12,o,r,f|2),i.elementType=F,i.lanes=p,i;case st:return i=On(13,o,r,f),i.elementType=st,i.lanes=p,i;case ht:return i=On(19,o,r,f),i.elementType=ht,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:T=10;break t;case Q:T=9;break t;case lt:T=11;break t;case C:T=14;break t;case R:T=16,u=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=On(T,o,r,f),r.elementType=i,r.type=u,r.lanes=p,r}function aa(i,r,o,u){return i=On(7,i,u,r),i.lanes=o,i}function Bd(i,r,o){return i=On(6,i,null,r),i.lanes=o,i}function Jv(i){var r=On(18,null,null,0);return r.stateNode=i,r}function Fd(i,r,o){return r=On(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var t_=new WeakMap;function Qn(i,r){if(typeof i=="object"&&i!==null){var o=t_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:fl(r)},t_.set(i,r),r)}return{value:i,source:r,stack:fl(r)}}var Ja=[],to=0,Jc=null,Ll=0,Xn=[],Wn=0,Ys=null,qi=1,Gi="";function us(i,r){Ja[to++]=Ll,Ja[to++]=Jc,Jc=i,Ll=r}function e_(i,r,o){Xn[Wn++]=qi,Xn[Wn++]=Gi,Xn[Wn++]=Ys,Ys=i;var u=qi;i=Gi;var f=32-Ee(u)-1;u&=~(1<<f),o+=1;var p=32-Ee(r)+f;if(30<p){var T=f-f%5;p=(u&(1<<T)-1).toString(32),u>>=T,f-=T,qi=1<<32-Ee(r)+f|o<<f|u,Gi=p+i}else qi=1<<p|o<<f|u,Gi=i}function Hd(i){i.return!==null&&(us(i,1),e_(i,1,0))}function qd(i){for(;i===Jc;)Jc=Ja[--to],Ja[to]=null,Ll=Ja[--to],Ja[to]=null;for(;i===Ys;)Ys=Xn[--Wn],Xn[Wn]=null,Gi=Xn[--Wn],Xn[Wn]=null,qi=Xn[--Wn],Xn[Wn]=null}function n_(i,r){Xn[Wn++]=qi,Xn[Wn++]=Gi,Xn[Wn++]=Ys,qi=r.id,Gi=r.overflow,Ys=i}var tn=null,ae=null,Ft=!1,$s=null,Zn=!1,Gd=Error(s(519));function Qs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(Qn(r,i)),Gd}function i_(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ne]=i,r[Ke]=u,o){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(o=0;o<ru.length;o++)Pt(ru[o],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":Pt("invalid",r),Vc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pt("invalid",r);break;case"textarea":Pt("invalid",r),zs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||TT(r.textContent,o)?(u.popover!=null&&(Pt("beforetoggle",r),Pt("toggle",r)),u.onScroll!=null&&Pt("scroll",r),u.onScrollEnd!=null&&Pt("scrollend",r),u.onClick!=null&&(r.onclick=di),r=!0):r=!1,r||Qs(i,!0)}function s_(i){for(tn=i.return;tn;)switch(tn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:tn=tn.return}}function eo(i){if(i!==tn)return!1;if(!Ft)return s_(i),Ft=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||up(i.type,i.memoizedProps)),o=!o),o&&ae&&Qs(i),s_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ae=IT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ae=IT(i)}else r===27?(r=ae,ur(i.type)?(i=mp,mp=null,ae=i):ae=r):ae=tn?ti(i.stateNode.nextSibling):null;return!0}function oa(){ae=tn=null,Ft=!1}function Kd(){var i=$s;return i!==null&&(Rn===null?Rn=i:Rn.push.apply(Rn,i),$s=null),i}function kl(i){$s===null?$s=[i]:$s.push(i)}var Yd=L(null),la=null,cs=null;function Xs(i,r,o){ot(Yd,r._currentValue),r._currentValue=o}function hs(i){i._currentValue=Yd.current,et(Yd)}function $d(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Qd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=f;for(var N=0;N<r.length;N++)if(A.context===r[N]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),$d(p.return,o,i),u||(T=null);break t}p=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),$d(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function no(i,r,o,u){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=f.type;Mn(f.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(f===Lt.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(cu):i=[cu])}f=f.return}i!==null&&Qd(r,i,o,u),r.flags|=262144}function th(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ua(i){la=i,cs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function en(i){return r_(la,i)}function eh(i,r){return la===null&&ua(i),r_(i,r)}function r_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},cs===null){if(i===null)throw Error(s(308));cs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else cs=cs.next=r;return o}var Fx=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},Hx=n.unstable_scheduleCallback,qx=n.unstable_NormalPriority,Oe={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xd(){return{controller:new Fx,data:new Map,refCount:0}}function Ul(i){i.refCount--,i.refCount===0&&Hx(qx,function(){i.controller.abort()})}var jl=null,Wd=0,io=0,so=null;function Gx(i,r){if(jl===null){var o=jl=[];Wd=0,io=tp(),so={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Wd++,r.then(a_,a_),r}function a_(){if(--Wd===0&&jl!==null){so!==null&&(so.status="fulfilled");var i=jl;jl=null,io=0,so=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function Kx(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var o_=W.S;W.S=function(i,r){q0=gn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Gx(i,r),o_!==null&&o_(i,r)};var ca=L(null);function Zd(){var i=ca.current;return i!==null?i:re.pooledCache}function nh(i,r){r===null?ot(ca,ca.current):ot(ca,r.pool)}function l_(){var i=Zd();return i===null?null:{parent:Oe._currentValue,pool:i}}var ro=Error(s(460)),Jd=Error(s(474)),ih=Error(s(542)),sh={then:function(){}};function u_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function c_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(di,di),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,f_(i),i;default:if(typeof r.status=="string")r.then(di,di);else{if(i=re,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,f_(i),i}throw fa=r,ro}}function ha(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(fa=o,ro):o}}var fa=null;function h_(){if(fa===null)throw Error(s(459));var i=fa;return fa=null,i}function f_(i){if(i===ro||i===ih)throw Error(s(483))}var ao=null,zl=0;function rh(i){var r=zl;return zl+=1,ao===null&&(ao=[]),c_(ao,i,r)}function Bl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function ah(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function d_(i){function r(B,P){if(i){var q=B.deletions;q===null?(B.deletions=[P],B.flags|=16):q.push(P)}}function o(B,P){if(!i)return null;for(;P!==null;)r(B,P),P=P.sibling;return null}function u(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function f(B,P){return B=ls(B,P),B.index=0,B.sibling=null,B}function p(B,P,q){return B.index=q,i?(q=B.alternate,q!==null?(q=q.index,q<P?(B.flags|=67108866,P):q):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function T(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function A(B,P,q,tt){return P===null||P.tag!==6?(P=Bd(q,B.mode,tt),P.return=B,P):(P=f(P,q),P.return=B,P)}function N(B,P,q,tt){var vt=q.type;return vt===U?Z(B,P,q.props.children,tt,q.key):P!==null&&(P.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&ha(vt)===P.type)?(P=f(P,q.props),Bl(P,q),P.return=B,P):(P=Zc(q.type,q.key,q.props,null,B.mode,tt),Bl(P,q),P.return=B,P)}function G(B,P,q,tt){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Fd(q,B.mode,tt),P.return=B,P):(P=f(P,q.children||[]),P.return=B,P)}function Z(B,P,q,tt,vt){return P===null||P.tag!==7?(P=aa(q,B.mode,tt,vt),P.return=B,P):(P=f(P,q),P.return=B,P)}function nt(B,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Bd(""+P,B.mode,q),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case w:return q=Zc(P.type,P.key,P.props,null,B.mode,q),Bl(q,P),q.return=B,q;case V:return P=Fd(P,B.mode,q),P.return=B,P;case R:return P=ha(P),nt(B,P,q)}if(ue(P)||z(P))return P=aa(P,B.mode,q,null),P.return=B,P;if(typeof P.then=="function")return nt(B,rh(P),q);if(P.$$typeof===$)return nt(B,eh(B,P),q);ah(B,P)}return null}function K(B,P,q,tt){var vt=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return vt!==null?null:A(B,P,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===vt?N(B,P,q,tt):null;case V:return q.key===vt?G(B,P,q,tt):null;case R:return q=ha(q),K(B,P,q,tt)}if(ue(q)||z(q))return vt!==null?null:Z(B,P,q,tt,null);if(typeof q.then=="function")return K(B,P,rh(q),tt);if(q.$$typeof===$)return K(B,P,eh(B,q),tt);ah(B,q)}return null}function X(B,P,q,tt,vt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return B=B.get(q)||null,A(P,B,""+tt,vt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case w:return B=B.get(tt.key===null?q:tt.key)||null,N(P,B,tt,vt);case V:return B=B.get(tt.key===null?q:tt.key)||null,G(P,B,tt,vt);case R:return tt=ha(tt),X(B,P,q,tt,vt)}if(ue(tt)||z(tt))return B=B.get(q)||null,Z(P,B,tt,vt,null);if(typeof tt.then=="function")return X(B,P,q,rh(tt),vt);if(tt.$$typeof===$)return X(B,P,q,eh(P,tt),vt);ah(P,tt)}return null}function pt(B,P,q,tt){for(var vt=null,Kt=null,gt=P,Vt=P=0,Ut=null;gt!==null&&Vt<q.length;Vt++){gt.index>Vt?(Ut=gt,gt=null):Ut=gt.sibling;var Yt=K(B,gt,q[Vt],tt);if(Yt===null){gt===null&&(gt=Ut);break}i&&gt&&Yt.alternate===null&&r(B,gt),P=p(Yt,P,Vt),Kt===null?vt=Yt:Kt.sibling=Yt,Kt=Yt,gt=Ut}if(Vt===q.length)return o(B,gt),Ft&&us(B,Vt),vt;if(gt===null){for(;Vt<q.length;Vt++)gt=nt(B,q[Vt],tt),gt!==null&&(P=p(gt,P,Vt),Kt===null?vt=gt:Kt.sibling=gt,Kt=gt);return Ft&&us(B,Vt),vt}for(gt=u(gt);Vt<q.length;Vt++)Ut=X(gt,B,Vt,q[Vt],tt),Ut!==null&&(i&&Ut.alternate!==null&&gt.delete(Ut.key===null?Vt:Ut.key),P=p(Ut,P,Vt),Kt===null?vt=Ut:Kt.sibling=Ut,Kt=Ut);return i&&gt.forEach(function(mr){return r(B,mr)}),Ft&&us(B,Vt),vt}function Tt(B,P,q,tt){if(q==null)throw Error(s(151));for(var vt=null,Kt=null,gt=P,Vt=P=0,Ut=null,Yt=q.next();gt!==null&&!Yt.done;Vt++,Yt=q.next()){gt.index>Vt?(Ut=gt,gt=null):Ut=gt.sibling;var mr=K(B,gt,Yt.value,tt);if(mr===null){gt===null&&(gt=Ut);break}i&&gt&&mr.alternate===null&&r(B,gt),P=p(mr,P,Vt),Kt===null?vt=mr:Kt.sibling=mr,Kt=mr,gt=Ut}if(Yt.done)return o(B,gt),Ft&&us(B,Vt),vt;if(gt===null){for(;!Yt.done;Vt++,Yt=q.next())Yt=nt(B,Yt.value,tt),Yt!==null&&(P=p(Yt,P,Vt),Kt===null?vt=Yt:Kt.sibling=Yt,Kt=Yt);return Ft&&us(B,Vt),vt}for(gt=u(gt);!Yt.done;Vt++,Yt=q.next())Yt=X(gt,B,Vt,Yt.value,tt),Yt!==null&&(i&&Yt.alternate!==null&&gt.delete(Yt.key===null?Vt:Yt.key),P=p(Yt,P,Vt),Kt===null?vt=Yt:Kt.sibling=Yt,Kt=Yt);return i&&gt.forEach(function(iI){return r(B,iI)}),Ft&&us(B,Vt),vt}function ie(B,P,q,tt){if(typeof q=="object"&&q!==null&&q.type===U&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:t:{for(var vt=q.key;P!==null;){if(P.key===vt){if(vt=q.type,vt===U){if(P.tag===7){o(B,P.sibling),tt=f(P,q.props.children),tt.return=B,B=tt;break t}}else if(P.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&ha(vt)===P.type){o(B,P.sibling),tt=f(P,q.props),Bl(tt,q),tt.return=B,B=tt;break t}o(B,P);break}else r(B,P);P=P.sibling}q.type===U?(tt=aa(q.props.children,B.mode,tt,q.key),tt.return=B,B=tt):(tt=Zc(q.type,q.key,q.props,null,B.mode,tt),Bl(tt,q),tt.return=B,B=tt)}return T(B);case V:t:{for(vt=q.key;P!==null;){if(P.key===vt)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){o(B,P.sibling),tt=f(P,q.children||[]),tt.return=B,B=tt;break t}else{o(B,P);break}else r(B,P);P=P.sibling}tt=Fd(q,B.mode,tt),tt.return=B,B=tt}return T(B);case R:return q=ha(q),ie(B,P,q,tt)}if(ue(q))return pt(B,P,q,tt);if(z(q)){if(vt=z(q),typeof vt!="function")throw Error(s(150));return q=vt.call(q),Tt(B,P,q,tt)}if(typeof q.then=="function")return ie(B,P,rh(q),tt);if(q.$$typeof===$)return ie(B,P,eh(B,q),tt);ah(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(o(B,P.sibling),tt=f(P,q),tt.return=B,B=tt):(o(B,P),tt=Bd(q,B.mode,tt),tt.return=B,B=tt),T(B)):o(B,P)}return function(B,P,q,tt){try{zl=0;var vt=ie(B,P,q,tt);return ao=null,vt}catch(gt){if(gt===ro||gt===ih)throw gt;var Kt=On(29,gt,null,B.mode);return Kt.lanes=tt,Kt.return=B,Kt}finally{}}}var da=d_(!0),m_=d_(!1),Ws=!1;function tm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function em(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Zs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Js(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Qt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Wc(i),Wv(i,null,o),r}return Xc(i,u,r,o),Wc(i)}function Fl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,pl(i,o)}}function nm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var im=!1;function Hl(){if(im){var i=so;if(i!==null)throw i}}function ql(i,r,o,u){im=!1;var f=i.updateQueue;Ws=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,G=N.next;N.next=null,T===null?p=G:T.next=G,T=N;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==T&&(A===null?Z.firstBaseUpdate=G:A.next=G,Z.lastBaseUpdate=N))}if(p!==null){var nt=f.baseState;T=0,Z=G=N=null,A=p;do{var K=A.lane&-536870913,X=K!==A.lane;if(X?(kt&K)===K:(u&K)===K){K!==0&&K===io&&(im=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var pt=i,Tt=A;K=r;var ie=o;switch(Tt.tag){case 1:if(pt=Tt.payload,typeof pt=="function"){nt=pt.call(ie,nt,K);break t}nt=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Tt.payload,K=typeof pt=="function"?pt.call(ie,nt,K):pt,K==null)break t;nt=_({},nt,K);break t;case 2:Ws=!0}}K=A.callback,K!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[K]:X.push(K))}else X={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(G=Z=X,N=nt):Z=Z.next=X,T|=K;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(N=nt),f.baseState=N,f.firstBaseUpdate=G,f.lastBaseUpdate=Z,p===null&&(f.shared.lanes=0),sr|=T,i.lanes=T,i.memoizedState=nt}}function p_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function g_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)p_(o[i],r)}var oo=L(null),oh=L(0);function y_(i,r){i=Ts,ot(oh,i),ot(oo,r),Ts=i|r.baseLanes}function sm(){ot(oh,Ts),ot(oo,oo.current)}function rm(){Ts=oh.current,et(oo),et(oh)}var Pn=L(null),Jn=null;function tr(i){var r=i.alternate;ot(Ae,Ae.current&1),ot(Pn,i),Jn===null&&(r===null||oo.current!==null||r.memoizedState!==null)&&(Jn=i)}function am(i){ot(Ae,Ae.current),ot(Pn,i),Jn===null&&(Jn=i)}function v_(i){i.tag===22?(ot(Ae,Ae.current),ot(Pn,i),Jn===null&&(Jn=i)):er()}function er(){ot(Ae,Ae.current),ot(Pn,Pn.current)}function Ln(i){et(Pn),Jn===i&&(Jn=null),et(Ae)}var Ae=L(0);function lh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||fp(o)||dp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var fs=0,Nt=null,ee=null,Pe=null,uh=!1,lo=!1,ma=!1,ch=0,Gl=0,uo=null,Yx=0;function ve(){throw Error(s(321))}function om(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Mn(i[o],r[o]))return!1;return!0}function lm(i,r,o,u,f,p){return fs=p,Nt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?e0:Am,ma=!1,p=o(u,f),ma=!1,lo&&(p=T_(r,o,u,f)),__(i),p}function __(i){W.H=$l;var r=ee!==null&&ee.next!==null;if(fs=0,Pe=ee=Nt=null,uh=!1,Gl=0,uo=null,r)throw Error(s(300));i===null||Le||(i=i.dependencies,i!==null&&th(i)&&(Le=!0))}function T_(i,r,o,u){Nt=i;var f=0;do{if(lo&&(uo=null),Gl=0,lo=!1,25<=f)throw Error(s(301));if(f+=1,Pe=ee=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=n0,p=r(o,u)}while(lo);return p}function $x(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Kl(r):r,i=i.useState()[0],(ee!==null?ee.memoizedState:null)!==i&&(Nt.flags|=1024),r}function um(){var i=ch!==0;return ch=0,i}function cm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function hm(i){if(uh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}uh=!1}fs=0,Pe=ee=Nt=null,lo=!1,Gl=ch=0,uo=null}function vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Nt.memoizedState=Pe=i:Pe=Pe.next=i,Pe}function Se(){if(ee===null){var i=Nt.alternate;i=i!==null?i.memoizedState:null}else i=ee.next;var r=Pe===null?Nt.memoizedState:Pe.next;if(r!==null)Pe=r,ee=i;else{if(i===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));ee=i,i={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Pe===null?Nt.memoizedState=Pe=i:Pe=Pe.next=i}return Pe}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(i){var r=Gl;return Gl+=1,uo===null&&(uo=[]),i=c_(uo,i,r),r=Nt,(Pe===null?r.memoizedState:Pe.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?e0:Am),i}function fh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Kl(i);if(i.$$typeof===$)return en(i)}throw Error(s(438,String(i)))}function fm(i){var r=null,o=Nt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Nt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=hh(),Nt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=O;return r.index++,o}function ds(i,r){return typeof r=="function"?r(i):r}function dh(i){var r=Se();return dm(r,ee,i)}function dm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,p=u.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,u.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var A=T=null,N=null,G=r,Z=!1;do{var nt=G.lane&-536870913;if(nt!==G.lane?(kt&nt)===nt:(fs&nt)===nt){var K=G.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),nt===io&&(Z=!0);else if((fs&K)===K){G=G.next,K===io&&(Z=!0);continue}else nt={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(A=N=nt,T=p):N=N.next=nt,Nt.lanes|=K,sr|=K;nt=G.action,ma&&o(p,nt),p=G.hasEagerState?G.eagerState:o(p,nt)}else K={lane:nt,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(A=N=K,T=p):N=N.next=K,Nt.lanes|=nt,sr|=nt;G=G.next}while(G!==null&&G!==r);if(N===null?T=p:N.next=A,!Mn(p,i.memoizedState)&&(Le=!0,Z&&(o=so,o!==null)))throw o;i.memoizedState=p,i.baseState=T,i.baseQueue=N,u.lastRenderedState=p}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function mm(i){var r=Se(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do p=i(p,T.action),T=T.next;while(T!==f);Mn(p,r.memoizedState)||(Le=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function E_(i,r,o){var u=Nt,f=Se(),p=Ft;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!Mn((ee||f).memoizedState,o);if(T&&(f.memoizedState=o,Le=!0),f=f.queue,ym(S_.bind(null,u,f,i),[i]),f.getSnapshot!==r||T||Pe!==null&&Pe.memoizedState.tag&1){if(u.flags|=2048,co(9,{destroy:void 0},A_.bind(null,u,f,o,r),null),re===null)throw Error(s(349));p||(fs&127)!==0||b_(u,r,o)}return o}function b_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Nt.updateQueue,r===null?(r=hh(),Nt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function A_(i,r,o,u){r.value=o,r.getSnapshot=u,w_(r)&&R_(i)}function S_(i,r,o){return o(function(){w_(r)&&R_(i)})}function w_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Mn(i,o)}catch{return!0}}function R_(i){var r=ra(i,2);r!==null&&xn(r,i,2)}function pm(i){var r=vn();if(typeof i=="function"){var o=i;if(i=o(),ma){Hn(!0);try{o()}finally{Hn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:i},r}function x_(i,r,o,u){return i.baseState=o,dm(i,ee,typeof u=="function"?u:ds)}function Qx(i,r,o,u,f){if(gh(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};W.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,C_(r,p)):(p.next=o.next,r.pending=o.next=p)}}function C_(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var p=W.T,T={};W.T=T;try{var A=o(f,u),N=W.S;N!==null&&N(T,A),I_(i,r,A)}catch(G){gm(i,r,G)}finally{p!==null&&T.types!==null&&(p.types=T.types),W.T=p}}else try{p=o(f,u),I_(i,r,p)}catch(G){gm(i,r,G)}}function I_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){D_(i,r,u)},function(u){return gm(i,r,u)}):D_(i,r,o)}function D_(i,r,o){r.status="fulfilled",r.value=o,N_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,C_(i,o)))}function gm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,N_(r),r=r.next;while(r!==u)}i.action=null}function N_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function V_(i,r){return r}function M_(i,r){if(Ft){var o=re.formState;if(o!==null){t:{var u=Nt;if(Ft){if(ae){e:{for(var f=ae,p=Zn;f.nodeType!==8;){if(!p){f=null;break e}if(f=ti(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ae=ti(f.nextSibling),u=f.data==="F!";break t}}Qs(u)}u=!1}u&&(r=o[0])}}return o=vn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V_,lastRenderedState:r},o.queue=u,o=Z_.bind(null,Nt,u),u.dispatch=o,u=pm(!1),p=bm.bind(null,Nt,!1,u.queue),u=vn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=Qx.bind(null,Nt,f,p,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function O_(i){var r=Se();return P_(r,ee,i)}function P_(i,r,o){if(r=dm(i,r,V_)[0],i=dh(ds)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Kl(r)}catch(T){throw T===ro?ih:T}else u=r;r=Se();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(Nt.flags|=2048,co(9,{destroy:void 0},Xx.bind(null,f,o),null)),[u,p,i]}function Xx(i,r){i.action=r}function L_(i){var r=Se(),o=ee;if(o!==null)return P_(r,o,i);Se(),r=r.memoizedState,o=Se();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function co(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Nt.updateQueue,r===null&&(r=hh(),Nt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function k_(){return Se().memoizedState}function mh(i,r,o,u){var f=vn();Nt.flags|=i,f.memoizedState=co(1|r,{destroy:void 0},o,u===void 0?null:u)}function ph(i,r,o,u){var f=Se();u=u===void 0?null:u;var p=f.memoizedState.inst;ee!==null&&u!==null&&om(u,ee.memoizedState.deps)?f.memoizedState=co(r,p,o,u):(Nt.flags|=i,f.memoizedState=co(1|r,p,o,u))}function U_(i,r){mh(8390656,8,i,r)}function ym(i,r){ph(2048,8,i,r)}function Wx(i){Nt.flags|=4;var r=Nt.updateQueue;if(r===null)r=hh(),Nt.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function j_(i){var r=Se().memoizedState;return Wx({ref:r,nextImpl:i}),function(){if((Qt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function z_(i,r){return ph(4,2,i,r)}function B_(i,r){return ph(4,4,i,r)}function F_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function H_(i,r,o){o=o!=null?o.concat([i]):null,ph(4,4,F_.bind(null,r,i),o)}function vm(){}function q_(i,r){var o=Se();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&om(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function G_(i,r){var o=Se();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&om(r,u[1]))return u[0];if(u=i(),ma){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[u,r],u}function _m(i,r,o){return o===void 0||(fs&1073741824)!==0&&(kt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=K0(),Nt.lanes|=i,sr|=i,o)}function K_(i,r,o,u){return Mn(o,r)?o:oo.current!==null?(i=_m(i,o,u),Mn(i,r)||(Le=!0),i):(fs&42)===0||(fs&1073741824)!==0&&(kt&261930)===0?(Le=!0,i.memoizedState=o):(i=K0(),Nt.lanes|=i,sr|=i,r)}function Y_(i,r,o,u,f){var p=rt.p;rt.p=p!==0&&8>p?p:8;var T=W.T,A={};W.T=A,bm(i,!1,r,o);try{var N=f(),G=W.S;if(G!==null&&G(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=Kx(N,u);Yl(i,r,Z,jn(i))}else Yl(i,r,u,jn(i))}catch(nt){Yl(i,r,{then:function(){},status:"rejected",reason:nt},jn())}finally{rt.p=p,T!==null&&A.types!==null&&(T.types=A.types),W.T=T}}function Zx(){}function Tm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=$_(i).queue;Y_(i,f,r,dt,o===null?Zx:function(){return Q_(i),o(u)})}function $_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:dt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Q_(i){var r=$_(i);r.next===null&&(r=i.alternate.memoizedState),Yl(i,r.next.queue,{},jn())}function Em(){return en(cu)}function X_(){return Se().memoizedState}function W_(){return Se().memoizedState}function Jx(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=jn();i=Zs(o);var u=Js(r,i,o);u!==null&&(xn(u,r,o),Fl(u,r,o)),r={cache:Xd()},i.payload=r;return}r=r.return}}function tC(i,r,o){var u=jn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},gh(i)?J_(r,o):(o=jd(i,r,o,u),o!==null&&(xn(o,i,u),t0(o,r,u)))}function Z_(i,r,o){var u=jn();Yl(i,r,o,u)}function Yl(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(gh(i))J_(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,A=p(T,o);if(f.hasEagerState=!0,f.eagerState=A,Mn(A,T))return Xc(i,r,f,0),re===null&&Qc(),!1}catch{}finally{}if(o=jd(i,r,f,u),o!==null)return xn(o,i,u),t0(o,r,u),!0}return!1}function bm(i,r,o,u){if(u={lane:2,revertLane:tp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},gh(i)){if(r)throw Error(s(479))}else r=jd(i,o,u,2),r!==null&&xn(r,i,2)}function gh(i){var r=i.alternate;return i===Nt||r!==null&&r===Nt}function J_(i,r){lo=uh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function t0(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,pl(i,o)}}var $l={readContext:en,use:fh,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};$l.useEffectEvent=ve;var e0={readContext:en,use:fh,useCallback:function(i,r){return vn().memoizedState=[i,r===void 0?null:r],i},useContext:en,useEffect:U_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,mh(4194308,4,F_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return mh(4194308,4,i,r)},useInsertionEffect:function(i,r){mh(4,2,i,r)},useMemo:function(i,r){var o=vn();r=r===void 0?null:r;var u=i();if(ma){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=vn();if(o!==void 0){var f=o(r);if(ma){Hn(!0);try{o(r)}finally{Hn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=tC.bind(null,Nt,i),[u.memoizedState,i]},useRef:function(i){var r=vn();return i={current:i},r.memoizedState=i},useState:function(i){i=pm(i);var r=i.queue,o=Z_.bind(null,Nt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:vm,useDeferredValue:function(i,r){var o=vn();return _m(o,i,r)},useTransition:function(){var i=pm(!1);return i=Y_.bind(null,Nt,i.queue,!0,!1),vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Nt,f=vn();if(Ft){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),re===null)throw Error(s(349));(kt&127)!==0||b_(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,U_(S_.bind(null,u,p,i),[i]),u.flags|=2048,co(9,{destroy:void 0},A_.bind(null,u,p,o,r),null),o},useId:function(){var i=vn(),r=re.identifierPrefix;if(Ft){var o=Gi,u=qi;o=(u&~(1<<32-Ee(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=ch++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=Yx++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Em,useFormState:M_,useActionState:M_,useOptimistic:function(i){var r=vn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=bm.bind(null,Nt,!0,o),o.dispatch=r,[i,r]},useMemoCache:fm,useCacheRefresh:function(){return vn().memoizedState=Jx.bind(null,Nt)},useEffectEvent:function(i){var r=vn(),o={impl:i};return r.memoizedState=o,function(){if((Qt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Am={readContext:en,use:fh,useCallback:q_,useContext:en,useEffect:ym,useImperativeHandle:H_,useInsertionEffect:z_,useLayoutEffect:B_,useMemo:G_,useReducer:dh,useRef:k_,useState:function(){return dh(ds)},useDebugValue:vm,useDeferredValue:function(i,r){var o=Se();return K_(o,ee.memoizedState,i,r)},useTransition:function(){var i=dh(ds)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:Kl(i),r]},useSyncExternalStore:E_,useId:X_,useHostTransitionStatus:Em,useFormState:O_,useActionState:O_,useOptimistic:function(i,r){var o=Se();return x_(o,ee,i,r)},useMemoCache:fm,useCacheRefresh:W_};Am.useEffectEvent=j_;var n0={readContext:en,use:fh,useCallback:q_,useContext:en,useEffect:ym,useImperativeHandle:H_,useInsertionEffect:z_,useLayoutEffect:B_,useMemo:G_,useReducer:mm,useRef:k_,useState:function(){return mm(ds)},useDebugValue:vm,useDeferredValue:function(i,r){var o=Se();return ee===null?_m(o,i,r):K_(o,ee.memoizedState,i,r)},useTransition:function(){var i=mm(ds)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:Kl(i),r]},useSyncExternalStore:E_,useId:X_,useHostTransitionStatus:Em,useFormState:L_,useActionState:L_,useOptimistic:function(i,r){var o=Se();return ee!==null?x_(o,ee,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:fm,useCacheRefresh:W_};n0.useEffectEvent=j_;function Sm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var wm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=jn(),f=Zs(u);f.payload=r,o!=null&&(f.callback=o),r=Js(i,f,u),r!==null&&(xn(r,i,u),Fl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=jn(),f=Zs(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Js(i,f,u),r!==null&&(xn(r,i,u),Fl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=jn(),u=Zs(o);u.tag=2,r!=null&&(u.callback=r),r=Js(i,u,o),r!==null&&(xn(r,i,o),Fl(r,i,o))}};function i0(i,r,o,u,f,p,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,T):r.prototype&&r.prototype.isPureReactComponent?!Ol(o,u)||!Ol(f,p):!0}function s0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&wm.enqueueReplaceState(r,r.state,null)}function pa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function r0(i){$c(i)}function a0(i){console.error(i)}function o0(i){$c(i)}function yh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function l0(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Rm(i,r,o){return o=Zs(o),o.tag=3,o.payload={element:null},o.callback=function(){yh(i,r)},o}function u0(i){return i=Zs(i),i.tag=3,i}function c0(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;i.payload=function(){return f(p)},i.callback=function(){l0(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){l0(r,o,u),typeof f!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function eC(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&no(r,o,f,!0),o=Pn.current,o!==null){switch(o.tag){case 31:case 13:return Jn===null?Ih():o.alternate===null&&_e===0&&(_e=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===sh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Wm(i,u,f)),!1;case 22:return o.flags|=65536,u===sh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Wm(i,u,f)),!1}throw Error(s(435,o.tag))}return Wm(i,u,f),Ih(),!1}if(Ft)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Gd&&(i=Error(s(422),{cause:u}),kl(Qn(i,o)))):(u!==Gd&&(r=Error(s(423),{cause:u}),kl(Qn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Qn(u,o),f=Rm(i.stateNode,u,f),nm(i,f),_e!==4&&(_e=2)),!1;var p=Error(s(520),{cause:u});if(p=Qn(p,o),nu===null?nu=[p]:nu.push(p),_e!==4&&(_e=2),r===null)return!0;u=Qn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Rm(o.stateNode,u,i),nm(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(rr===null||!rr.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=u0(f),c0(f,i,o,u),nm(o,f),!1}o=o.return}while(o!==null);return!1}var xm=Error(s(461)),Le=!1;function nn(i,r,o,u){r.child=i===null?m_(r,null,o,u):da(r,i.child,o,u)}function h0(i,r,o,u,f){o=o.render;var p=r.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return ua(r),u=lm(i,r,o,T,p,f),A=um(),i!==null&&!Le?(cm(i,r,f),ms(i,r,f)):(Ft&&A&&Hd(r),r.flags|=1,nn(i,r,u,f),r.child)}function f0(i,r,o,u,f){if(i===null){var p=o.type;return typeof p=="function"&&!zd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,d0(i,r,p,u,f)):(i=Zc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!Pm(i,f)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ol,o(T,u)&&i.ref===r.ref)return ms(i,r,f)}return r.flags|=1,i=ls(p,u),i.ref=r.ref,i.return=r,r.child=i}function d0(i,r,o,u,f){if(i!==null){var p=i.memoizedProps;if(Ol(p,u)&&i.ref===r.ref)if(Le=!1,r.pendingProps=u=p,Pm(i,f))(i.flags&131072)!==0&&(Le=!0);else return r.lanes=i.lanes,ms(i,r,f)}return Cm(i,r,o,u,f)}function m0(i,r,o,u){var f=u.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~p}else u=0,r.child=null;return p0(i,r,p,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&nh(r,p!==null?p.cachePool:null),p!==null?y_(r,p):sm(),v_(r);else return u=r.lanes=536870912,p0(i,r,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(nh(r,p.cachePool),y_(r,p),er(),r.memoizedState=null):(i!==null&&nh(r,null),sm(),er());return nn(i,r,f,o),r.child}function Ql(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function p0(i,r,o,u,f){var p=Zd();return p=p===null?null:{parent:Oe._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&nh(r,null),sm(),v_(r),i!==null&&no(i,r,u,!0),r.childLanes=f,null}function vh(i,r){return r=Th({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function g0(i,r,o){return da(r,i.child,null,o),i=vh(r,r.pendingProps),i.flags|=2,Ln(r),r.memoizedState=null,i}function nC(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ft){if(u.mode==="hidden")return i=vh(r,u),r.lanes=536870912,Ql(null,i);if(am(r),(i=ae)?(i=CT(i,Zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ys!==null?{id:qi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},o=Jv(i),o.return=r,r.child=o,tn=r,ae=null)):i=null,i===null)throw Qs(r);return r.lanes=536870912,null}return vh(r,u)}var p=i.memoizedState;if(p!==null){var T=p.dehydrated;if(am(r),f)if(r.flags&256)r.flags&=-257,r=g0(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Le||no(i,r,o,!1),f=(o&i.childLanes)!==0,Le||f){if(u=re,u!==null&&(T=gl(u,o),T!==0&&T!==p.retryLane))throw p.retryLane=T,ra(i,T),xn(u,i,T),xm;Ih(),r=g0(i,r,o)}else i=p.treeContext,ae=ti(T.nextSibling),tn=r,Ft=!0,$s=null,Zn=!1,i!==null&&n_(r,i),r=vh(r,u),r.flags|=4096;return r}return i=ls(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function _h(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Cm(i,r,o,u,f){return ua(r),o=lm(i,r,o,u,void 0,f),u=um(),i!==null&&!Le?(cm(i,r,f),ms(i,r,f)):(Ft&&u&&Hd(r),r.flags|=1,nn(i,r,o,f),r.child)}function y0(i,r,o,u,f,p){return ua(r),r.updateQueue=null,o=T_(r,u,o,f),__(i),u=um(),i!==null&&!Le?(cm(i,r,p),ms(i,r,p)):(Ft&&u&&Hd(r),r.flags|=1,nn(i,r,o,p),r.child)}function v0(i,r,o,u,f){if(ua(r),r.stateNode===null){var p=Za,T=o.contextType;typeof T=="object"&&T!==null&&(p=en(T)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=wm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},tm(r),T=o.contextType,p.context=typeof T=="object"&&T!==null?en(T):Za,p.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Sm(r,o,T,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&wm.enqueueReplaceState(p,p.state,null),ql(r,u,p,f),Hl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){p=r.stateNode;var A=r.memoizedProps,N=pa(o,A);p.props=N;var G=p.context,Z=o.contextType;T=Za,typeof Z=="object"&&Z!==null&&(T=en(Z));var nt=o.getDerivedStateFromProps;Z=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||G!==T)&&s0(r,p,u,T),Ws=!1;var K=r.memoizedState;p.state=K,ql(r,u,p,f),Hl(),G=r.memoizedState,A||K!==G||Ws?(typeof nt=="function"&&(Sm(r,o,nt,u),G=r.memoizedState),(N=Ws||i0(r,o,N,u,K,G,T))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),p.props=u,p.state=G,p.context=T,u=N):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,em(i,r),T=r.memoizedProps,Z=pa(o,T),p.props=Z,nt=r.pendingProps,K=p.context,G=o.contextType,N=Za,typeof G=="object"&&G!==null&&(N=en(G)),A=o.getDerivedStateFromProps,(G=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==nt||K!==N)&&s0(r,p,u,N),Ws=!1,K=r.memoizedState,p.state=K,ql(r,u,p,f),Hl();var X=r.memoizedState;T!==nt||K!==X||Ws||i!==null&&i.dependencies!==null&&th(i.dependencies)?(typeof A=="function"&&(Sm(r,o,A,u),X=r.memoizedState),(Z=Ws||i0(r,o,Z,u,K,X,N)||i!==null&&i.dependencies!==null&&th(i.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,N),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,N)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),p.props=u,p.state=X,p.context=N,u=Z):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),u=!1)}return p=u,_h(i,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&u?(r.child=da(r,i.child,null,f),r.child=da(r,null,o,f)):nn(i,r,o,f),r.memoizedState=p.state,i=r.child):i=ms(i,r,f),i}function _0(i,r,o,u){return oa(),r.flags|=256,nn(i,r,o,u),r.child}var Im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dm(i){return{baseLanes:i,cachePool:l_()}}function Nm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Un),i}function T0(i,r,o){var u=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(Ae.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ft){if(f?tr(r):er(),(i=ae)?(i=CT(i,Zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ys!==null?{id:qi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},o=Jv(i),o.return=r,r.child=o,tn=r,ae=null)):i=null,i===null)throw Qs(r);return dp(i)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,f?(er(),f=r.mode,A=Th({mode:"hidden",children:A},f),u=aa(u,f,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=Dm(o),u.childLanes=Nm(i,T,o),r.memoizedState=Im,Ql(null,u)):(tr(r),Vm(r,A))}var N=i.memoizedState;if(N!==null&&(A=N.dehydrated,A!==null)){if(p)r.flags&256?(tr(r),r.flags&=-257,r=Mm(i,r,o)):r.memoizedState!==null?(er(),r.child=i.child,r.flags|=128,r=null):(er(),A=u.fallback,f=r.mode,u=Th({mode:"visible",children:u.children},f),A=aa(A,f,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,da(r,i.child,null,o),u=r.child,u.memoizedState=Dm(o),u.childLanes=Nm(i,T,o),r.memoizedState=Im,r=Ql(null,u));else if(tr(r),dp(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var G=T.dgst;T=G,u=Error(s(419)),u.stack="",u.digest=T,kl({value:u,source:null,stack:null}),r=Mm(i,r,o)}else if(Le||no(i,r,o,!1),T=(o&i.childLanes)!==0,Le||T){if(T=re,T!==null&&(u=gl(T,o),u!==0&&u!==N.retryLane))throw N.retryLane=u,ra(i,u),xn(T,i,u),xm;fp(A)||Ih(),r=Mm(i,r,o)}else fp(A)?(r.flags|=192,r.child=i.child,r=null):(i=N.treeContext,ae=ti(A.nextSibling),tn=r,Ft=!0,$s=null,Zn=!1,i!==null&&n_(r,i),r=Vm(r,u.children),r.flags|=4096);return r}return f?(er(),A=u.fallback,f=r.mode,N=i.child,G=N.sibling,u=ls(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,G!==null?A=ls(G,A):(A=aa(A,f,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,Ql(null,u),u=r.child,A=i.child.memoizedState,A===null?A=Dm(o):(f=A.cachePool,f!==null?(N=Oe._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=l_(),A={baseLanes:A.baseLanes|o,cachePool:f}),u.memoizedState=A,u.childLanes=Nm(i,T,o),r.memoizedState=Im,Ql(i.child,u)):(tr(r),o=i.child,i=o.sibling,o=ls(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Vm(i,r){return r=Th({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Th(i,r){return i=On(22,i,null,r),i.lanes=0,i}function Mm(i,r,o){return da(r,i.child,null,o),i=Vm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function E0(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),$d(i.return,r,o)}function Om(i,r,o,u,f,p){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:p}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=f,T.treeForkCount=p)}function b0(i,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;u=u.children;var T=Ae.current,A=(T&2)!==0;if(A?(T=T&1|2,r.flags|=128):T&=1,ot(Ae,T),nn(i,r,u,o),u=Ft?Ll:0,!A&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&E0(i,o,r);else if(i.tag===19)E0(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&lh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Om(r,!1,f,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&lh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Om(r,!0,o,null,p,u);break;case"together":Om(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ms(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),sr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(no(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ls(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ls(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Pm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&th(i)))}function iC(i,r,o){switch(r.tag){case 3:ye(r,r.stateNode.containerInfo),Xs(r,Oe,i.memoizedState.cache),oa();break;case 27:case 5:wt(r);break;case 4:ye(r,r.stateNode.containerInfo);break;case 10:Xs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,am(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(tr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?T0(i,r,o):(tr(r),i=ms(i,r,o),i!==null?i.sibling:null);tr(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(no(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return b0(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ot(Ae,Ae.current),u)break;return null;case 22:return r.lanes=0,m0(i,r,o,r.pendingProps);case 24:Xs(r,Oe,i.memoizedState.cache)}return ms(i,r,o)}function A0(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Le=!0;else{if(!Pm(i,o)&&(r.flags&128)===0)return Le=!1,iC(i,r,o);Le=(i.flags&131072)!==0}else Le=!1,Ft&&(r.flags&1048576)!==0&&e_(r,Ll,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=ha(r.elementType),r.type=i,typeof i=="function")zd(i)?(u=pa(i,u),r.tag=1,r=v0(null,r,i,u,o)):(r.tag=0,r=Cm(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===lt){r.tag=11,r=h0(null,r,i,u,o);break t}else if(f===C){r.tag=14,r=f0(null,r,i,u,o);break t}}throw r=Xt(i)||i,Error(s(306,r,""))}}return r;case 0:return Cm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=pa(u,r.pendingProps),v0(i,r,u,f,o);case 3:t:{if(ye(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var p=r.memoizedState;f=p.element,em(i,r),ql(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Xs(r,Oe,u),u!==p.cache&&Qd(r,[Oe],o,!0),Hl(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=_0(i,r,u,o);break t}else if(u!==f){f=Qn(Error(s(424)),r),kl(f),r=_0(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ae=ti(i.firstChild),tn=r,Ft=!0,$s=null,Zn=!0,o=m_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(oa(),u===f){r=ms(i,r,o);break t}nn(i,r,u,o)}r=r.child}return r;case 26:return _h(i,r),i===null?(o=OT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ft||(o=r.type,i=r.pendingProps,u=Lh(xt.current).createElement(o),u[Ne]=r,u[Ke]=i,sn(u,o,i),Ve(u),r.stateNode=u):r.memoizedState=OT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return wt(r),i===null&&Ft&&(u=r.stateNode=NT(r.type,r.pendingProps,xt.current),tn=r,Zn=!0,f=ae,ur(r.type)?(mp=f,ae=ti(u.firstChild)):ae=f),nn(i,r,r.pendingProps.children,o),_h(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ft&&((f=u=ae)&&(u=MC(u,r.type,r.pendingProps,Zn),u!==null?(r.stateNode=u,tn=r,ae=ti(u.firstChild),Zn=!1,f=!0):f=!1),f||Qs(r)),wt(r),f=r.type,p=r.pendingProps,T=i!==null?i.memoizedProps:null,u=p.children,up(f,p)?u=null:T!==null&&up(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=lm(i,r,$x,null,null,o),cu._currentValue=f),_h(i,r),nn(i,r,u,o),r.child;case 6:return i===null&&Ft&&((i=o=ae)&&(o=OC(o,r.pendingProps,Zn),o!==null?(r.stateNode=o,tn=r,ae=null,i=!0):i=!1),i||Qs(r)),null;case 13:return T0(i,r,o);case 4:return ye(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=da(r,null,u,o):nn(i,r,u,o),r.child;case 11:return h0(i,r,r.type,r.pendingProps,o);case 7:return nn(i,r,r.pendingProps,o),r.child;case 8:return nn(i,r,r.pendingProps.children,o),r.child;case 12:return nn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Xs(r,r.type,u.value),nn(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ua(r),f=en(f),u=u(f),r.flags|=1,nn(i,r,u,o),r.child;case 14:return f0(i,r,r.type,r.pendingProps,o);case 15:return d0(i,r,r.type,r.pendingProps,o);case 19:return b0(i,r,o);case 31:return nC(i,r,o);case 22:return m0(i,r,o,r.pendingProps);case 24:return ua(r),u=en(Oe),i===null?(f=Zd(),f===null&&(f=re,p=Xd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:u,cache:f},tm(r),Xs(r,Oe,f)):((i.lanes&o)!==0&&(em(i,r),ql(r,null,null,o),Hl()),f=i.memoizedState,p=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Xs(r,Oe,u)):(u=p.cache,Xs(r,Oe,u),u!==f.cache&&Qd(r,[Oe],o,!0))),nn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ps(i){i.flags|=4}function Lm(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(X0())i.flags|=8192;else throw fa=sh,Jd}else i.flags&=-16777217}function S0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!jT(r))if(X0())i.flags|=8192;else throw fa=sh,Jd}function Eh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?xc():536870912,i.lanes|=r,po|=r)}function Xl(i,r){if(!Ft)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function sC(i,r,o){var u=r.pendingProps;switch(qd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),hs(Oe),ct(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(eo(r)?ps(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kd())),oe(r),null;case 26:var f=r.type,p=r.memoizedState;return i===null?(ps(r),p!==null?(oe(r),S0(r,p)):(oe(r),Lm(r,f,null,u,o))):p?p!==i.memoizedState?(ps(r),oe(r),S0(r,p)):(oe(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&ps(r),oe(r),Lm(r,f,i,u,o)),null;case 27:if(Gt(r),o=xt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ps(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}i=ft.current,eo(r)?i_(r):(i=NT(f,u,o),r.stateNode=i,ps(r))}return oe(r),null;case 5:if(Gt(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ps(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(p=ft.current,eo(r))i_(r);else{var T=Lh(xt.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}p[Ne]=r,p[Ke]=u;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=p;t:switch(sn(p,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ps(r)}}return oe(r),Lm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ps(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=xt.current,eo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=tn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Ne]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||TT(i.nodeValue,o)),i||Qs(r,!0)}else i=Lh(i).createTextNode(u),i[Ne]=r,r.stateNode=i}return oe(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=eo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Ne]=r}else oa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),i=!1}else o=Kd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Ln(r),r):(Ln(r),null);if((r.flags&128)!==0)throw Error(s(558))}return oe(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=eo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ne]=r}else oa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=Kd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Ln(r),r):(Ln(r),null)}return Ln(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Eh(r,r.updateQueue),oe(r),null);case 4:return ct(),i===null&&sp(r.stateNode.containerInfo),oe(r),null;case 10:return hs(r.type),oe(r),null;case 19:if(et(Ae),u=r.memoizedState,u===null)return oe(r),null;if(f=(r.flags&128)!==0,p=u.rendering,p===null)if(f)Xl(u,!1);else{if(_e!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=lh(i),p!==null){for(r.flags|=128,Xl(u,!1),i=p.updateQueue,r.updateQueue=i,Eh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Zv(o,i),o=o.sibling;return ot(Ae,Ae.current&1|2),Ft&&us(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&gn()>Rh&&(r.flags|=128,f=!0,Xl(u,!1),r.lanes=4194304)}else{if(!f)if(i=lh(p),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Eh(r,i),Xl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ft)return oe(r),null}else 2*gn()-u.renderingStartTime>Rh&&o!==536870912&&(r.flags|=128,f=!0,Xl(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(i=u.last,i!==null?i.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=gn(),i.sibling=null,o=Ae.current,ot(Ae,f?o&1|2:o&1),Ft&&us(r,u.treeForkCount),i):(oe(r),null);case 22:case 23:return Ln(r),rm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),o=r.updateQueue,o!==null&&Eh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&et(ca),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),hs(Oe),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function rC(i,r){switch(qd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return hs(Oe),ct(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Gt(r),null;case 31:if(r.memoizedState!==null){if(Ln(r),r.alternate===null)throw Error(s(340));oa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Ln(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));oa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return et(Ae),null;case 4:return ct(),null;case 10:return hs(r.type),null;case 22:case 23:return Ln(r),rm(),i!==null&&et(ca),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return hs(Oe),null;case 25:return null;default:return null}}function w0(i,r){switch(qd(r),r.tag){case 3:hs(Oe),ct();break;case 26:case 27:case 5:Gt(r);break;case 4:ct();break;case 31:r.memoizedState!==null&&Ln(r);break;case 13:Ln(r);break;case 19:et(Ae);break;case 10:hs(r.type);break;case 22:case 23:Ln(r),rm(),i!==null&&et(ca);break;case 24:hs(Oe)}}function Wl(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var p=o.create,T=o.inst;u=p(),T.destroy=u}o=o.next}while(o!==f)}}catch(A){Jt(r,r.return,A)}}function nr(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=r;var N=o,G=A;try{G()}catch(Z){Jt(f,N,Z)}}}u=u.next}while(u!==p)}}catch(Z){Jt(r,r.return,Z)}}function R0(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{g_(r,o)}catch(u){Jt(i,i.return,u)}}}function x0(i,r,o){o.props=pa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Jt(i,r,u)}}function Zl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Jt(i,r,f)}}function Ki(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Jt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Jt(i,r,f)}else o.current=null}function C0(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Jt(i,i.return,f)}}function km(i,r,o){try{var u=i.stateNode;xC(u,i.type,o,r),u[Ke]=r}catch(f){Jt(i,i.return,f)}}function I0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ur(i.type)||i.tag===4}function Um(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||I0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ur(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function jm(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=di));else if(u!==4&&(u===27&&ur(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(jm(i,r,o),i=i.sibling;i!==null;)jm(i,r,o),i=i.sibling}function bh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&ur(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(bh(i,r,o),i=i.sibling;i!==null;)bh(i,r,o),i=i.sibling}function D0(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);sn(r,u,o),r[Ne]=i,r[Ke]=o}catch(p){Jt(i,i.return,p)}}var gs=!1,ke=!1,zm=!1,N0=typeof WeakSet=="function"?WeakSet:Set,$e=null;function aC(i,r){if(i=i.containerInfo,op=Hh,i=Hv(i),Md(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var T=0,A=-1,N=-1,G=0,Z=0,nt=i,K=null;e:for(;;){for(var X;nt!==o||f!==0&&nt.nodeType!==3||(A=T+f),nt!==p||u!==0&&nt.nodeType!==3||(N=T+u),nt.nodeType===3&&(T+=nt.nodeValue.length),(X=nt.firstChild)!==null;)K=nt,nt=X;for(;;){if(nt===i)break e;if(K===o&&++G===f&&(A=T),K===p&&++Z===u&&(N=T),(X=nt.nextSibling)!==null)break;nt=K,K=nt.parentNode}nt=X}o=A===-1||N===-1?null:{start:A,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(lp={focusedElem:i,selectionRange:o},Hh=!1,$e=r;$e!==null;)if(r=$e,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,$e=i;else for(;$e!==null;){switch(r=$e,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var pt=pa(o.type,f);i=u.getSnapshotBeforeUpdate(pt,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(Tt){Jt(o,o.return,Tt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)hp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":hp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,$e=i;break}$e=r.return}}function V0(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:vs(i,o),u&4&&Wl(5,o);break;case 1:if(vs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Jt(o,o.return,T)}else{var f=pa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Jt(o,o.return,T)}}u&64&&R0(o),u&512&&Zl(o,o.return);break;case 3:if(vs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{g_(i,r)}catch(T){Jt(o,o.return,T)}}break;case 27:r===null&&u&4&&D0(o);case 26:case 5:vs(i,o),r===null&&u&4&&C0(o),u&512&&Zl(o,o.return);break;case 12:vs(i,o);break;case 31:vs(i,o),u&4&&P0(i,o);break;case 13:vs(i,o),u&4&&L0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=pC.bind(null,o),PC(i,o))));break;case 22:if(u=o.memoizedState!==null||gs,!u){r=r!==null&&r.memoizedState!==null||ke,f=gs;var p=ke;gs=u,(ke=r)&&!p?_s(i,o,(o.subtreeFlags&8772)!==0):vs(i,o),gs=f,ke=p}break;case 30:break;default:vs(i,o)}}function M0(i){var r=i.alternate;r!==null&&(i.alternate=null,M0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ua(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var he=null,An=!1;function ys(i,r,o){for(o=o.child;o!==null;)O0(i,r,o),o=o.sibling}function O0(i,r,o){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(ui,o)}catch{}switch(o.tag){case 26:ke||Ki(o,r),ys(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ke||Ki(o,r);var u=he,f=An;ur(o.type)&&(he=o.stateNode,An=!1),ys(i,r,o),ou(o.stateNode),he=u,An=f;break;case 5:ke||Ki(o,r);case 6:if(u=he,f=An,he=null,ys(i,r,o),he=u,An=f,he!==null)if(An)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(o.stateNode)}catch(p){Jt(o,r,p)}else try{he.removeChild(o.stateNode)}catch(p){Jt(o,r,p)}break;case 18:he!==null&&(An?(i=he,RT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ao(i)):RT(he,o.stateNode));break;case 4:u=he,f=An,he=o.stateNode.containerInfo,An=!0,ys(i,r,o),he=u,An=f;break;case 0:case 11:case 14:case 15:nr(2,o,r),ke||nr(4,o,r),ys(i,r,o);break;case 1:ke||(Ki(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&x0(o,r,u)),ys(i,r,o);break;case 21:ys(i,r,o);break;case 22:ke=(u=ke)||o.memoizedState!==null,ys(i,r,o),ke=u;break;default:ys(i,r,o)}}function P0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ao(i)}catch(o){Jt(r,r.return,o)}}}function L0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ao(i)}catch(o){Jt(r,r.return,o)}}function oC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new N0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new N0),r;default:throw Error(s(435,i.tag))}}function Ah(i,r){var o=oC(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=gC.bind(null,i,u);u.then(f,f)}})}function Sn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=i,T=r,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(ur(A.type)){he=A.stateNode,An=!1;break t}break;case 5:he=A.stateNode,An=!1;break t;case 3:case 4:he=A.stateNode.containerInfo,An=!0;break t}A=A.return}if(he===null)throw Error(s(160));O0(p,T,f),he=null,An=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)k0(r,i),r=r.sibling}var _i=null;function k0(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Sn(r,i),wn(i),u&4&&(nr(3,i,i.return),Wl(3,i),nr(5,i,i.return));break;case 1:Sn(r,i),wn(i),u&512&&(ke||o===null||Ki(o,o.return)),u&64&&gs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=_i;if(Sn(r,i),wn(i),u&512&&(ke||o===null||Ki(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Vi]||p[Ne]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),sn(p,u,o),p[Ne]=i,Ve(p),u=p;break t;case"link":var T=kT("link","href",f).get(u+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(p=T[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break e}}p=f.createElement(u),sn(p,u,o),f.head.appendChild(p);break;case"meta":if(T=kT("meta","content",f).get(u+(o.content||""))){for(A=0;A<T.length;A++)if(p=T[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break e}}p=f.createElement(u),sn(p,u,o),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[Ne]=i,Ve(p),u=p}i.stateNode=u}else UT(f,i.type,i.stateNode);else i.stateNode=LT(f,u,i.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?UT(f,i.type,i.stateNode):LT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&km(i,i.memoizedProps,o.memoizedProps)}break;case 27:Sn(r,i),wn(i),u&512&&(ke||o===null||Ki(o,o.return)),o!==null&&u&4&&km(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Sn(r,i),wn(i),u&512&&(ke||o===null||Ki(o,o.return)),i.flags&32){f=i.stateNode;try{bn(f,"")}catch(pt){Jt(i,i.return,pt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,km(i,f,o!==null?o.memoizedProps:f)),u&1024&&(zm=!0);break;case 6:if(Sn(r,i),wn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(pt){Jt(i,i.return,pt)}}break;case 3:if(jh=null,f=_i,_i=kh(r.containerInfo),Sn(r,i),_i=f,wn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ao(r.containerInfo)}catch(pt){Jt(i,i.return,pt)}zm&&(zm=!1,U0(i));break;case 4:u=_i,_i=kh(i.stateNode.containerInfo),Sn(r,i),wn(i),_i=u;break;case 12:Sn(r,i),wn(i);break;case 31:Sn(r,i),wn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ah(i,u)));break;case 13:Sn(r,i),wn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(wh=gn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ah(i,u)));break;case 22:f=i.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,G=gs,Z=ke;if(gs=G||f,ke=Z||N,Sn(r,i),ke=Z,gs=G,wn(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||N||gs||ke||ga(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){N=o=r;try{if(p=N.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=N.stateNode;var nt=N.memoizedProps.style,K=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(pt){Jt(N,N.return,pt)}}}else if(r.tag===6){if(o===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(pt){Jt(N,N.return,pt)}}}else if(r.tag===18){if(o===null){N=r;try{var X=N.stateNode;f?xT(X,!0):xT(N.stateNode,!1)}catch(pt){Jt(N,N.return,pt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Ah(i,o))));break;case 19:Sn(r,i),wn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ah(i,u)));break;case 30:break;case 21:break;default:Sn(r,i),wn(i)}}function wn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(I0(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=Um(i);bh(i,p,f);break;case 5:var T=o.stateNode;o.flags&32&&(bn(T,""),o.flags&=-33);var A=Um(i);bh(i,A,T);break;case 3:case 4:var N=o.stateNode.containerInfo,G=Um(i);jm(i,G,N);break;default:throw Error(s(161))}}catch(Z){Jt(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function U0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;U0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function vs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)V0(i,r.alternate,r),r=r.sibling}function ga(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:nr(4,r,r.return),ga(r);break;case 1:Ki(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&x0(r,r.return,o),ga(r);break;case 27:ou(r.stateNode);case 26:case 5:Ki(r,r.return),ga(r);break;case 22:r.memoizedState===null&&ga(r);break;case 30:ga(r);break;default:ga(r)}i=i.sibling}}function _s(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:_s(f,p,o),Wl(4,p);break;case 1:if(_s(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Jt(u,u.return,G)}if(u=p,f=u.updateQueue,f!==null){var A=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)p_(N[f],A)}catch(G){Jt(u,u.return,G)}}o&&T&64&&R0(p),Zl(p,p.return);break;case 27:D0(p);case 26:case 5:_s(f,p,o),o&&u===null&&T&4&&C0(p),Zl(p,p.return);break;case 12:_s(f,p,o);break;case 31:_s(f,p,o),o&&T&4&&P0(f,p);break;case 13:_s(f,p,o),o&&T&4&&L0(f,p);break;case 22:p.memoizedState===null&&_s(f,p,o),Zl(p,p.return);break;case 30:break;default:_s(f,p,o)}r=r.sibling}}function Bm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ul(o))}function Fm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ul(i))}function Ti(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)j0(i,r,o,u),r=r.sibling}function j0(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(i,r,o,u),f&2048&&Wl(9,r);break;case 1:Ti(i,r,o,u);break;case 3:Ti(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ul(i)));break;case 12:if(f&2048){Ti(i,r,o,u),i=r.stateNode;try{var p=r.memoizedProps,T=p.id,A=p.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){Jt(r,r.return,N)}}else Ti(i,r,o,u);break;case 31:Ti(i,r,o,u);break;case 13:Ti(i,r,o,u);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?Ti(i,r,o,u):Jl(i,r):p._visibility&2?Ti(i,r,o,u):(p._visibility|=2,ho(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Bm(T,r);break;case 24:Ti(i,r,o,u),f&2048&&Fm(r.alternate,r);break;default:Ti(i,r,o,u)}}function ho(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,T=r,A=o,N=u,G=T.flags;switch(T.tag){case 0:case 11:case 15:ho(p,T,A,N,f),Wl(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?ho(p,T,A,N,f):Jl(p,T):(Z._visibility|=2,ho(p,T,A,N,f)),f&&G&2048&&Bm(T.alternate,T);break;case 24:ho(p,T,A,N,f),f&&G&2048&&Fm(T.alternate,T);break;default:ho(p,T,A,N,f)}r=r.sibling}}function Jl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:Jl(o,u),f&2048&&Bm(u.alternate,u);break;case 24:Jl(o,u),f&2048&&Fm(u.alternate,u);break;default:Jl(o,u)}r=r.sibling}}var tu=8192;function fo(i,r,o){if(i.subtreeFlags&tu)for(i=i.child;i!==null;)z0(i,r,o),i=i.sibling}function z0(i,r,o){switch(i.tag){case 26:fo(i,r,o),i.flags&tu&&i.memoizedState!==null&&YC(o,_i,i.memoizedState,i.memoizedProps);break;case 5:fo(i,r,o);break;case 3:case 4:var u=_i;_i=kh(i.stateNode.containerInfo),fo(i,r,o),_i=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=tu,tu=16777216,fo(i,r,o),tu=u):fo(i,r,o));break;default:fo(i,r,o)}}function B0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function eu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];$e=u,H0(u,i)}B0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)F0(i),i=i.sibling}function F0(i){switch(i.tag){case 0:case 11:case 15:eu(i),i.flags&2048&&nr(9,i,i.return);break;case 3:eu(i);break;case 12:eu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Sh(i)):eu(i);break;default:eu(i)}}function Sh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];$e=u,H0(u,i)}B0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:nr(8,r,r.return),Sh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Sh(r));break;default:Sh(r)}i=i.sibling}}function H0(i,r){for(;$e!==null;){var o=$e;switch(o.tag){case 0:case 11:case 15:nr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ul(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,$e=u;else t:for(o=i;$e!==null;){u=$e;var f=u.sibling,p=u.return;if(M0(u),u===o){$e=null;break t}if(f!==null){f.return=p,$e=f;break t}$e=p}}}var lC={getCacheForType:function(i){var r=en(Oe),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return en(Oe).controller.signal}},uC=typeof WeakMap=="function"?WeakMap:Map,Qt=0,re=null,Ot=null,kt=0,Zt=0,kn=null,ir=!1,mo=!1,Hm=!1,Ts=0,_e=0,sr=0,ya=0,qm=0,Un=0,po=0,nu=null,Rn=null,Gm=!1,wh=0,q0=0,Rh=1/0,xh=null,rr=null,He=0,ar=null,go=null,Es=0,Km=0,Ym=null,G0=null,iu=0,$m=null;function jn(){return(Qt&2)!==0&&kt!==0?kt&-kt:W.T!==null?tp():Cc()}function K0(){if(Un===0)if((kt&536870912)===0||Ft){var i=qr;qr<<=1,(qr&3932160)===0&&(qr=262144),Un=i}else Un=536870912;return i=Pn.current,i!==null&&(i.flags|=32),Un}function xn(i,r,o){(i===re&&(Zt===2||Zt===9)||i.cancelPendingCommit!==null)&&(yo(i,0),or(i,kt,Un,!1)),Gr(i,o),((Qt&2)===0||i!==re)&&(i===re&&((Qt&2)===0&&(ya|=o),_e===4&&or(i,kt,Un,!1)),Yi(i))}function Y0(i,r,o){if((Qt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ci(i,r),f=u?fC(i,r):Xm(i,r,!0),p=u;do{if(f===0){mo&&!u&&or(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!cC(o)){f=Xm(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var A=i;f=nu;var N=A.current.memoizedState.isDehydrated;if(N&&(yo(A,T).flags|=256),T=Xm(A,T,!1),T!==2){if(Hm&&!N){A.errorRecoveryDisabledLanes|=p,ya|=p,f=4;break t}p=Rn,Rn=f,p!==null&&(Rn===null?Rn=p:Rn.push.apply(Rn,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){yo(i,0),or(i,r,0,!0);break}t:{switch(u=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:or(u,r,Un,!ir);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=wh+300-gn(),10<f)){if(or(u,r,Un,!ir),Ii(u,0,!0)!==0)break t;Es=r,u.timeoutHandle=ST($0.bind(null,u,o,Rn,xh,Gm,r,Un,ya,po,ir,p,"Throttled",-0,0),f);break t}$0(u,o,Rn,xh,Gm,r,Un,ya,po,ir,p,null,-0,0)}}break}while(!0);Yi(i)}function $0(i,r,o,u,f,p,T,A,N,G,Z,nt,K,X){if(i.timeoutHandle=-1,nt=r.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},z0(r,p,nt);var pt=(p&62914560)===p?wh-gn():(p&4194048)===p?q0-gn():0;if(pt=$C(nt,pt),pt!==null){Es=p,i.cancelPendingCommit=pt(nT.bind(null,i,r,p,o,u,f,T,A,N,Z,nt,null,K,X)),or(i,p,T,!G);return}}nT(i,r,p,o,u,f,T,A,N)}function cC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!Mn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function or(i,r,o,u){r&=~qm,r&=~ya,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var p=31-Ee(f),T=1<<p;u[p]=-1,f&=~T}o!==0&&Kr(i,o,r)}function Ch(){return(Qt&6)===0?(su(0),!1):!0}function Qm(){if(Ot!==null){if(Zt===0)var i=Ot.return;else i=Ot,cs=la=null,hm(i),ao=null,zl=0,i=Ot;for(;i!==null;)w0(i.alternate,i),i=i.return;Ot=null}}function yo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,DC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Es=0,Qm(),re=i,Ot=o=ls(i.current,null),kt=r,Zt=0,kn=null,ir=!1,mo=ci(i,r),Hm=!1,po=Un=qm=ya=sr=_e=0,Rn=nu=null,Gm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-Ee(u),p=1<<f;r|=i[f],u&=~p}return Ts=r,Qc(),o}function Q0(i,r){Nt=null,W.H=$l,r===ro||r===ih?(r=h_(),Zt=3):r===Jd?(r=h_(),Zt=4):Zt=r===xm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kn=r,Ot===null&&(_e=1,yh(i,Qn(r,i.current)))}function X0(){var i=Pn.current;return i===null?!0:(kt&4194048)===kt?Jn===null:(kt&62914560)===kt||(kt&536870912)!==0?i===Jn:!1}function W0(){var i=W.H;return W.H=$l,i===null?$l:i}function Z0(){var i=W.A;return W.A=lC,i}function Ih(){_e=4,ir||(kt&4194048)!==kt&&Pn.current!==null||(mo=!0),(sr&134217727)===0&&(ya&134217727)===0||re===null||or(re,kt,Un,!1)}function Xm(i,r,o){var u=Qt;Qt|=2;var f=W0(),p=Z0();(re!==i||kt!==r)&&(xh=null,yo(i,r)),r=!1;var T=_e;t:do try{if(Zt!==0&&Ot!==null){var A=Ot,N=kn;switch(Zt){case 8:Qm(),T=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var G=Zt;if(Zt=0,kn=null,vo(i,A,N,G),o&&mo){T=0;break t}break;default:G=Zt,Zt=0,kn=null,vo(i,A,N,G)}}hC(),T=_e;break}catch(Z){Q0(i,Z)}while(!0);return r&&i.shellSuspendCounter++,cs=la=null,Qt=u,W.H=f,W.A=p,Ot===null&&(re=null,kt=0,Qc()),T}function hC(){for(;Ot!==null;)J0(Ot)}function fC(i,r){var o=Qt;Qt|=2;var u=W0(),f=Z0();re!==i||kt!==r?(xh=null,Rh=gn()+500,yo(i,r)):mo=ci(i,r);t:do try{if(Zt!==0&&Ot!==null){r=Ot;var p=kn;e:switch(Zt){case 1:Zt=0,kn=null,vo(i,r,p,1);break;case 2:case 9:if(u_(p)){Zt=0,kn=null,tT(r);break}r=function(){Zt!==2&&Zt!==9||re!==i||(Zt=7),Yi(i)},p.then(r,r);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:u_(p)?(Zt=0,kn=null,tT(r)):(Zt=0,kn=null,vo(i,r,p,7));break;case 5:var T=null;switch(Ot.tag){case 26:T=Ot.memoizedState;case 5:case 27:var A=Ot;if(T?jT(T):A.stateNode.complete){Zt=0,kn=null;var N=A.sibling;if(N!==null)Ot=N;else{var G=A.return;G!==null?(Ot=G,Dh(G)):Ot=null}break e}}Zt=0,kn=null,vo(i,r,p,5);break;case 6:Zt=0,kn=null,vo(i,r,p,6);break;case 8:Qm(),_e=6;break t;default:throw Error(s(462))}}dC();break}catch(Z){Q0(i,Z)}while(!0);return cs=la=null,W.H=u,W.A=f,Qt=o,Ot!==null?0:(re=null,kt=0,Qc(),_e)}function dC(){for(;Ot!==null&&!Rd();)J0(Ot)}function J0(i){var r=A0(i.alternate,i,Ts);i.memoizedProps=i.pendingProps,r===null?Dh(i):Ot=r}function tT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=y0(o,r,r.pendingProps,r.type,void 0,kt);break;case 11:r=y0(o,r,r.pendingProps,r.type.render,r.ref,kt);break;case 5:hm(r);default:w0(o,r),r=Ot=Zv(r,Ts),r=A0(o,r,Ts)}i.memoizedProps=i.pendingProps,r===null?Dh(i):Ot=r}function vo(i,r,o,u){cs=la=null,hm(r),ao=null,zl=0;var f=r.return;try{if(eC(i,f,r,o,kt)){_e=1,yh(i,Qn(o,i.current)),Ot=null;return}}catch(p){if(f!==null)throw Ot=f,p;_e=1,yh(i,Qn(o,i.current)),Ot=null;return}r.flags&32768?(Ft||u===1?i=!0:mo||(kt&536870912)!==0?i=!1:(ir=i=!0,(u===2||u===9||u===3||u===6)&&(u=Pn.current,u!==null&&u.tag===13&&(u.flags|=16384))),eT(r,i)):Dh(r)}function Dh(i){var r=i;do{if((r.flags&32768)!==0){eT(r,ir);return}i=r.return;var o=sC(r.alternate,r,Ts);if(o!==null){Ot=o;return}if(r=r.sibling,r!==null){Ot=r;return}Ot=r=i}while(r!==null);_e===0&&(_e=5)}function eT(i,r){do{var o=rC(i.alternate,i);if(o!==null){o.flags&=32767,Ot=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ot=i;return}Ot=i=o}while(i!==null);_e=6,Ot=null}function nT(i,r,o,u,f,p,T,A,N){i.cancelPendingCommit=null;do Nh();while(He!==0);if((Qt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Ud,Id(i,o,p,T,A,N),i===re&&(Ot=re=null,kt=0),go=r,ar=i,Es=o,Km=p,Ym=f,G0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,yC(ks,function(){return oT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=rt.p,rt.p=2,T=Qt,Qt|=4;try{aC(i,r,o)}finally{Qt=T,rt.p=f,W.T=u}}He=1,iT(),sT(),rT()}}function iT(){if(He===1){He=0;var i=ar,r=go,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=rt.p;rt.p=2;var f=Qt;Qt|=4;try{k0(r,i);var p=lp,T=Hv(i.containerInfo),A=p.focusedElem,N=p.selectionRange;if(T!==A&&A&&A.ownerDocument&&Fv(A.ownerDocument.documentElement,A)){if(N!==null&&Md(A)){var G=N.start,Z=N.end;if(Z===void 0&&(Z=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(Z,A.value.length);else{var nt=A.ownerDocument||document,K=nt&&nt.defaultView||window;if(K.getSelection){var X=K.getSelection(),pt=A.textContent.length,Tt=Math.min(N.start,pt),ie=N.end===void 0?Tt:Math.min(N.end,pt);!X.extend&&Tt>ie&&(T=ie,ie=Tt,Tt=T);var B=Bv(A,Tt),P=Bv(A,ie);if(B&&P&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var q=nt.createRange();q.setStart(B.node,B.offset),X.removeAllRanges(),Tt>ie?(X.addRange(q),X.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),X.addRange(q))}}}}for(nt=[],X=A;X=X.parentNode;)X.nodeType===1&&nt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<nt.length;A++){var tt=nt[A];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Hh=!!op,lp=op=null}finally{Qt=f,rt.p=u,W.T=o}}i.current=r,He=2}}function sT(){if(He===2){He=0;var i=ar,r=go,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=rt.p;rt.p=2;var f=Qt;Qt|=4;try{V0(i,r.alternate,r)}finally{Qt=f,rt.p=u,W.T=o}}He=3}}function rT(){if(He===4||He===3){He=0,Ec();var i=ar,r=go,o=Es,u=G0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?He=5:(He=0,go=ar=null,aT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(rr=null),ss(o),r=r.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(ui,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,f=rt.p,rt.p=2,W.T=null;try{for(var p=i.onRecoverableError,T=0;T<u.length;T++){var A=u[T];p(A.value,{componentStack:A.stack})}}finally{W.T=r,rt.p=f}}(Es&3)!==0&&Nh(),Yi(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===$m?iu++:(iu=0,$m=i):iu=0,su(0)}}function aT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ul(r)))}function Nh(){return iT(),sT(),rT(),oT()}function oT(){if(He!==5)return!1;var i=ar,r=Km;Km=0;var o=ss(Es),u=W.T,f=rt.p;try{rt.p=32>o?32:o,W.T=null,o=Ym,Ym=null;var p=ar,T=Es;if(He=0,go=ar=null,Es=0,(Qt&6)!==0)throw Error(s(331));var A=Qt;if(Qt|=4,F0(p.current),j0(p,p.current,T,o),Qt=A,su(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(ui,p)}catch{}return!0}finally{rt.p=f,W.T=u,aT(i,r)}}function lT(i,r,o){r=Qn(o,r),r=Rm(i.stateNode,r,2),i=Js(i,r,2),i!==null&&(Gr(i,2),Yi(i))}function Jt(i,r,o){if(i.tag===3)lT(i,i,o);else for(;r!==null;){if(r.tag===3){lT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rr===null||!rr.has(u))){i=Qn(o,i),o=u0(2),u=Js(r,o,2),u!==null&&(c0(o,u,r,i),Gr(u,2),Yi(u));break}}r=r.return}}function Wm(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new uC;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Hm=!0,f.add(o),i=mC.bind(null,i,r,o),r.then(i,i))}function mC(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,re===i&&(kt&o)===o&&(_e===4||_e===3&&(kt&62914560)===kt&&300>gn()-wh?(Qt&2)===0&&yo(i,0):qm|=o,po===kt&&(po=0)),Yi(i)}function uT(i,r){r===0&&(r=xc()),i=ra(i,r),i!==null&&(Gr(i,r),Yi(i))}function pC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),uT(i,o)}function gC(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),uT(i,o)}function yC(i,r){return Fe(i,r)}var Vh=null,_o=null,Zm=!1,Mh=!1,Jm=!1,lr=0;function Yi(i){i!==_o&&i.next===null&&(_o===null?Vh=_o=i:_o=_o.next=i),Mh=!0,Zm||(Zm=!0,_C())}function su(i,r){if(!Jm&&Mh){Jm=!0;do for(var o=!1,u=Vh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var T=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-Ee(42|i)+1)-1,p&=f&~(T&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,dT(u,p))}else p=kt,p=Ii(u,u===re?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ci(u,p)||(o=!0,dT(u,p));u=u.next}while(o);Jm=!1}}function vC(){cT()}function cT(){Mh=Zm=!1;var i=0;lr!==0&&IC()&&(i=lr);for(var r=gn(),o=null,u=Vh;u!==null;){var f=u.next,p=hT(u,r);p===0?(u.next=null,o===null?Vh=f:o.next=f,f===null&&(_o=o)):(o=u,(i!==0||(p&3)!==0)&&(Mh=!0)),u=f}He!==0&&He!==5||su(i),lr!==0&&(lr=0)}function hT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var T=31-Ee(p),A=1<<T,N=f[T];N===-1?((A&o)===0||(A&u)!==0)&&(f[T]=Cd(A,r)):N<=r&&(i.expiredLanes|=A),p&=~A}if(r=re,o=kt,o=Ii(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Zt===2||Zt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ls(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ci(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Ls(u),ss(o)){case 2:case 8:o=ml;break;case 32:o=ks;break;case 268435456:o=bc;break;default:o=ks}return u=fT.bind(null,i),o=Fe(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Ls(u),i.callbackPriority=2,i.callbackNode=null,2}function fT(i,r){if(He!==0&&He!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Nh()&&i.callbackNode!==o)return null;var u=kt;return u=Ii(i,i===re?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Y0(i,u,r),hT(i,gn()),i.callbackNode!=null&&i.callbackNode===o?fT.bind(null,i):null)}function dT(i,r){if(Nh())return null;Y0(i,r,!0)}function _C(){NC(function(){(Qt&6)!==0?Fe(dl,vC):cT()})}function tp(){if(lr===0){var i=io;i===0&&(i=xi,xi<<=1,(xi&261888)===0&&(xi=256)),lr=i}return lr}function mT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Fa(""+i)}function pT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function TC(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var p=mT((f[Ke]||null).action),T=u.submitter;T&&(r=(r=T[Ke]||null)?mT(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var A=new zi("action","action",null,u,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(lr!==0){var N=T?pT(f,T):new FormData(f);Tm(o,{pending:!0,data:N,method:f.method,action:p},null,N)}}else typeof p=="function"&&(A.preventDefault(),N=T?pT(f,T):new FormData(f),Tm(o,{pending:!0,data:N,method:f.method,action:p},p,N))},currentTarget:f}]})}}for(var ep=0;ep<kd.length;ep++){var np=kd[ep],EC=np.toLowerCase(),bC=np[0].toUpperCase()+np.slice(1);vi(EC,"on"+bC)}vi(Kv,"onAnimationEnd"),vi(Yv,"onAnimationIteration"),vi($v,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(Ux,"onTransitionRun"),vi(jx,"onTransitionStart"),vi(zx,"onTransitionCancel"),vi(Qv,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function gT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var T=u.length-1;0<=T;T--){var A=u[T],N=A.instance,G=A.currentTarget;if(A=A.listener,N!==p&&f.isPropagationStopped())break t;p=A,f.currentTarget=G;try{p(f)}catch(Z){$c(Z)}f.currentTarget=null,p=N}else for(T=0;T<u.length;T++){if(A=u[T],N=A.instance,G=A.currentTarget,A=A.listener,N!==p&&f.isPropagationStopped())break t;p=A,f.currentTarget=G;try{p(f)}catch(Z){$c(Z)}f.currentTarget=null,p=N}}}}function Pt(i,r){var o=r[ka];o===void 0&&(o=r[ka]=new Set);var u=i+"__bubble";o.has(u)||(yT(r,i,2,!1),o.add(u))}function ip(i,r,o){var u=0;r&&(u|=4),yT(o,i,u,r)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function sp(i){if(!i[Oh]){i[Oh]=!0,yl.forEach(function(o){o!=="selectionchange"&&(AC.has(o)||ip(o,!1,i),ip(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Oh]||(r[Oh]=!0,ip("selectionchange",!1,r))}}function yT(i,r,o,u){switch(KT(r)){case 2:var f=WC;break;case 8:f=ZC;break;default:f=_p}o=f.bind(null,r,o,i),f=void 0,!Wr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function rp(i,r,o,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=u.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=Mi(A),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){u=p=T;continue t}A=A.parentNode}}u=u.return}Hs(function(){var G=p,Z=Gn(o),nt=[];t:{var K=Xv.get(i);if(K!==void 0){var X=zi,pt=i;switch(i){case"keypress":if(Jr(o)===0)break t;case"keydown":case"keyup":X=Gc;break;case"focusin":pt="focus",X=ea;break;case"focusout":pt="blur",X=ea;break;case"beforeblur":case"afterblur":X=ea;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case Kv:case Yv:case $v:X=Uc;break;case Qv:X=S;break;case"scroll":case"scrollend":X=Il;break;case"wheel":X=Y;break;case"copy":case"cut":case"paste":X=jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=os;break;case"toggle":case"beforetoggle":X=Dt}var Tt=(r&4)!==0,ie=!Tt&&(i==="scroll"||i==="scrollend"),B=Tt?K!==null?K+"Capture":null:K;Tt=[];for(var P=G,q;P!==null;){var tt=P;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||B===null||(tt=mi(P,B),tt!=null&&Tt.push(au(P,tt,q))),ie)break;P=P.return}0<Tt.length&&(K=new X(K,pt,null,o,Z),nt.push({event:K,listeners:Tt}))}}if((r&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",K&&o!==Rl&&(pt=o.relatedTarget||o.fromElement)&&(Mi(pt)||pt[Ni]))break t;if((X||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,X?(pt=o.relatedTarget||o.toElement,X=G,pt=pt?Mi(pt):null,pt!==null&&(ie=l(pt),Tt=pt.tag,pt!==ie||Tt!==5&&Tt!==27&&Tt!==6)&&(pt=null)):(X=null,pt=G),X!==pt)){if(Tt=Dl,tt="onMouseLeave",B="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(Tt=os,tt="onPointerLeave",B="onPointerEnter",P="pointer"),ie=X==null?K:Nn(X),q=pt==null?K:Nn(pt),K=new Tt(tt,P+"leave",X,o,Z),K.target=ie,K.relatedTarget=q,tt=null,Mi(Z)===G&&(Tt=new Tt(B,P+"enter",pt,o,Z),Tt.target=q,Tt.relatedTarget=ie,tt=Tt),ie=tt,X&&pt)e:{for(Tt=SC,B=X,P=pt,q=0,tt=B;tt;tt=Tt(tt))q++;tt=0;for(var vt=P;vt;vt=Tt(vt))tt++;for(;0<q-tt;)B=Tt(B),q--;for(;0<tt-q;)P=Tt(P),tt--;for(;q--;){if(B===P||P!==null&&B===P.alternate){Tt=B;break e}B=Tt(B),P=Tt(P)}Tt=null}else Tt=null;X!==null&&vT(nt,K,X,Tt,!1),pt!==null&&ie!==null&&vT(nt,ie,pt,Tt,!0)}}t:{if(K=G?Nn(G):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Kt=Pv;else if(Mv(K))if(Lv)Kt=Px;else{Kt=Mx;var gt=Vx}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Ba(G.elementType)&&(Kt=Pv):Kt=Ox;if(Kt&&(Kt=Kt(i,G))){Ov(nt,Kt,o,Z);break t}gt&&gt(i,K,G),i==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Al(K,"number",K.value)}switch(gt=G?Nn(G):window,i){case"focusin":(Mv(gt)||gt.contentEditable==="true")&&(Qa=gt,Od=G,Pl=null);break;case"focusout":Pl=Od=Qa=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,qv(nt,o,Z);break;case"selectionchange":if(kx)break;case"keydown":case"keyup":qv(nt,o,Z)}var Vt;if($t)t:{switch(i){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else $a?na(i,o)&&(Ut="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ut="onCompositionStart");Ut&&(Hi&&o.locale!=="ko"&&($a||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&$a&&(Vt=Cl()):(ji=Z,xl="value"in ji?ji.value:ji.textContent,$a=!0)),gt=Ph(G,Ut),0<gt.length&&(Ut=new Fi(Ut,i,null,o,Z),nt.push({event:Ut,listeners:gt}),Vt?Ut.data=Vt:(Vt=Ya(o),Vt!==null&&(Ut.data=Vt)))),(Vt=Yn?Cx(i,o):Ix(i,o))&&(Ut=Ph(G,"onBeforeInput"),0<Ut.length&&(gt=new Fi("onBeforeInput","beforeinput",null,o,Z),nt.push({event:gt,listeners:Ut}),gt.data=Vt)),TC(nt,i,G,o,Z)}gT(nt,r)})}function au(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Ph(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=mi(i,o),f!=null&&u.unshift(au(i,f,p)),f=mi(i,r),f!=null&&u.push(au(i,f,p))),i.tag===3)return u;i=i.return}return[]}function SC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function vT(i,r,o,u,f){for(var p=r._reactName,T=[];o!==null&&o!==u;){var A=o,N=A.alternate,G=A.stateNode;if(A=A.tag,N!==null&&N===u)break;A!==5&&A!==26&&A!==27||G===null||(N=G,f?(G=mi(o,p),G!=null&&T.unshift(au(o,G,N))):f||(G=mi(o,p),G!=null&&T.push(au(o,G,N)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var wC=/\r\n?/g,RC=/\u0000|\uFFFD/g;function _T(i){return(typeof i=="string"?i:""+i).replace(wC,`
`).replace(RC,"")}function TT(i,r){return r=_T(r),_T(i)===r}function ne(i,r,o,u,f,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||bn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&bn(i,""+u);break;case"className":Vn(i,"class",u);break;case"tabIndex":Vn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(i,o,u);break;case"style":wl(i,u,p);break;case"data":if(r!=="object"){Vn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Fa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&ne(i,r,"name",f.name,f,null),ne(i,r,"formEncType",f.formEncType,f,null),ne(i,r,"formMethod",f.formMethod,f,null),ne(i,r,"formTarget",f.formTarget,f,null)):(ne(i,r,"encType",f.encType,f,null),ne(i,r,"method",f.method,f,null),ne(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Fa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=di);break;case"onScroll":u!=null&&Pt("scroll",i);break;case"onScrollEnd":u!=null&&Pt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Fa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Pt("beforetoggle",i),Pt("toggle",i),ja(i,"popover",u);break;case"xlinkActuate":Me(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Me(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Me(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Me(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Me(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Me(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Me(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Me(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Me(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ja(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Pc.get(o)||o,ja(i,o,u))}}function ap(i,r,o,u,f,p){switch(o){case"style":wl(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?bn(i,u):(typeof u=="number"||typeof u=="bigint")&&bn(i,""+u);break;case"onScroll":u!=null&&Pt("scroll",i);break;case"onScrollEnd":u!=null&&Pt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[Ke]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):ja(i,o,u)}}}function sn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",i),Pt("load",i);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ne(i,r,p,T,o,null)}}f&&ne(i,r,"srcSet",o.srcSet,o,null),u&&ne(i,r,"src",o.src,o,null);return;case"input":Pt("invalid",i);var A=p=T=f=null,N=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":T=Z;break;case"checked":N=Z;break;case"defaultChecked":G=Z;break;case"value":p=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:ne(i,r,u,Z,o,null)}}Vc(i,p,A,N,G,T,f,!1);return;case"select":Pt("invalid",i),u=T=p=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":p=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:ne(i,r,f,A,o,null)}r=p,o=T,i.multiple=!!u,r!=null?js(i,!!u,r,!1):o!=null&&js(i,!!u,o,!0);return;case"textarea":Pt("invalid",i),p=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":f=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ne(i,r,T,A,o,null)}zs(i,u,f,p);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ne(i,r,N,u,o,null)}return;case"dialog":Pt("beforetoggle",i),Pt("toggle",i),Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":Pt("load",i);break;case"video":case"audio":for(u=0;u<ru.length;u++)Pt(ru[u],i);break;case"image":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"embed":case"source":case"link":Pt("error",i),Pt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ne(i,r,G,u,o,null)}return;default:if(Ba(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&ap(i,r,Z,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ne(i,r,A,u,o,null))}function xC(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,A=null,N=null,G=null,Z=null;for(X in o){var nt=o[X];if(o.hasOwnProperty(X)&&nt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=nt;default:u.hasOwnProperty(X)||ne(i,r,X,null,u,nt)}}for(var K in u){var X=u[K];if(nt=o[K],u.hasOwnProperty(K)&&(X!=null||nt!=null))switch(K){case"type":p=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":Z=X;break;case"value":T=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==nt&&ne(i,r,K,X,u,nt)}}za(i,T,A,N,G,Z,p,f);return;case"select":X=T=A=K=null;for(p in o)if(N=o[p],o.hasOwnProperty(p)&&N!=null)switch(p){case"value":break;case"multiple":X=N;default:u.hasOwnProperty(p)||ne(i,r,p,null,u,N)}for(f in u)if(p=u[f],N=o[f],u.hasOwnProperty(f)&&(p!=null||N!=null))switch(f){case"value":K=p;break;case"defaultValue":A=p;break;case"multiple":T=p;default:p!==N&&ne(i,r,f,p,u,N)}r=A,o=T,u=X,K!=null?js(i,!!o,K,!1):!!u!=!!o&&(r!=null?js(i,!!o,r,!0):js(i,!!o,o?[]:"",!1));return;case"textarea":X=K=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ne(i,r,A,null,u,f)}for(T in u)if(f=u[T],p=o[T],u.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":K=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&ne(i,r,T,f,u,p)}Mc(i,K,X);return;case"option":for(var pt in o)if(K=o[pt],o.hasOwnProperty(pt)&&K!=null&&!u.hasOwnProperty(pt))switch(pt){case"selected":i.selected=!1;break;default:ne(i,r,pt,null,u,K)}for(N in u)if(K=u[N],X=o[N],u.hasOwnProperty(N)&&K!==X&&(K!=null||X!=null))switch(N){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ne(i,r,N,K,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in o)K=o[Tt],o.hasOwnProperty(Tt)&&K!=null&&!u.hasOwnProperty(Tt)&&ne(i,r,Tt,null,u,K);for(G in u)if(K=u[G],X=o[G],u.hasOwnProperty(G)&&K!==X&&(K!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:ne(i,r,G,K,u,X)}return;default:if(Ba(r)){for(var ie in o)K=o[ie],o.hasOwnProperty(ie)&&K!==void 0&&!u.hasOwnProperty(ie)&&ap(i,r,ie,void 0,u,K);for(Z in u)K=u[Z],X=o[Z],!u.hasOwnProperty(Z)||K===X||K===void 0&&X===void 0||ap(i,r,Z,K,u,X);return}}for(var B in o)K=o[B],o.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&ne(i,r,B,null,u,K);for(nt in u)K=u[nt],X=o[nt],!u.hasOwnProperty(nt)||K===X||K==null&&X==null||ne(i,r,nt,K,u,X)}function ET(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],p=f.transferSize,T=f.initiatorType,A=f.duration;if(p&&A&&ET(T)){for(T=0,A=f.responseEnd,u+=1;u<o.length;u++){var N=o[u],G=N.startTime;if(G>A)break;var Z=N.transferSize,nt=N.initiatorType;Z&&ET(nt)&&(N=N.responseEnd,T+=Z*(N<A?1:(A-G)/(N-G)))}if(--u,r+=8*(p+T)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var op=null,lp=null;function Lh(i){return i.nodeType===9?i:i.ownerDocument}function bT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function up(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cp=null;function IC(){var i=window.event;return i&&i.type==="popstate"?i===cp?!1:(cp=i,!0):(cp=null,!1)}var ST=typeof setTimeout=="function"?setTimeout:void 0,DC=typeof clearTimeout=="function"?clearTimeout:void 0,wT=typeof Promise=="function"?Promise:void 0,NC=typeof queueMicrotask=="function"?queueMicrotask:typeof wT<"u"?function(i){return wT.resolve(null).then(i).catch(VC)}:ST;function VC(i){setTimeout(function(){throw i})}function ur(i){return i==="head"}function RT(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),Ao(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ou(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,ou(o);for(var p=o.firstChild;p;){var T=p.nextSibling,A=p.nodeName;p[Vi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=T}}else o==="body"&&ou(i.ownerDocument.body);o=f}while(o);Ao(r)}function xT(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function hp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":hp(o),Ua(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function MC(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Vi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=ti(i.nextSibling),i===null)break}return null}function OC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ti(i.nextSibling),i===null))return null;return i}function CT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ti(i.nextSibling),i===null))return null;return i}function fp(i){return i.data==="$?"||i.data==="$~"}function dp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function PC(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ti(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var mp=null;function IT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ti(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function DT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function NT(i,r,o){switch(r=Lh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function ou(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ua(i)}var ei=new Map,VT=new Set;function kh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var bs=rt.d;rt.d={f:LC,r:kC,D:UC,C:jC,L:zC,m:BC,X:HC,S:FC,M:qC};function LC(){var i=bs.f(),r=Ch();return i||r}function kC(i){var r=qn(i);r!==null&&r.tag===5&&r.type==="form"?Q_(r):bs.r(i)}var To=typeof document>"u"?null:document;function MT(i,r,o){var u=To;if(u&&typeof r=="string"&&r){var f=En(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),VT.has(f)||(VT.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),sn(r,"link",i),Ve(r),u.head.appendChild(r)))}}function UC(i){bs.D(i),MT("dns-prefetch",i,null)}function jC(i,r){bs.C(i,r),MT("preconnect",i,r)}function zC(i,r,o){bs.L(i,r,o);var u=To;if(u&&i&&r){var f='link[rel="preload"][as="'+En(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+En(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+En(o.imageSizes)+'"]')):f+='[href="'+En(i)+'"]';var p=f;switch(r){case"style":p=Eo(i);break;case"script":p=bo(i)}ei.has(p)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ei.set(p,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(lu(p))||r==="script"&&u.querySelector(uu(p))||(r=u.createElement("link"),sn(r,"link",i),Ve(r),u.head.appendChild(r)))}}function BC(i,r){bs.m(i,r);var o=To;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+En(u)+'"][href="'+En(i)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=bo(i)}if(!ei.has(p)&&(i=_({rel:"modulepreload",href:i},r),ei.set(p,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(uu(p)))return}u=o.createElement("link"),sn(u,"link",i),Ve(u),o.head.appendChild(u)}}}function FC(i,r,o){bs.S(i,r,o);var u=To;if(u&&i){var f=Oi(u).hoistableStyles,p=Eo(i);r=r||"default";var T=f.get(p);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(lu(p)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ei.get(p))&&pp(i,o);var N=T=u.createElement("link");Ve(N),sn(N,"link",i),N._p=new Promise(function(G,Z){N.onload=G,N.onerror=Z}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Uh(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(p,T)}}}function HC(i,r){bs.X(i,r);var o=To;if(o&&i){var u=Oi(o).hoistableScripts,f=bo(i),p=u.get(f);p||(p=o.querySelector(uu(f)),p||(i=_({src:i,async:!0},r),(r=ei.get(f))&&gp(i,r),p=o.createElement("script"),Ve(p),sn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function qC(i,r){bs.M(i,r);var o=To;if(o&&i){var u=Oi(o).hoistableScripts,f=bo(i),p=u.get(f);p||(p=o.querySelector(uu(f)),p||(i=_({src:i,async:!0,type:"module"},r),(r=ei.get(f))&&gp(i,r),p=o.createElement("script"),Ve(p),sn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function OT(i,r,o,u){var f=(f=xt.current)?kh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Eo(o.href),o=Oi(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Eo(o.href);var p=Oi(f).hoistableStyles,T=p.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,T),(p=f.querySelector(lu(i)))&&!p._p&&(T.instance=p,T.state.loading=5),ei.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ei.set(i,o),p||GC(f,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=bo(o),o=Oi(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Eo(i){return'href="'+En(i)+'"'}function lu(i){return'link[rel="stylesheet"]['+i+"]"}function PT(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function GC(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),sn(r,"link",o),Ve(r),i.head.appendChild(r))}function bo(i){return'[src="'+En(i)+'"]'}function uu(i){return"script[async]"+i}function LT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+En(o.href)+'"]');if(u)return r.instance=u,Ve(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ve(u),sn(u,"style",f),Uh(u,o.precedence,i),r.instance=u;case"stylesheet":f=Eo(o.href);var p=i.querySelector(lu(f));if(p)return r.state.loading|=4,r.instance=p,Ve(p),p;u=PT(o),(f=ei.get(f))&&pp(u,f),p=(i.ownerDocument||i).createElement("link"),Ve(p);var T=p;return T._p=new Promise(function(A,N){T.onload=A,T.onerror=N}),sn(p,"link",u),r.state.loading|=4,Uh(p,o.precedence,i),r.instance=p;case"script":return p=bo(o.src),(f=i.querySelector(uu(p)))?(r.instance=f,Ve(f),f):(u=o,(f=ei.get(p))&&(u=_({},o),gp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ve(f),sn(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Uh(u,o.precedence,i));return r.instance}function Uh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===r)p=A;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function pp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function gp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var jh=null;function kT(i,r,o){if(jh===null){var u=new Map,f=jh=new Map;f.set(o,u)}else f=jh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Vi]||p[Ne]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=i+T;var A=u.get(T);A?A.push(p):u.set(T,[p])}}return u}function UT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function KC(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function jT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function YC(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Eo(u.href),p=r.querySelector(lu(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=zh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,Ve(p);return}p=r.ownerDocument||r,u=PT(u),(f=ei.get(f))&&pp(u,f),p=p.createElement("link"),Ve(p);var T=p;T._p=new Promise(function(A,N){T.onload=A,T.onerror=N}),sn(p,"link",u),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=zh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var yp=0;function $C(i,r){return i.stylesheets&&i.count===0&&Fh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Fh(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&yp===0&&(yp=62500*CC());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Fh(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>yp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function zh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Bh=null;function Fh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Bh=new Map,r.forEach(QC,i),Bh=null,zh.call(i))}function QC(i,r){if(!(r.state.loading&4)){var o=Bh.get(i);if(o)var u=o.get(null);else{o=new Map,Bh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),p=o.get(T)||u,p===u&&o.set(null,f),o.set(T,f),this.count++,u=zh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var cu={$$typeof:$,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function XC(i,r,o,u,f,p,T,A,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function zT(i,r,o,u,f,p,T,A,N,G,Z,nt){return i=new XC(i,r,o,T,N,G,Z,nt,A),r=1,p===!0&&(r|=24),p=On(3,null,null,r),i.current=p,p.stateNode=i,r=Xd(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},tm(p),i}function BT(i){return i?(i=Za,i):Za}function FT(i,r,o,u,f,p){f=BT(f),u.context===null?u.context=f:u.pendingContext=f,u=Zs(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Js(i,u,r),o!==null&&(xn(o,i,r),Fl(o,i,r))}function HT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function vp(i,r){HT(i,r),(i=i.alternate)&&HT(i,r)}function qT(i){if(i.tag===13||i.tag===31){var r=ra(i,67108864);r!==null&&xn(r,i,67108864),vp(i,67108864)}}function GT(i){if(i.tag===13||i.tag===31){var r=jn();r=Yr(r);var o=ra(i,r);o!==null&&xn(o,i,r),vp(i,r)}}var Hh=!0;function WC(i,r,o,u){var f=W.T;W.T=null;var p=rt.p;try{rt.p=2,_p(i,r,o,u)}finally{rt.p=p,W.T=f}}function ZC(i,r,o,u){var f=W.T;W.T=null;var p=rt.p;try{rt.p=8,_p(i,r,o,u)}finally{rt.p=p,W.T=f}}function _p(i,r,o,u){if(Hh){var f=Tp(u);if(f===null)rp(i,r,u,qh,o),YT(i,u);else if(tI(f,i,r,o,u))u.stopPropagation();else if(YT(i,u),r&4&&-1<JC.indexOf(i)){for(;f!==null;){var p=qn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Ci(p.pendingLanes);if(T!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var N=1<<31-Ee(T);A.entanglements[1]|=N,T&=~N}Yi(p),(Qt&6)===0&&(Rh=gn()+500,su(0))}}break;case 31:case 13:A=ra(p,2),A!==null&&xn(A,p,2),Ch(),vp(p,2)}if(p=Tp(u),p===null&&rp(i,r,u,qh,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else rp(i,r,u,null,o)}}function Tp(i){return i=Gn(i),Ep(i)}var qh=null;function Ep(i){if(qh=null,i=Mi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return qh=i,null}function KT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hr()){case dl:return 2;case ml:return 8;case ks:case xd:return 32;case bc:return 268435456;default:return 32}default:return 32}}var bp=!1,cr=null,hr=null,fr=null,hu=new Map,fu=new Map,dr=[],JC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function YT(i,r){switch(i){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":hu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(r.pointerId)}}function du(i,r,o,u,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=qn(r),r!==null&&qT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function tI(i,r,o,u,f){switch(r){case"focusin":return cr=du(cr,i,r,o,u,f),!0;case"dragenter":return hr=du(hr,i,r,o,u,f),!0;case"mouseover":return fr=du(fr,i,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return hu.set(p,du(hu.get(p)||null,i,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,fu.set(p,du(fu.get(p)||null,i,r,o,u,f)),!0}return!1}function $T(i){var r=Mi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,hi(i.priority,function(){GT(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,hi(i.priority,function(){GT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Tp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Rl=u,o.target.dispatchEvent(u),Rl=null}else return r=qn(o),r!==null&&qT(r),i.blockedOn=o,!1;r.shift()}return!0}function QT(i,r,o){Gh(i)&&o.delete(r)}function eI(){bp=!1,cr!==null&&Gh(cr)&&(cr=null),hr!==null&&Gh(hr)&&(hr=null),fr!==null&&Gh(fr)&&(fr=null),hu.forEach(QT),fu.forEach(QT)}function Kh(i,r){i.blockedOn===r&&(i.blockedOn=null,bp||(bp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,eI)))}var Yh=null;function XT(i){Yh!==i&&(Yh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yh===i&&(Yh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Ep(u||o)===null)continue;break}var p=qn(o);p!==null&&(i.splice(r,3),r-=3,Tm(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Ao(i){function r(N){return Kh(N,i)}cr!==null&&Kh(cr,i),hr!==null&&Kh(hr,i),fr!==null&&Kh(fr,i),hu.forEach(r),fu.forEach(r);for(var o=0;o<dr.length;o++){var u=dr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<dr.length&&(o=dr[0],o.blockedOn===null);)$T(o),o.blockedOn===null&&dr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],T=f[Ke]||null;if(typeof p=="function")T||XT(o);else if(T){var A=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[Ke]||null)A=T.formAction;else if(Ep(f)!==null)continue}else A=T.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),XT(o)}}}function WT(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Ap(i){this._internalRoot=i}$h.prototype.render=Ap.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=jn();FT(o,u,i,r,null,null)},$h.prototype.unmount=Ap.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;FT(i.current,2,null,i,null,null),Ch(),r[Ni]=null}};function $h(i){this._internalRoot=i}$h.prototype.unstable_scheduleHydration=function(i){if(i){var r=Cc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<dr.length&&r!==0&&r<dr[o].priority;o++);dr.splice(o,0,i),o===0&&$T(i)}};var ZT=t.version;if(ZT!=="19.2.0")throw Error(s(527,ZT,"19.2.0"));rt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var nI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{ui=Qh.inject(nI),Ze=Qh}catch{}}return pu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=r0,p=a0,T=o0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=zT(i,1,!1,null,null,o,u,null,f,p,T,WT),i[Ni]=r.current,sp(i),new Ap(r)},pu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",p=r0,T=a0,A=o0,N=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(N=o.formState)),r=zT(i,1,!0,r,o??null,u,f,N,p,T,A,WT),r.context=BT(null),o=r.current,u=jn(),u=Yr(u),f=Zs(u),f.callback=null,Js(o,f,u),o=u,r.current.lanes=o,Gr(r,o),Yi(r),i[Ni]=r.current,sp(i),new $h(r)},pu.version="19.2.0",pu}var lE;function fI(){if(lE)return Rp.exports;lE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Rp.exports=hI(),Rp.exports}var dI=fI();var uE="popstate";function mI(n={}){function t(a,l){let{pathname:c="/",search:d="",hash:m=""}=Wo(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),rg("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof l=="string"?l:Uu(l))}function s(a,l){oi(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return gI(t,e,s,n)}function qe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function oi(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pI(){return Math.random().toString(36).substring(2,10)}function cE(n,t){return{usr:n.state,key:n.key,idx:t}}function rg(n,t,e=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Wo(t):t,state:e,key:t&&t.key||s||pI()}}function Uu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Wo(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let s=n.indexOf("?");s>=0&&(t.search=n.substring(s),n=n.substring(0,s)),n&&(t.pathname=n)}return t}function gI(n,t,e,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let k=y(),F=k==null?null:k-g;g=k,m&&m({action:d,location:U.location,delta:F})}function b(k,F){d="PUSH";let Q=rg(U.location,k,F);e&&e(Q,k),g=y()+1;let $=cE(Q,g),lt=U.createHref(Q);try{c.pushState($,"",lt)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;a.location.assign(lt)}l&&m&&m({action:d,location:U.location,delta:1})}function w(k,F){d="REPLACE";let Q=rg(U.location,k,F);e&&e(Q,k),g=y();let $=cE(Q,g),lt=U.createHref(Q);c.replaceState($,"",lt),l&&m&&m({action:d,location:U.location,delta:0})}function V(k){return yI(k)}let U={get action(){return d},get location(){return n(a,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(uE,_),m=k,()=>{a.removeEventListener(uE,_),m=null}},createHref(k){return t(a,k)},createURL:V,encodeLocation(k){let F=V(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:w,go(k){return c.go(k)}};return U}function yI(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),qe(e,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Uu(n);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function iS(n,t,e="/"){return vI(n,t,e,!1)}function vI(n,t,e,s){let a=typeof t=="string"?Wo(t):t,l=Rs(a.pathname||"/",e);if(l==null)return null;let c=sS(n);_I(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=DI(l);d=CI(c[m],g,s)}return d}function sS(n,t=[],e=[],s="",a=!1){let l=(c,d,m=a,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;qe(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=ws([s,y.relativePath]),b=e.concat(y);c.children&&c.children.length>0&&(qe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),sS(c.children,t,b,_,m)),!(c.path==null&&!c.index)&&t.push({path:_,score:RI(_,c.index),routesMeta:b})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of rS(c.path))l(c,d,!0,m)}),t}function rS(n){let t=n.split("/");if(t.length===0)return[];let[e,...s]=t,a=e.endsWith("?"),l=e.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=rS(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function _I(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:xI(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var TI=/^:[\w-]+$/,EI=3,bI=2,AI=1,SI=10,wI=-2,hE=n=>n==="*";function RI(n,t){let e=n.split("/"),s=e.length;return e.some(hE)&&(s+=wI),t&&(s+=bI),e.filter(a=>!hE(a)).reduce((a,l)=>a+(TI.test(l)?EI:l===""?AI:SI),s)}function xI(n,t){return n.length===t.length&&n.slice(0,-1).every((s,a)=>s===t[a])?n[n.length-1]-t[t.length-1]:0}function CI(n,t,e=!1){let{routesMeta:s}=n,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=Af({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),b=m.route;if(!_&&g&&e&&!s[s.length-1].route.index&&(_=Af({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:ws([l,_.pathname]),pathnameBase:PI(ws([l,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(l=ws([l,_.pathnameBase]))}return c}function Af(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,s]=II(n.path,n.caseSensitive,n.end),a=t.match(e);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:_},b)=>{if(y==="*"){let V=d[b]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const w=d[b];return _&&!w?g[y]=void 0:g[y]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function II(n,t=!1,e=!0){oi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function DI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Rs(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=n.charAt(e);return s&&s!=="/"?null:n.slice(e)||"/"}var NI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VI=n=>NI.test(n);function MI(n,t="/"){let{pathname:e,search:s="",hash:a=""}=typeof n=="string"?Wo(n):n,l;if(e)if(VI(e))l=e;else{if(e.includes("//")){let c=e;e=e.replace(/\/\/+/g,"/"),oi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${e}`)}e.startsWith("/")?l=fE(e.substring(1),"/"):l=fE(e,t)}else l=t;return{pathname:l,search:LI(s),hash:kI(a)}}function fE(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function Dp(n,t,e,s){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function aS(n){let t=OI(n);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function oS(n,t,e,s=!1){let a;typeof n=="string"?a=Wo(n):(a={...n},qe(!a.pathname||!a.pathname.includes("?"),Dp("?","pathname","search",a)),qe(!a.pathname||!a.pathname.includes("#"),Dp("#","pathname","hash",a)),qe(!a.search||!a.search.includes("#"),Dp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=e;else{let _=t.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}d=_>=0?t[_]:"/"}let m=MI(a,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&e.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var ws=n=>n.join("/").replace(/\/\/+/g,"/"),PI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),LI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,kI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function UI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function jI(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lS=["POST","PUT","PATCH","DELETE"];new Set(lS);var zI=["GET",...lS];new Set(zI);var Zo=j.createContext(null);Zo.displayName="DataRouter";var Zf=j.createContext(null);Zf.displayName="DataRouterState";j.createContext(!1);var uS=j.createContext({isTransitioning:!1});uS.displayName="ViewTransition";var BI=j.createContext(new Map);BI.displayName="Fetchers";var FI=j.createContext(null);FI.displayName="Await";var Ri=j.createContext(null);Ri.displayName="Navigation";var Jf=j.createContext(null);Jf.displayName="Location";var Os=j.createContext({outlet:null,matches:[],isDataRoute:!1});Os.displayName="Route";var Jg=j.createContext(null);Jg.displayName="RouteError";function HI(n,{relative:t}={}){qe(ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=j.useContext(Ri),{hash:a,pathname:l,search:c}=nc(n,{relative:t}),d=l;return e!=="/"&&(d=l==="/"?e:ws([e,l])),s.createHref({pathname:d,search:c,hash:a})}function ec(){return j.useContext(Jf)!=null}function Va(){return qe(ec(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Jf).location}var cS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hS(n){j.useContext(Ri).static||j.useLayoutEffect(n)}function fS(){let{isDataRoute:n}=j.useContext(Os);return n?n2():qI()}function qI(){qe(ec(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(Zo),{basename:t,navigator:e}=j.useContext(Ri),{matches:s}=j.useContext(Os),{pathname:a}=Va(),l=JSON.stringify(aS(s)),c=j.useRef(!1);return hS(()=>{c.current=!0}),j.useCallback((m,g={})=>{if(oi(c.current,cS),!c.current)return;if(typeof m=="number"){e.go(m);return}let y=oS(m,JSON.parse(l),a,g.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ws([t,y.pathname])),(g.replace?e.replace:e.push)(y,g.state,g)},[t,e,l,a,n])}j.createContext(null);function nc(n,{relative:t}={}){let{matches:e}=j.useContext(Os),{pathname:s}=Va(),a=JSON.stringify(aS(e));return j.useMemo(()=>oS(n,JSON.parse(a),s,t==="path"),[n,a,s,t])}function GI(n,t,e,s,a){qe(ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(Ri),{matches:c}=j.useContext(Os),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let Q=_&&_.path||"";dS(g,!_||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let b=Va(),w;w=b;let V=w.pathname||"/",U=V;if(y!=="/"){let Q=y.replace(/^\//,"").split("/");U="/"+V.replace(/^\//,"").split("/").slice(Q.length).join("/")}let k=iS(n,{pathname:U});return oi(_||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),oi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),XI(k&&k.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:ws([y,l.encodeLocation?l.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?y:ws([y,l.encodeLocation?l.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),c,e,s,a)}function KI(){let n=e2(),t=UI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),e?j.createElement("pre",{style:a},e):null,c)}var YI=j.createElement(KI,null),$I=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?j.createElement(Os.Provider,{value:this.props.routeContext},j.createElement(Jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QI({routeContext:n,match:t,children:e}){let s=j.useContext(Zo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Os.Provider,{value:n},e)}function XI(n,t=[],e=null,s=null,a=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let l=n,c=e?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);qe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,m=-1;if(e)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:b,errors:w}=e,V=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||V){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=e&&s?(y,_)=>{s(y,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:jI(e.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,b)=>{let w,V=!1,U=null,k=null;e&&(w=c&&_.route.id?c[_.route.id]:void 0,U=_.route.errorElement||YI,d&&(m<0&&b===0?(dS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,k=null):m===b&&(V=!0,k=_.route.hydrateFallbackElement||null)));let F=t.concat(l.slice(0,b+1)),Q=()=>{let $;return w?$=U:V?$=k:_.route.Component?$=j.createElement(_.route.Component,null):_.route.element?$=_.route.element:$=y,j.createElement(QI,{match:_,routeContext:{outlet:y,matches:F,isDataRoute:e!=null},children:$})};return e&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?j.createElement($I,{location:e.location,revalidation:e.revalidation,component:U,error:w,children:Q(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:g}):Q()},null)}function ty(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WI(n){let t=j.useContext(Zo);return qe(t,ty(n)),t}function ZI(n){let t=j.useContext(Zf);return qe(t,ty(n)),t}function JI(n){let t=j.useContext(Os);return qe(t,ty(n)),t}function ey(n){let t=JI(n),e=t.matches[t.matches.length-1];return qe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function t2(){return ey("useRouteId")}function e2(){let n=j.useContext(Jg),t=ZI("useRouteError"),e=ey("useRouteError");return n!==void 0?n:t.errors?.[e]}function n2(){let{router:n}=WI("useNavigate"),t=ey("useNavigate"),e=j.useRef(!1);return hS(()=>{e.current=!0}),j.useCallback(async(a,l={})=>{oi(e.current,cS),e.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:t,...l}))},[n,t])}var dE={};function dS(n,t,e){!t&&!dE[n]&&(dE[n]=!0,oi(!1,e))}j.memo(i2);function i2({routes:n,future:t,state:e,unstable_onError:s}){return GI(n,void 0,e,s,t)}function s2({basename:n="/",children:t=null,location:e,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){qe(!ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof e=="string"&&(e=Wo(e));let{pathname:g="/",search:y="",hash:_="",state:b=null,key:w="default"}=e,V=j.useMemo(()=>{let U=Rs(g,d);return U==null?null:{location:{pathname:U,search:y,hash:_,state:b,key:w},navigationType:s}},[d,g,y,_,b,w,s]);return oi(V!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:j.createElement(Ri.Provider,{value:m},j.createElement(Jf.Provider,{children:t,value:V}))}var of="get",lf="application/x-www-form-urlencoded";function td(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function r2(n){return td(n)&&n.tagName.toLowerCase()==="button"}function a2(n){return td(n)&&n.tagName.toLowerCase()==="form"}function o2(n){return td(n)&&n.tagName.toLowerCase()==="input"}function l2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function u2(n,t){return n.button===0&&(!t||t==="_self")&&!l2(n)}var Xh=null;function c2(){if(Xh===null)try{new FormData(document.createElement("form"),0),Xh=!1}catch{Xh=!0}return Xh}var h2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Np(n){return n!=null&&!h2.has(n)?(oi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lf}"`),null):n}function f2(n,t){let e,s,a,l,c;if(a2(n)){let d=n.getAttribute("action");s=d?Rs(d,t):null,e=n.getAttribute("method")||of,a=Np(n.getAttribute("enctype"))||lf,l=new FormData(n)}else if(r2(n)||o2(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(s=m?Rs(m,t):null,e=n.getAttribute("formmethod")||d.getAttribute("method")||of,a=Np(n.getAttribute("formenctype"))||Np(d.getAttribute("enctype"))||lf,l=new FormData(d,n),!c2()){let{name:g,type:y,value:_}=n;if(y==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,_)}}else{if(td(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=of,s=null,a=lf,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:e.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ny(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function d2(n,t,e){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${e}`:t&&Rs(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${e}`,s}async function m2(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function g2(n,t,e){let s=await Promise.all(n.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await m2(l,e);return c.links?c.links():[]}return[]}));return T2(s.flat(1).filter(p2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function mE(n,t,e,s,a,l){let c=(m,g)=>e[g]?m.route.id!==e[g].route.id:!0,d=(m,g)=>e[g].pathname!==m.pathname||e[g].route.path?.endsWith("*")&&e[g].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?t.filter((m,g)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function y2(n,t,{includeHydrateFallback:e}={}){return v2(n.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function v2(n){return[...new Set(n)]}function _2(n){let t={},e=Object.keys(n).sort();for(let s of e)t[s]=n[s];return t}function T2(n,t){let e=new Set;return new Set(t),n.reduce((s,a)=>{let l=JSON.stringify(_2(a));return e.has(l)||(e.add(l),s.push({key:l,link:a})),s},[])}function mS(){let n=j.useContext(Zo);return ny(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function E2(){let n=j.useContext(Zf);return ny(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var iy=j.createContext(void 0);iy.displayName="FrameworkContext";function pS(){let n=j.useContext(iy);return ny(n,"You must render this element inside a <HydratedRouter> element"),n}function b2(n,t){let e=j.useContext(iy),[s,a]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=t,b=j.useRef(null);j.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let U=F=>{F.forEach(Q=>{c(Q.isIntersecting)})},k=new IntersectionObserver(U,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[n]),j.useEffect(()=>{if(s){let U=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(U)}}},[s]);let w=()=>{a(!0)},V=()=>{a(!1),c(!1)};return e?n!=="intent"?[l,b,{}]:[l,b,{onFocus:gu(d,w),onBlur:gu(m,V),onMouseEnter:gu(g,w),onMouseLeave:gu(y,V),onTouchStart:gu(_,w)}]:[!1,b,{}]}function gu(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function A2({page:n,...t}){let{router:e}=mS(),s=j.useMemo(()=>iS(e.routes,n,e.basename),[e.routes,n,e.basename]);return s?j.createElement(w2,{page:n,matches:s,...t}):null}function S2(n){let{manifest:t,routeModules:e}=pS(),[s,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return g2(n,t,e).then(c=>{l||a(c)}),()=>{l=!0}},[n,t,e]),s}function w2({page:n,matches:t,...e}){let s=Va(),{manifest:a,routeModules:l}=pS(),{basename:c}=mS(),{loaderData:d,matches:m}=E2(),g=j.useMemo(()=>mE(n,t,m,a,s,"data"),[n,t,m,a,s]),y=j.useMemo(()=>mE(n,t,m,a,s,"assets"),[n,t,m,a,s]),_=j.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let V=new Set,U=!1;if(t.forEach(F=>{let Q=a.routes[F.route.id];!Q||!Q.hasLoader||(!g.some($=>$.route.id===F.route.id)&&F.route.id in d&&l[F.route.id]?.shouldRevalidate||Q.hasClientLoader?U=!0:V.add(F.route.id))}),V.size===0)return[];let k=d2(n,c,"data");return U&&V.size>0&&k.searchParams.set("_routes",t.filter(F=>V.has(F.route.id)).map(F=>F.route.id).join(",")),[k.pathname+k.search]},[c,d,s,a,g,t,n,l]),b=j.useMemo(()=>y2(y,a),[y,a]),w=S2(y);return j.createElement(j.Fragment,null,_.map(V=>j.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...e})),b.map(V=>j.createElement("link",{key:V,rel:"modulepreload",href:V,...e})),w.map(({key:V,link:U})=>j.createElement("link",{key:V,nonce:e.nonce,...U})))}function R2(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var gS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gS&&(window.__reactRouterVersion="7.10.0")}catch{}function x2({basename:n,children:t,unstable_useTransitions:e,window:s}){let a=j.useRef();a.current==null&&(a.current=mI({window:s,v5Compat:!0}));let l=a.current,[c,d]=j.useState({action:l.action,location:l.location}),m=j.useCallback(g=>{e===!1?d(g):j.startTransition(()=>d(g))},[e]);return j.useLayoutEffect(()=>l.listen(m),[l,m]),j.createElement(s2,{basename:n,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:e===!0})}var yS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vS=j.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:y,viewTransition:_,...b},w){let{basename:V,unstable_useTransitions:U}=j.useContext(Ri),k=typeof g=="string"&&yS.test(g),F,Q=!1;if(typeof g=="string"&&k&&(F=g,gS))try{let O=new URL(window.location.href),M=g.startsWith("//")?new URL(O.protocol+g):new URL(g),z=Rs(M.pathname,V);M.origin===O.origin&&z!=null?g=z+M.search+M.hash:Q=!0}catch{oi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=HI(g,{relative:a}),[lt,st,ht]=b2(s,b),C=N2(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_useTransitions:U});function R(O){t&&t(O),O.defaultPrevented||C(O)}let I=j.createElement("a",{...b,...ht,href:F||$,onClick:Q||l?t:R,ref:R2(w,st),target:m,"data-discover":!k&&e==="render"?"true":void 0});return lt&&!k?j.createElement(j.Fragment,null,I,j.createElement(A2,{page:$})):I});vS.displayName="Link";var C2=j.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},y){let _=nc(c,{relative:g.relative}),b=Va(),w=j.useContext(Zf),{navigator:V,basename:U}=j.useContext(Ri),k=w!=null&&L2(_)&&d===!0,F=V.encodeLocation?V.encodeLocation(_).pathname:_.pathname,Q=b.pathname,$=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;e||(Q=Q.toLowerCase(),$=$?$.toLowerCase():null,F=F.toLowerCase()),$&&U&&($=Rs($,U)||$);const lt=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let st=Q===F||!a&&Q.startsWith(F)&&Q.charAt(lt)==="/",ht=$!=null&&($===F||!a&&$.startsWith(F)&&$.charAt(F.length)==="/"),C={isActive:st,isPending:ht,isTransitioning:k},R=st?t:void 0,I;typeof s=="function"?I=s(C):I=[s,st?"active":null,ht?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(C):l;return j.createElement(vS,{...g,"aria-current":R,className:I,ref:y,style:O,to:c,viewTransition:d},typeof m=="function"?m(C):m)});C2.displayName="NavLink";var I2=j.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:a,state:l,method:c=of,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:_,...b},w)=>{let{unstable_useTransitions:V}=j.useContext(Ri),U=O2(),k=P2(d,{relative:g}),F=c.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&yS.test(d),$=lt=>{if(m&&m(lt),lt.defaultPrevented)return;lt.preventDefault();let st=lt.nativeEvent.submitter,ht=st?.getAttribute("formmethod")||c,C=()=>U(st||lt.currentTarget,{fetcherKey:t,method:ht,navigate:e,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:_});V&&e!==!1?j.startTransition(()=>C()):C()};return j.createElement("form",{ref:w,method:F,action:k,onSubmit:s?m:$,...b,"data-discover":!Q&&n==="render"?"true":void 0})});I2.displayName="Form";function D2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _S(n){let t=j.useContext(Zo);return qe(t,D2(n)),t}function N2(n,{target:t,replace:e,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:d}={}){let m=fS(),g=Va(),y=nc(n,{relative:l});return j.useCallback(_=>{if(u2(_,t)){_.preventDefault();let b=e!==void 0?e:Uu(g)===Uu(y),w=()=>m(n,{replace:b,state:s,preventScrollReset:a,relative:l,viewTransition:c});d?j.startTransition(()=>w()):w()}},[g,m,y,e,s,t,n,a,l,c,d])}var V2=0,M2=()=>`__${String(++V2)}__`;function O2(){let{router:n}=_S("useSubmit"),{basename:t}=j.useContext(Ri),e=t2(),s=n.fetch,a=n.navigate;return j.useCallback(async(l,c={})=>{let{action:d,method:m,encType:g,formData:y,body:_}=f2(l,t);if(c.navigate===!1){let b=c.fetcherKey||M2();await s(b,e,c.action||d,{preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:e,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,t,e])}function P2(n,{relative:t}={}){let{basename:e}=j.useContext(Ri),s=j.useContext(Os);qe(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...nc(n||".",{relative:t})},c=Va();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:ws([e,l.pathname])),Uu(l)}function L2(n,{relative:t}={}){let e=j.useContext(uS);qe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=_S("useViewTransitionState"),a=nc(n,{relative:t});if(!e.isTransitioning)return!1;let l=Rs(e.currentLocation.pathname,s)||e.currentLocation.pathname,c=Rs(e.nextLocation.pathname,s)||e.nextLocation.pathname;return Af(a.pathname,c)!=null||Af(a.pathname,l)!=null}const TS=j.createContext({});function k2(n){const t=j.useRef(null);return t.current===null&&(t.current=n()),t.current}const sy=typeof window<"u",U2=sy?j.useLayoutEffect:j.useEffect,ry=j.createContext(null);function ay(n,t){n.indexOf(t)===-1&&n.push(t)}function oy(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const xs=(n,t,e)=>e>t?t:e<n?n:e;let ly=()=>{};const Cs={},ES=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function bS(n){return typeof n=="object"&&n!==null}const AS=n=>/^0[^.\s]+$/u.test(n);function uy(n){let t;return()=>(t===void 0&&(t=n()),t)}const ai=n=>n,j2=(n,t)=>e=>t(n(e)),ic=(...n)=>n.reduce(j2),ju=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class cy{constructor(){this.subscriptions=[]}add(t){return ay(this.subscriptions,t),()=>oy(this.subscriptions,t)}notify(t,e,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qi=n=>n*1e3,ri=n=>n/1e3;function SS(n,t){return t?n*(1e3/t):0}const wS=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,z2=1e-7,B2=12;function F2(n,t,e,s,a){let l,c,d=0;do c=t+(e-t)/2,l=wS(c,s,a)-n,l>0?e=c:t=c;while(Math.abs(l)>z2&&++d<B2);return c}function sc(n,t,e,s){if(n===t&&e===s)return ai;const a=l=>F2(l,0,1,n,e);return l=>l===0||l===1?l:wS(a(l),t,s)}const RS=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,xS=n=>t=>1-n(1-t),CS=sc(.33,1.53,.69,.99),hy=xS(CS),IS=RS(hy),DS=n=>(n*=2)<1?.5*hy(n):.5*(2-Math.pow(2,-10*(n-1))),fy=n=>1-Math.sin(Math.acos(n)),NS=xS(fy),VS=RS(fy),H2=sc(.42,0,1,1),q2=sc(0,0,.58,1),MS=sc(.42,0,.58,1),G2=n=>Array.isArray(n)&&typeof n[0]!="number",OS=n=>Array.isArray(n)&&typeof n[0]=="number",K2={linear:ai,easeIn:H2,easeInOut:MS,easeOut:q2,circIn:fy,circInOut:VS,circOut:NS,backIn:hy,backInOut:IS,backOut:CS,anticipate:DS},Y2=n=>typeof n=="string",pE=n=>{if(OS(n)){ly(n.length===4);const[t,e,s,a]=n;return sc(t,e,s,a)}else if(Y2(n))return K2[n];return n},Wh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $2(n,t){let e=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),n()),y(d)}const g={schedule:(y,_=!1,b=!1)=>{const V=b&&a?e:s;return _&&c.add(y),V.has(y)||V.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[e,s]=[s,e],e.forEach(m),e.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const Q2=40;function PS(n,t){let e=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,c=Wh.reduce(($,lt)=>($[lt]=$2(l),$),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:_,preRender:b,render:w,postRender:V}=c,U=()=>{const $=Cs.useManualTiming?a.timestamp:performance.now();e=!1,Cs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min($-a.timestamp,Q2),1)),a.timestamp=$,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),y.process(a),_.process(a),b.process(a),w.process(a),V.process(a),a.isProcessing=!1,e&&t&&(s=!1,n(U))},k=()=>{e=!0,s=!0,a.isProcessing||n(U)};return{schedule:Wh.reduce(($,lt)=>{const st=c[lt];return $[lt]=(ht,C=!1,R=!1)=>(e||k(),st.schedule(ht,C,R)),$},{}),cancel:$=>{for(let lt=0;lt<Wh.length;lt++)c[Wh[lt]].cancel($)},state:a,steps:c}}const{schedule:fe,cancel:Ir,state:rn,steps:Vp}=PS(typeof requestAnimationFrame<"u"?requestAnimationFrame:ai,!0);let uf;function X2(){uf=void 0}const In={now:()=>(uf===void 0&&In.set(rn.isProcessing||Cs.useManualTiming?rn.timestamp:performance.now()),uf),set:n=>{uf=n,queueMicrotask(X2)}},LS=n=>t=>typeof t=="string"&&t.startsWith(n),dy=LS("--"),W2=LS("var(--"),my=n=>W2(n)?Z2.test(n.split("/*")[0].trim()):!1,Z2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},zu={...Jo,transform:n=>xs(0,1,n)},Zh={...Jo,default:1},wu=n=>Math.round(n*1e5)/1e5,py=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function J2(n){return n==null}const tD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gy=(n,t)=>e=>!!(typeof e=="string"&&tD.test(e)&&e.startsWith(n)||t&&!J2(e)&&Object.prototype.hasOwnProperty.call(e,t)),kS=(n,t,e)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(py);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},eD=n=>xs(0,255,n),Mp={...Jo,transform:n=>Math.round(eD(n))},Ea={test:gy("rgb","red"),parse:kS("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+Mp.transform(n)+", "+Mp.transform(t)+", "+Mp.transform(e)+", "+wu(zu.transform(s))+")"};function nD(n){let t="",e="",s="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const ag={test:gy("#"),parse:nD,transform:Ea.transform},rc=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),gr=rc("deg"),Xi=rc("%"),St=rc("px"),iD=rc("vh"),sD=rc("vw"),gE={...Xi,parse:n=>Xi.parse(n)/100,transform:n=>Xi.transform(n*100)},Co={test:gy("hsl","hue"),parse:kS("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+Xi.transform(wu(t))+", "+Xi.transform(wu(e))+", "+wu(zu.transform(s))+")"},je={test:n=>Ea.test(n)||ag.test(n)||Co.test(n),parse:n=>Ea.test(n)?Ea.parse(n):Co.test(n)?Co.parse(n):ag.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ea.transform(n):Co.transform(n),getAnimatableNone:n=>{const t=je.parse(n);return t.alpha=0,je.transform(t)}},rD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aD(n){return isNaN(n)&&typeof n=="string"&&(n.match(py)?.length||0)+(n.match(rD)?.length||0)>0}const US="number",jS="color",oD="var",lD="var(",yE="${}",uD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bu(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(uD,m=>(je.test(m)?(s.color.push(l),a.push(jS),e.push(je.parse(m))):m.startsWith(lD)?(s.var.push(l),a.push(oD),e.push(m)):(s.number.push(l),a.push(US),e.push(parseFloat(m))),++l,yE)).split(yE);return{values:e,split:d,indexes:s,types:a}}function zS(n){return Bu(n).values}function BS(n){const{split:t,types:e}=Bu(n),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=e[c];d===US?l+=wu(a[c]):d===jS?l+=je.transform(a[c]):l+=a[c]}return l}}const cD=n=>typeof n=="number"?0:je.test(n)?je.getAnimatableNone(n):n;function hD(n){const t=zS(n);return BS(n)(t.map(cD))}const Dr={test:aD,parse:zS,createTransformer:BS,getAnimatableNone:hD};function Op(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function fD({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let a=0,l=0,c=0;if(!t)a=l=c=e;else{const d=e<.5?e*(1+t):e+t-e*t,m=2*e-d;a=Op(m,d,n+1/3),l=Op(m,d,n),c=Op(m,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Sf(n,t){return e=>e>0?t:n}const me=(n,t,e)=>n+(t-n)*e,Pp=(n,t,e)=>{const s=n*n,a=e*(t*t-s)+s;return a<0?0:Math.sqrt(a)},dD=[ag,Ea,Co],mD=n=>dD.find(t=>t.test(n));function vE(n){const t=mD(n);if(!t)return!1;let e=t.parse(n);return t===Co&&(e=fD(e)),e}const _E=(n,t)=>{const e=vE(n),s=vE(t);if(!e||!s)return Sf(n,t);const a={...e};return l=>(a.red=Pp(e.red,s.red,l),a.green=Pp(e.green,s.green,l),a.blue=Pp(e.blue,s.blue,l),a.alpha=me(e.alpha,s.alpha,l),Ea.transform(a))},og=new Set(["none","hidden"]);function pD(n,t){return og.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function gD(n,t){return e=>me(n,t,e)}function yy(n){return typeof n=="number"?gD:typeof n=="string"?my(n)?Sf:je.test(n)?_E:_D:Array.isArray(n)?FS:typeof n=="object"?je.test(n)?_E:yD:Sf}function FS(n,t){const e=[...n],s=e.length,a=n.map((l,c)=>yy(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)e[c]=a[c](l);return e}}function yD(n,t){const e={...n,...t},s={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(s[a]=yy(n[a])(n[a],t[a]));return a=>{for(const l in s)e[l]=s[l](a);return e}}function vD(n,t){const e=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=n.indexes[l][s[l]],d=n.values[c]??0;e[a]=d,s[l]++}return e}const _D=(n,t)=>{const e=Dr.createTransformer(t),s=Bu(n),a=Bu(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?og.has(n)&&!a.values.length||og.has(t)&&!s.values.length?pD(n,t):ic(FS(vD(s,a),a.values),e):Sf(n,t)};function HS(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?me(n,t,e):yy(n)(n,t)}const TD=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>fe.update(t,e),stop:()=>Ir(t),now:()=>rn.isProcessing?rn.timestamp:In.now()}},qS=(n,t,e=10)=>{let s="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)s+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},wf=2e4;function vy(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<wf;)t+=e,s=n.next(t);return t>=wf?1/0:t}function ED(n,t=100,e){const s=e({...n,keyframes:[0,t]}),a=Math.min(vy(s),wf);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:ri(a)}}const bD=5;function GS(n,t,e){const s=Math.max(t-bD,0);return SS(e-n(s),t-s)}const Te={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lp=.001;function AD({duration:n=Te.duration,bounce:t=Te.bounce,velocity:e=Te.velocity,mass:s=Te.mass}){let a,l,c=1-t;c=xs(Te.minDamping,Te.maxDamping,c),n=xs(Te.minDuration,Te.maxDuration,ri(n)),c<1?(a=g=>{const y=g*c,_=y*n,b=y-e,w=lg(g,c),V=Math.exp(-_);return Lp-b/w*V},l=g=>{const _=g*c*n,b=_*e+e,w=Math.pow(c,2)*Math.pow(g,2)*n,V=Math.exp(-_),U=lg(Math.pow(g,2),c);return(-a(g)+Lp>0?-1:1)*((b-w)*V)/U}):(a=g=>{const y=Math.exp(-g*n),_=(g-e)*n+1;return-Lp+y*_},l=g=>{const y=Math.exp(-g*n),_=(e-g)*(n*n);return y*_});const d=5/n,m=wD(a,l,d);if(n=Qi(n),isNaN(m))return{stiffness:Te.stiffness,damping:Te.damping,duration:n};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:n}}}const SD=12;function wD(n,t,e){let s=e;for(let a=1;a<SD;a++)s=s-n(s)/t(s);return s}function lg(n,t){return n*Math.sqrt(1-t*t)}const RD=["duration","bounce"],xD=["stiffness","damping","mass"];function TE(n,t){return t.some(e=>n[e]!==void 0)}function CD(n){let t={velocity:Te.velocity,stiffness:Te.stiffness,damping:Te.damping,mass:Te.mass,isResolvedFromDuration:!1,...n};if(!TE(n,xD)&&TE(n,RD))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),a=s*s,l=2*xs(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:Te.mass,stiffness:a,damping:l}}else{const e=AD(n);t={...t,...e,mass:Te.mass},t.isResolvedFromDuration=!0}return t}function Rf(n=Te.visualDuration,t=Te.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:a}=e;const l=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:_,velocity:b,isResolvedFromDuration:w}=CD({...e,velocity:-ri(e.velocity||0)}),V=b||0,U=g/(2*Math.sqrt(m*y)),k=c-l,F=ri(Math.sqrt(m/y)),Q=Math.abs(k)<5;s||(s=Q?Te.restSpeed.granular:Te.restSpeed.default),a||(a=Q?Te.restDelta.granular:Te.restDelta.default);let $;if(U<1){const st=lg(F,U);$=ht=>{const C=Math.exp(-U*F*ht);return c-C*((V+U*F*k)/st*Math.sin(st*ht)+k*Math.cos(st*ht))}}else if(U===1)$=st=>c-Math.exp(-F*st)*(k+(V+F*k)*st);else{const st=F*Math.sqrt(U*U-1);$=ht=>{const C=Math.exp(-U*F*ht),R=Math.min(st*ht,300);return c-C*((V+U*F*k)*Math.sinh(R)+st*k*Math.cosh(R))/st}}const lt={calculatedDuration:w&&_||null,next:st=>{const ht=$(st);if(w)d.done=st>=_;else{let C=st===0?V:0;U<1&&(C=st===0?Qi(V):GS($,st,ht));const R=Math.abs(C)<=s,I=Math.abs(c-ht)<=a;d.done=R&&I}return d.value=d.done?c:ht,d},toString:()=>{const st=Math.min(vy(lt),wf),ht=qS(C=>lt.next(st*C).value,st,30);return st+"ms "+ht},toTransition:()=>{}};return lt}Rf.applyToOptions=n=>{const t=ED(n,100,Rf);return n.ease=t.ease,n.duration=Qi(t.duration),n.type="keyframes",n};function ug({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:y}){const _=n[0],b={done:!1,value:_},w=R=>d!==void 0&&R<d||m!==void 0&&R>m,V=R=>d===void 0?m:m===void 0||Math.abs(d-R)<Math.abs(m-R)?d:m;let U=e*t;const k=_+U,F=c===void 0?k:c(k);F!==k&&(U=F-_);const Q=R=>-U*Math.exp(-R/s),$=R=>F+Q(R),lt=R=>{const I=Q(R),O=$(R);b.done=Math.abs(I)<=g,b.value=b.done?F:O};let st,ht;const C=R=>{w(b.value)&&(st=R,ht=Rf({keyframes:[b.value,V(b.value)],velocity:GS($,R,b.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:R=>{let I=!1;return!ht&&st===void 0&&(I=!0,lt(R),C(R)),st!==void 0&&R>=st?ht.next(R-st):(!I&&lt(R),b)}}}function ID(n,t,e){const s=[],a=e||Cs.mix||HS,l=n.length-1;for(let c=0;c<l;c++){let d=a(n[c],n[c+1]);if(t){const m=Array.isArray(t)?t[c]||ai:t;d=ic(m,d)}s.push(d)}return s}function DD(n,t,{clamp:e=!0,ease:s,mixer:a}={}){const l=n.length;if(ly(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=ID(t,s,a),m=d.length,g=y=>{if(c&&y<n[0])return t[0];let _=0;if(m>1)for(;_<n.length-2&&!(y<n[_+1]);_++);const b=ju(n[_],n[_+1],y);return d[_](b)};return e?y=>g(xs(n[0],n[l-1],y)):g}function ND(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const a=ju(0,t,s);n.push(me(e,1,a))}}function VD(n){const t=[0];return ND(t,n.length-1),t}function MD(n,t){return n.map(e=>e*t)}function OD(n,t){return n.map(()=>t||MS).splice(0,n.length-1)}function Ru({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const a=G2(s)?s.map(pE):pE(s),l={done:!1,value:t[0]},c=MD(e&&e.length===t.length?e:VD(t),n),d=DD(c,t,{ease:Array.isArray(a)?a:OD(t,a)});return{calculatedDuration:n,next:m=>(l.value=d(m),l.done=m>=n,l)}}const PD=n=>n!==null;function _y(n,{repeat:t,repeatType:e="loop"},s,a=1){const l=n.filter(PD),d=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const LD={decay:ug,inertia:ug,tween:Ru,keyframes:Ru,spring:Rf};function KS(n){typeof n.type=="string"&&(n.type=LD[n.type])}class Ty{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const kD=n=>n/100;class Ey extends Ty{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==In.now()&&this.tick(In.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;KS(t);const{type:e=Ru,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=e||Ru;m!==Ru&&typeof d[0]!="number"&&(this.mixKeyframes=ic(kD,HS(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=vy(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:_,repeatType:b,repeatDelay:w,type:V,onUpdate:U,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const F=this.currentTime-g*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let $=this.currentTime,lt=s;if(_){const R=Math.min(this.currentTime,a)/d;let I=Math.floor(R),O=R%1;!O&&R>=1&&(O=1),O===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(b==="reverse"?(O=1-O,w&&(O-=w/d)):b==="mirror"&&(lt=c)),$=xs(0,1,O)*d}const st=Q?{done:!1,value:y[0]}:lt.next($);l&&(st.value=l(st.value));let{done:ht}=st;!Q&&m!==null&&(ht=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ht);return C&&V!==ug&&(st.value=_y(y,this.options,k,this.speed)),U&&U(st.value),C&&this.finish(),st}then(t,e){return this.finished.then(t,e)}get duration(){return ri(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ri(t)}get time(){return ri(this.currentTime)}set time(t){t=Qi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(In.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=TD,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(In.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function UD(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const ba=n=>n*180/Math.PI,cg=n=>{const t=ba(Math.atan2(n[1],n[0]));return hg(t)},jD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:cg,rotateZ:cg,skewX:n=>ba(Math.atan(n[1])),skewY:n=>ba(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},hg=n=>(n=n%360,n<0&&(n+=360),n),EE=cg,bE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),AE=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),zD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bE,scaleY:AE,scale:n=>(bE(n)+AE(n))/2,rotateX:n=>hg(ba(Math.atan2(n[6],n[5]))),rotateY:n=>hg(ba(Math.atan2(-n[2],n[0]))),rotateZ:EE,rotate:EE,skewX:n=>ba(Math.atan(n[4])),skewY:n=>ba(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function fg(n){return n.includes("scale")?1:0}function dg(n,t){if(!n||n==="none")return fg(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(e)s=zD,a=e;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=jD,a=d}if(!a)return fg(t);const l=s[t],c=a[1].split(",").map(FD);return typeof l=="function"?l(c):c[l]}const BD=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return dg(e,t)};function FD(n){return parseFloat(n.trim())}const tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],el=new Set(tl),SE=n=>n===Jo||n===St,HD=new Set(["x","y","z"]),qD=tl.filter(n=>!HD.has(n));function GD(n){const t=[];return qD.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const Sa={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>dg(t,"x"),y:(n,{transform:t})=>dg(t,"y")};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const wa=new Set;let mg=!1,pg=!1,gg=!1;function YS(){if(pg){const n=Array.from(wa).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const a=GD(s);a.length&&(e.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=e.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}pg=!1,mg=!1,wa.forEach(n=>n.complete(gg)),wa.clear()}function $S(){wa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(pg=!0)})}function KD(){gg=!0,$S(),YS(),gg=!1}class by{constructor(t,e,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(wa.add(this),mg||(mg=!0,fe.read($S),fe.resolveKeyframes(YS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&e){const d=s.readValue(e,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}UD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),wa.delete(this)}cancel(){this.state==="scheduled"&&(wa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const YD=n=>n.startsWith("--");function $D(n,t,e){YD(t)?n.style.setProperty(t,e):n.style[t]=e}const QD=uy(()=>window.ScrollTimeline!==void 0),XD={};function WD(n,t){const e=uy(n);return()=>XD[t]??e()}const QS=WD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vu=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,wE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vu([0,.65,.55,1]),circOut:vu([.55,0,1,.45]),backIn:vu([.31,.01,.66,-.59]),backOut:vu([.33,1.53,.69,.99])};function XS(n,t){if(n)return typeof n=="function"?QS()?qS(n,t):"ease-out":OS(n)?vu(n):Array.isArray(n)?n.map(e=>XS(e,t)||wE.easeOut):wE[n]}function ZD(n,t,e,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[t]:e};m&&(y.offset=m);const _=XS(d,a);Array.isArray(_)&&(y.easing=_);const b={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),n.animate(y,b)}function WS(n){return typeof n=="function"&&"applyToOptions"in n}function JD({type:n,...t}){return WS(n)&&QS()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class tN extends Ty{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,ly(typeof t.type!="string");const g=JD(t);this.animation=ZD(e,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=_y(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):$D(e,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ri(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ri(t)}get time(){return ri(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Qi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&QD()?(this.animation.timeline=t,ai):e(this)}}const ZS={anticipate:DS,backInOut:IS,circInOut:VS};function eN(n){return n in ZS}function nN(n){typeof n.ease=="string"&&eN(n.ease)&&(n.ease=ZS[n.ease])}const RE=10;class iN extends tN{constructor(t){nN(t),KS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const d=new Ey({...c,autoplay:!1}),m=Qi(this.finishedTime??this.time);e.setWithVelocity(d.sample(m-RE).value,d.sample(m).value,RE),d.stop()}}const xE=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Dr.test(n)||n==="0")&&!n.startsWith("url("));function sN(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function rN(n,t,e,s){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],c=xE(a,t),d=xE(l,t);return!c||!d?!1:sN(n)||(e==="spring"||WS(e))&&s}function yg(n){n.duration=0,n.type="keyframes"}const aN=new Set(["opacity","clipPath","filter","transform"]),oN=uy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lN(n){const{motionValue:t,name:e,repeatDelay:s,repeatType:a,damping:l,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return oN()&&e&&aN.has(e)&&(e!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const uN=40;class cN extends Ty{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=In.now();const b={autoplay:t,delay:e,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:y,..._},w=y?.KeyframeResolver||by;this.keyframeResolver=new w(d,(V,U,k)=>this.onKeyframesResolved(V,U,b,!k),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:y}=s;this.resolvedAt=In.now(),rN(t,l,c,d)||((Cs.instantAnimations||!m)&&y?.(_y(t,s,e)),t[0]=t[t.length-1],yg(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>uN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},w=!g&&lN(b)?new iN({...b,element:b.motionValue.owner.current}):new Ey(b);w.finished.then(()=>this.notifyFinished()).catch(ai),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),KD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const hN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fN(n){const t=hN.exec(n);if(!t)return[,];const[,e,s,a]=t;return[`--${e??s}`,a]}function JS(n,t,e=1){const[s,a]=fN(n);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return ES(c)?parseFloat(c):c}return my(a)?JS(a,t,e+1):a}function Ay(n,t){return n?.[t]??n?.default??n}const tw=new Set(["width","height","top","left","right","bottom",...tl]),dN={test:n=>n==="auto",parse:n=>n},ew=n=>t=>t.test(n),nw=[Jo,St,Xi,gr,sD,iD,dN],CE=n=>nw.find(ew(n));function mN(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||AS(n):!0}const pN=new Set(["brightness","contrast","saturate","opacity"]);function gN(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(py)||[];if(!s)return n;const a=e.replace(s,"");let l=pN.has(t)?1:0;return s!==e&&(l*=100),t+"("+l+a+")"}const yN=/\b([a-z-]*)\(.*?\)/gu,vg={...Dr,getAnimatableNone:n=>{const t=n.match(yN);return t?t.map(gN).join(" "):n}},IE={...Jo,transform:Math.round},vN={rotate:gr,rotateX:gr,rotateY:gr,rotateZ:gr,scale:Zh,scaleX:Zh,scaleY:Zh,scaleZ:Zh,skew:gr,skewX:gr,skewY:gr,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:zu,originX:gE,originY:gE,originZ:St},Sy={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...vN,zIndex:IE,fillOpacity:zu,strokeOpacity:zu,numOctaves:IE},_N={...Sy,color:je,backgroundColor:je,outlineColor:je,fill:je,stroke:je,borderColor:je,borderTopColor:je,borderRightColor:je,borderBottomColor:je,borderLeftColor:je,filter:vg,WebkitFilter:vg},iw=n=>_N[n];function sw(n,t){let e=iw(n);return e!==vg&&(e=Dr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const TN=new Set(["auto","none","0"]);function EN(n,t,e){let s=0,a;for(;s<n.length&&!a;){const l=n[s];typeof l=="string"&&!TN.has(l)&&Bu(l).values.length&&(a=n[s]),s++}if(a&&e)for(const l of t)n[l]=sw(e,a)}class bN extends by{constructor(t,e,s,a,l){super(t,e,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),my(g))){const y=JS(g,e.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!tw.has(s)||t.length!==2)return;const[a,l]=t,c=CE(a),d=CE(l);if(c!==d)if(SE(c)&&SE(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else Sa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||mN(t[a]))&&s.push(a);s.length&&EN(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sa[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Sa[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function AN(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=e?.[n]??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const rw=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function SN(n){return bS(n)&&"offsetHeight"in n}const DE=30,wN=n=>!isNaN(parseFloat(n));class RN{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=In.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=In.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=wN(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new cy);const s=this.events[t].add(e);return t==="change"?()=>{s(),fe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=In.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>DE)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,DE);return SS(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bo(n,t){return new RN(n,t)}const{schedule:wy}=PS(queueMicrotask,!1),Ei={x:!1,y:!1};function aw(){return Ei.x||Ei.y}function xN(n){return n==="x"||n==="y"?Ei[n]?null:(Ei[n]=!0,()=>{Ei[n]=!1}):Ei.x||Ei.y?null:(Ei.x=Ei.y=!0,()=>{Ei.x=Ei.y=!1})}function ow(n,t){const e=AN(n),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[e,a,()=>s.abort()]}function NE(n){return!(n.pointerType==="touch"||aw())}function CN(n,t,e={}){const[s,a,l]=ow(n,e),c=d=>{if(!NE(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const y=_=>{NE(_)&&(g(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const lw=(n,t)=>t?n===t?!0:lw(n,t.parentElement):!1,Ry=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,IN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function DN(n){return IN.has(n.tagName)||n.tabIndex!==-1}const cf=new WeakSet;function VE(n){return t=>{t.key==="Enter"&&n(t)}}function kp(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const NN=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=VE(()=>{if(cf.has(e))return;kp(e,"down");const a=VE(()=>{kp(e,"up")}),l=()=>kp(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function ME(n){return Ry(n)&&!aw()}function VN(n,t,e={}){const[s,a,l]=ow(n,e),c=d=>{const m=d.currentTarget;if(!ME(d))return;cf.add(m);const g=t(m,d),y=(w,V)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),cf.has(m)&&cf.delete(m),ME(w)&&typeof g=="function"&&g(w,{success:V})},_=w=>{y(w,m===window||m===document||e.useGlobalTarget||lw(m,w.target))},b=w=>{y(w,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",b,a)};return s.forEach(d=>{(e.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),SN(d)&&(d.addEventListener("focus",g=>NN(g,a)),!DN(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function uw(n){return bS(n)&&"ownerSVGElement"in n}function MN(n){return uw(n)&&n.tagName==="svg"}const mn=n=>!!(n&&n.getVelocity),ON=[...nw,je,Dr],PN=n=>ON.find(ew(n)),cw=j.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function LN(n=!0){const t=j.useContext(ry);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:a}=t,l=j.useId();j.useEffect(()=>{if(n)return a(l)},[n]);const c=j.useCallback(()=>n&&s&&s(l),[l,s,n]);return!e&&s?[!1,c]:[!0]}const hw=j.createContext({strict:!1}),OE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fo={};for(const n in OE)Fo[n]={isEnabled:t=>OE[n].some(e=>!!t[e])};function kN(n){for(const t in n)Fo[t]={...Fo[t],...n[t]}}const UN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||UN.has(n)}let fw=n=>!xf(n);function jN(n){typeof n=="function"&&(fw=t=>t.startsWith("on")?!xf(t):n(t))}try{jN(require("@emotion/is-prop-valid").default)}catch{}function zN(n,t,e){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(fw(a)||e===!0&&xf(a)||!t&&!xf(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const ed=j.createContext({});function nd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Fu(n){return typeof n=="string"||Array.isArray(n)}const xy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cy=["initial",...xy];function id(n){return nd(n.animate)||Cy.some(t=>Fu(n[t]))}function dw(n){return!!(id(n)||n.variants)}function BN(n,t){if(id(n)){const{initial:e,animate:s}=n;return{initial:e===!1||Fu(e)?e:void 0,animate:Fu(s)?s:void 0}}return n.inherit!==!1?t:{}}function FN(n){const{initial:t,animate:e}=BN(n,j.useContext(ed));return j.useMemo(()=>({initial:t,animate:e}),[PE(t),PE(e)])}function PE(n){return Array.isArray(n)?n.join(" "):n}const Hu={};function HN(n){for(const t in n)Hu[t]=n[t],dy(t)&&(Hu[t].isCSSVariable=!0)}function mw(n,{layout:t,layoutId:e}){return el.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Hu[n]||n==="opacity")}const qN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},GN=tl.length;function KN(n,t,e){let s="",a=!0;for(let l=0;l<GN;l++){const c=tl[l],d=n[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||e){const g=rw(d,Sy[c]);if(!m){a=!1;const y=qN[c]||c;s+=`${y}(${g}) `}e&&(t[c]=g)}}return s=s.trim(),e?s=e(t,a?"":s):a&&(s="none"),s}function Iy(n,t,e){const{style:s,vars:a,transformOrigin:l}=n;let c=!1,d=!1;for(const m in t){const g=t[m];if(el.has(m)){c=!0;continue}else if(dy(m)){a[m]=g;continue}else{const y=rw(g,Sy[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(t.transform||(c||e?s.transform=KN(t,n.transform,e):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${g} ${y}`}}const Dy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pw(n,t,e){for(const s in t)!mn(t[s])&&!mw(s,e)&&(n[s]=t[s])}function YN({transformTemplate:n},t){return j.useMemo(()=>{const e=Dy();return Iy(e,t,n),Object.assign({},e.vars,e.style)},[t])}function $N(n,t){const e=n.style||{},s={};return pw(s,e,n),Object.assign(s,YN(n,t)),s}function QN(n,t){const e={},s=$N(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const XN={offset:"stroke-dashoffset",array:"stroke-dasharray"},WN={offset:"strokeDashoffset",array:"strokeDasharray"};function ZN(n,t,e=1,s=0,a=!0){n.pathLength=1;const l=a?XN:WN;n[l.offset]=St.transform(-s);const c=St.transform(t),d=St.transform(e);n[l.array]=`${c} ${d}`}function gw(n,{attrX:t,attrY:e,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,g,y){if(Iy(n,d,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:b}=n;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),e!==void 0&&(_.y=e),s!==void 0&&(_.scale=s),a!==void 0&&ZN(_,a,l,c,!1)}const yw=()=>({...Dy(),attrs:{}}),vw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function JN(n,t,e,s){const a=j.useMemo(()=>{const l=yw();return gw(l,t,vw(s),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};pw(l,n.style,n),a.style={...l,...a.style}}return a}const tV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ny(n){return typeof n!="string"||n.includes("-")?!1:!!(tV.indexOf(n)>-1||/[A-Z]/u.test(n))}function eV(n,t,e,{latestValues:s},a,l=!1){const d=(Ny(n)?JN:QN)(t,s,a,n),m=zN(t,typeof n=="string",l),g=n!==j.Fragment?{...m,...d,ref:e}:{},{children:y}=t,_=j.useMemo(()=>mn(y)?y.get():y,[y]);return j.createElement(n,{...g,children:_})}function LE(n){const t=[{},{}];return n?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function Vy(n,t,e,s){if(typeof t=="function"){const[a,l]=LE(s);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=LE(s);t=t(e!==void 0?e:n.custom,a,l)}return t}function hf(n){return mn(n)?n.get():n}function nV({scrapeMotionValuesFromProps:n,createRenderState:t},e,s,a){return{latestValues:iV(e,s,a,n),renderState:t()}}function iV(n,t,e,s){const a={},l=s(n,{});for(const b in l)a[b]=hf(l[b]);let{initial:c,animate:d}=n;const m=id(n),g=dw(n);t&&g&&!m&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=e?e.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!nd(_)){const b=Array.isArray(_)?_:[_];for(let w=0;w<b.length;w++){const V=Vy(n,b[w]);if(V){const{transitionEnd:U,transition:k,...F}=V;for(const Q in F){let $=F[Q];if(Array.isArray($)){const lt=y?$.length-1:0;$=$[lt]}$!==null&&(a[Q]=$)}for(const Q in U)a[Q]=U[Q]}}}return a}const _w=n=>(t,e)=>{const s=j.useContext(ed),a=j.useContext(ry),l=()=>nV(n,t,s,a);return e?l():k2(l)};function My(n,t,e){const{style:s}=n,a={};for(const l in s)(mn(s[l])||t.style&&mn(t.style[l])||mw(l,n)||e?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const sV=_w({scrapeMotionValuesFromProps:My,createRenderState:Dy});function Tw(n,t,e){const s=My(n,t,e);for(const a in n)if(mn(n[a])||mn(t[a])){const l=tl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=n[a]}return s}const rV=_w({scrapeMotionValuesFromProps:Tw,createRenderState:yw}),aV=Symbol.for("motionComponentSymbol");function Io(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function oV(n,t,e){return j.useCallback(s=>{s&&n.onMount&&n.onMount(s),t&&(s?t.mount(s):t.unmount()),e&&(typeof e=="function"?e(s):Io(e)&&(e.current=s))},[t])}const Oy=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lV="framerAppearId",Ew="data-"+Oy(lV),bw=j.createContext({});function uV(n,t,e,s,a){const{visualElement:l}=j.useContext(ed),c=j.useContext(hw),d=j.useContext(ry),m=j.useContext(cw).reducedMotion,g=j.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(n,{visualState:t,parent:l,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,_=j.useContext(bw);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&cV(g.current,e,a,_);const b=j.useRef(!1);j.useInsertionEffect(()=>{y&&b.current&&y.update(e,d)});const w=e[Ew],V=j.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return U2(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),V.current&&y.animationState&&y.animationState.animateChanges())}),j.useEffect(()=>{y&&(!V.current&&y.animationState&&y.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),V.current=!1),y.enteringChildren=void 0)}),y}function cV(n,t,e,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:Aw(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Io(d),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:g})}function Aw(n){if(n)return n.options.allowProjection!==!1?n.projection:Aw(n.parent)}function Up(n,{forwardMotionProps:t=!1}={},e,s){e&&kN(e);const a=Ny(n)?rV:sV;function l(d,m){let g;const y={...j.useContext(cw),...d,layoutId:hV(d)},{isStatic:_}=y,b=FN(d),w=a(d,_);if(!_&&sy){fV();const V=dV(y);g=V.MeasureLayout,b.visualElement=uV(n,w,y,s,V.ProjectionNode)}return x.jsxs(ed.Provider,{value:b,children:[g&&b.visualElement?x.jsx(g,{visualElement:b.visualElement,...y}):null,eV(n,d,oV(w,b.visualElement,m),w,_,t)]})}l.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=j.forwardRef(l);return c[aV]=n,c}function hV({layoutId:n}){const t=j.useContext(TS).id;return t&&n!==void 0?t+"-"+n:n}function fV(n,t){j.useContext(hw).strict}function dV(n){const{drag:t,layout:e}=Fo;if(!t&&!e)return{};const s={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function mV(n,t){if(typeof Proxy>"u")return Up;const e=new Map,s=(l,c)=>Up(l,c,n,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(e.has(c)||e.set(c,Up(c,void 0,n,t)),e.get(c))})}function Sw({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function pV({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function gV(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function jp(n){return n===void 0||n===1}function _g({scale:n,scaleX:t,scaleY:e}){return!jp(n)||!jp(t)||!jp(e)}function _a(n){return _g(n)||ww(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function ww(n){return kE(n.x)||kE(n.y)}function kE(n){return n&&n!=="0%"}function Cf(n,t,e){const s=n-e,a=t*s;return e+a}function UE(n,t,e,s,a){return a!==void 0&&(n=Cf(n,a,s)),Cf(n,e,s)+t}function Tg(n,t=0,e=1,s,a){n.min=UE(n.min,t,e,s,a),n.max=UE(n.max,t,e,s,a)}function Rw(n,{x:t,y:e}){Tg(n.x,t.translate,t.scale,t.originPoint),Tg(n.y,e.translate,e.scale,e.originPoint)}const jE=.999999999999,zE=1.0000000000001;function yV(n,t,e,s=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=e[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&No(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Rw(n,c)),s&&_a(l.latestValues)&&No(n,l.latestValues))}t.x<zE&&t.x>jE&&(t.x=1),t.y<zE&&t.y>jE&&(t.y=1)}function Do(n,t){n.min=n.min+t,n.max=n.max+t}function BE(n,t,e,s,a=.5){const l=me(n.min,n.max,a);Tg(n,t,e,l,s)}function No(n,t){BE(n.x,t.x,t.scaleX,t.scale,t.originX),BE(n.y,t.y,t.scaleY,t.scale,t.originY)}function xw(n,t){return Sw(gV(n.getBoundingClientRect(),t))}function vV(n,t,e){const s=xw(n,e),{scroll:a}=t;return a&&(Do(s.x,a.offset.x),Do(s.y,a.offset.y)),s}const FE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vo=()=>({x:FE(),y:FE()}),HE=()=>({min:0,max:0}),we=()=>({x:HE(),y:HE()}),Eg={current:null},Cw={current:!1};function _V(){if(Cw.current=!0,!!sy)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Eg.current=n.matches;n.addEventListener("change",t),t()}else Eg.current=!1}const TV=new WeakMap;function EV(n,t,e){for(const s in t){const a=t[s],l=e[s];if(mn(a))n.addValue(s,a);else if(mn(l))n.addValue(s,Bo(a,{owner:n}));else if(l!==a)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(s);n.addValue(s,Bo(c!==void 0?c:a,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const qE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bV{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=by,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=In.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,fe.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=e.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=id(e),this.isVariantNode=dw(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in _){const w=_[b];m[b]!==void 0&&mn(w)&&w.set(m[b])}}mount(t){this.current=t,TV.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),Cw.current||_V(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Eg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ir(this.notifyUpdate),Ir(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=el.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&fe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fo){const e=Fo[t];if(!e)continue;const{isEnabled:s,Feature:a}=e;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):we()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<qE.length;s++){const a=qE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=EV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=Bo(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(ES(s)||AS(s))?s=parseFloat(s):!PN(s)&&Dr.test(e)&&(s=sw(t,e)),this.setBaseTarget(t,mn(s)?s.get():s)),mn(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const l=Vy(this.props,e,this.presenceContext?.custom);l&&(s=l[t])}if(e&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!mn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new cy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){wy.render(this.render)}}class Iw extends bV{constructor(){super(...arguments),this.KeyframeResolver=bN}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;mn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Dw(n,{style:t,vars:e},s,a){const l=n.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in e)l.setProperty(c,e[c])}function AV(n){return window.getComputedStyle(n)}class SV extends Iw{constructor(){super(...arguments),this.type="html",this.renderInstance=Dw}readValueFromInstance(t,e){if(el.has(e))return this.projection?.isProjecting?fg(e):BD(t,e);{const s=AV(t),a=(dy(e)?s.getPropertyValue(e):s[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return xw(t,e)}build(t,e,s){Iy(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return My(t,e,s)}}const Nw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wV(n,t,e,s){Dw(n,t,void 0,s);for(const a in t.attrs)n.setAttribute(Nw.has(a)?a:Oy(a),t.attrs[a])}class RV extends Iw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=we}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(el.has(e)){const s=iw(e);return s&&s.default||0}return e=Nw.has(e)?e:Oy(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return Tw(t,e,s)}build(t,e,s){gw(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,a){wV(t,e,s,a)}mount(t){this.isSVGTag=vw(t.tagName),super.mount(t)}}const xV=(n,t)=>Ny(n)?new RV(t):new SV(t,{allowProjection:n!==j.Fragment});function Po(n,t,e){const s=n.getProps();return Vy(s,t,e!==void 0?e:s.custom,n)}const bg=n=>Array.isArray(n);function CV(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Bo(e))}function IV(n){return bg(n)?n[n.length-1]||0:n}function DV(n,t){const e=Po(n,t);let{transitionEnd:s={},transition:a={},...l}=e||{};l={...l,...s};for(const c in l){const d=IV(l[c]);CV(n,c,d)}}function NV(n){return!!(mn(n)&&n.add)}function Ag(n,t){const e=n.getValue("willChange");if(NV(e))return e.add(t);if(!e&&Cs.WillChange){const s=new Cs.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function Vw(n){return n.props[Ew]}const VV=n=>n!==null;function MV(n,{repeat:t,repeatType:e="loop"},s){const a=n.filter(VV),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}const OV={type:"spring",stiffness:500,damping:25,restSpeed:10},PV=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),LV={type:"keyframes",duration:.8},kV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UV=(n,{keyframes:t})=>t.length>2?LV:el.has(n)?n.startsWith("scale")?PV(t[1]):OV:kV;function jV({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const Py=(n,t,e,s={},a,l)=>c=>{const d=Ay(s,n)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Qi(m);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:l?void 0:a};jV(d)||Object.assign(y,UV(n,y)),y.duration&&(y.duration=Qi(y.duration)),y.repeatDelay&&(y.repeatDelay=Qi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(yg(y),y.delay===0&&(_=!0)),(Cs.instantAnimations||Cs.skipAnimations)&&(_=!0,yg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const b=MV(y.keyframes,d);if(b!==void 0){fe.update(()=>{y.onUpdate(b),y.onComplete()});return}}return d.isSync?new Ey(y):new cN(y)};function zV({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function Mw(n,t,{delay:e=0,transitionOverride:s,type:a}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const m=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const y in d){const _=n.getValue(y,n.latestValues[y]??null),b=d[y];if(b===void 0||g&&zV(g,y))continue;const w={delay:e,...Ay(l||{},y)},V=_.get();if(V!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===V&&!w.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const F=Vw(n);if(F){const Q=window.MotionHandoffAnimation(F,y,fe);Q!==null&&(w.startTime=Q,U=!0)}}Ag(n,y),_.start(Py(y,_,b,n.shouldReduceMotion&&tw.has(y)?{type:!1}:w,n,U));const k=_.animation;k&&m.push(k)}return c&&Promise.all(m).then(()=>{fe.update(()=>{c&&DV(n,c)})}),m}function Ow(n,t,e,s=0,a=1){const l=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=n.size,d=(c-1)*s;return typeof e=="function"?e(l,c):a===1?l*s:d-l*s}function Sg(n,t,e={}){const s=Po(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const l=s?()=>Promise.all(Mw(n,s,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=a;return BV(n,t,m,g,y,_,e)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(e.delay)])}function BV(n,t,e=0,s=0,a=0,l=1,c){const d=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),d.push(Sg(m,t,{...c,delay:e+(typeof s=="function"?0:s)+Ow(n.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function FV(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Sg(n,l,e));s=Promise.all(a)}else if(typeof t=="string")s=Sg(n,t,e);else{const a=typeof t=="function"?Po(n,t,e.custom):t;s=Promise.all(Mw(n,a,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}function Pw(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const HV=Cy.length;function Lw(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?Lw(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<HV;e++){const s=Cy[e],a=n.props[s];(Fu(a)||a===!1)&&(t[s]=a)}return t}const qV=[...xy].reverse(),GV=xy.length;function KV(n){return t=>Promise.all(t.map(({animation:e,options:s})=>FV(n,e,s)))}function YV(n){let t=KV(n),e=GE(),s=!0;const a=m=>(g,y)=>{const _=Po(n,y,m==="exit"?n.presenceContext?.custom:void 0);if(_){const{transition:b,transitionEnd:w,...V}=_;g={...g,...V,...w}}return g};function l(m){t=m(n)}function c(m){const{props:g}=n,y=Lw(n.parent)||{},_=[],b=new Set;let w={},V=1/0;for(let k=0;k<GV;k++){const F=qV[k],Q=e[F],$=g[F]!==void 0?g[F]:y[F],lt=Fu($),st=F===m?Q.isActive:null;st===!1&&(V=k);let ht=$===y[F]&&$!==g[F]&&lt;if(ht&&s&&n.manuallyAnimateOnMount&&(ht=!1),Q.protectedKeys={...w},!Q.isActive&&st===null||!$&&!Q.prevProp||nd($)||typeof $=="boolean")continue;const C=$V(Q.prevProp,$);let R=C||F===m&&Q.isActive&&!ht&&lt||k>V&&lt,I=!1;const O=Array.isArray($)?$:[$];let M=O.reduce(a(F),{});st===!1&&(M={});const{prevResolvedValues:z={}}=Q,D={...z,...M},Xt=rt=>{R=!0,b.has(rt)&&(I=!0,b.delete(rt)),Q.needsAnimating[rt]=!0;const dt=n.getValue(rt);dt&&(dt.liveStyle=!1)};for(const rt in D){const dt=M[rt],Ct=z[rt];if(w.hasOwnProperty(rt))continue;let Mt=!1;bg(dt)&&bg(Ct)?Mt=!Pw(dt,Ct):Mt=dt!==Ct,Mt?dt!=null?Xt(rt):b.add(rt):dt!==void 0&&b.has(rt)?Xt(rt):Q.protectedKeys[rt]=!0}Q.prevProp=$,Q.prevResolvedValues=M,Q.isActive&&(w={...w,...M}),s&&n.blockInitialAnimation&&(R=!1);const ue=ht&&C;R&&(!ue||I)&&_.push(...O.map(rt=>{const dt={type:F};if(typeof rt=="string"&&s&&!ue&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ct}=n,Mt=Po(Ct,rt);if(Ct.enteringChildren&&Mt){const{delayChildren:L}=Mt.transition||{};dt.delay=Ow(Ct.enteringChildren,n,L)}}return{animation:rt,options:dt}}))}if(b.size){const k={};if(typeof g.initial!="boolean"){const F=Po(n,Array.isArray(g.initial)?g.initial[0]:g.initial);F&&F.transition&&(k.transition=F.transition)}b.forEach(F=>{const Q=n.getBaseTarget(F),$=n.getValue(F);$&&($.liveStyle=!0),k[F]=Q??null}),_.push({animation:k})}let U=!!_.length;return s&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(U=!1),s=!1,U?t(_):Promise.resolve()}function d(m,g){if(e[m].isActive===g)return Promise.resolve();n.variantChildren?.forEach(_=>_.animationState?.setActive(m,g)),e[m].isActive=g;const y=c(m);for(const _ in e)e[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>e,reset:()=>{e=GE()}}}function $V(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Pw(t,n):!1}function va(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GE(){return{animate:va(!0),whileInView:va(),whileHover:va(),whileTap:va(),whileDrag:va(),whileFocus:va(),exit:va()}}class kr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class QV extends kr{constructor(t){super(t),t.animationState||(t.animationState=YV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();nd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let XV=0;class WV extends kr{constructor(){super(...arguments),this.id=XV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ZV={animation:{Feature:QV},exit:{Feature:WV}};function qu(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}function ac(n){return{point:{x:n.pageX,y:n.pageY}}}const JV=n=>t=>Ry(t)&&n(t,ac(t));function xu(n,t,e,s){return qu(n,t,JV(e),s)}const kw=1e-4,tM=1-kw,eM=1+kw,Uw=.01,nM=0-Uw,iM=0+Uw;function Tn(n){return n.max-n.min}function sM(n,t,e){return Math.abs(n-t)<=e}function KE(n,t,e,s=.5){n.origin=s,n.originPoint=me(t.min,t.max,n.origin),n.scale=Tn(e)/Tn(t),n.translate=me(e.min,e.max,n.origin)-n.originPoint,(n.scale>=tM&&n.scale<=eM||isNaN(n.scale))&&(n.scale=1),(n.translate>=nM&&n.translate<=iM||isNaN(n.translate))&&(n.translate=0)}function Cu(n,t,e,s){KE(n.x,t.x,e.x,s?s.originX:void 0),KE(n.y,t.y,e.y,s?s.originY:void 0)}function YE(n,t,e){n.min=e.min+t.min,n.max=n.min+Tn(t)}function rM(n,t,e){YE(n.x,t.x,e.x),YE(n.y,t.y,e.y)}function $E(n,t,e){n.min=t.min-e.min,n.max=n.min+Tn(t)}function Iu(n,t,e){$E(n.x,t.x,e.x),$E(n.y,t.y,e.y)}function ii(n){return[n("x"),n("y")]}const jw=({current:n})=>n?n.ownerDocument.defaultView:null,QE=(n,t)=>Math.abs(n-t);function aM(n,t){const e=QE(n.x,t.x),s=QE(n.y,t.y);return Math.sqrt(e**2+s**2)}class zw{constructor(t,e,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Bp(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,V=aM(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!V)return;const{point:U}=b,{timestamp:k}=rn;this.history.push({...U,timestamp:k});const{onStart:F,onMove:Q}=this.handlers;w||(F&&F(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,b)},this.handlePointerMove=(b,w)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=zp(w,this.transformPagePoint),fe.update(this.updatePoint,!0)},this.handlePointerUp=(b,w)=>{this.end();const{onEnd:V,onSessionEnd:U,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Bp(b.type==="pointercancel"?this.lastMoveEventInfo:zp(w,this.transformPagePoint),this.history);this.startEvent&&V&&V(b,F),U&&U(b,F)},!Ry(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=ac(t),m=zp(d,this.transformPagePoint),{point:g}=m,{timestamp:y}=rn;this.history=[{...g,timestamp:y}];const{onSessionStart:_}=e;_&&_(t,Bp(m,this.history)),this.removeListeners=ic(xu(this.contextWindow,"pointermove",this.handlePointerMove),xu(this.contextWindow,"pointerup",this.handlePointerUp),xu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ir(this.updatePoint)}}function zp(n,t){return t?{point:t(n.point)}:n}function XE(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Bp({point:n},t){return{point:n,delta:XE(n,Bw(t)),offset:XE(n,oM(t)),velocity:lM(t,.1)}}function oM(n){return n[0]}function Bw(n){return n[n.length-1]}function lM(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const a=Bw(n);for(;e>=0&&(s=n[e],!(a.timestamp-s.timestamp>Qi(t)));)e--;if(!s)return{x:0,y:0};const l=ri(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function uM(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?me(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?me(e,n,s.max):Math.min(n,e)),n}function WE(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function cM(n,{top:t,left:e,bottom:s,right:a}){return{x:WE(n.x,e,a),y:WE(n.y,t,s)}}function ZE(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function hM(n,t){return{x:ZE(n.x,t.x),y:ZE(n.y,t.y)}}function fM(n,t){let e=.5;const s=Tn(n),a=Tn(t);return a>s?e=ju(t.min,t.max-s,n.min):s>a&&(e=ju(n.min,n.max-a,t.min)),xs(0,1,e)}function dM(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const wg=.35;function mM(n=wg){return n===!1?n=0:n===!0&&(n=wg),{x:JE(n,"left","right"),y:JE(n,"top","bottom")}}function JE(n,t,e){return{min:tb(n,t),max:tb(n,e)}}function tb(n,t){return typeof n=="number"?n:n[t]||0}const pM=new WeakMap;class gM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=we(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(ac(_).point)},c=(_,b)=>{const{drag:w,dragPropagation:V,onDragStart:U}=this.getProps();if(w&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xN(w),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(F=>{let Q=this.getAxisMotionValue(F).get()||0;if(Xi.test(Q)){const{projection:$}=this.visualElement;if($&&$.layout){const lt=$.layout.layoutBox[F];lt&&(Q=Tn(lt)*(parseFloat(Q)/100))}}this.originPoint[F]=Q}),U&&fe.postRender(()=>U(_,b)),Ag(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:V,onDirectionLock:U,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:F}=b;if(V&&this.currentDirection===null){this.currentDirection=yM(F),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",b.point,F),this.updateAxis("y",b.point,F),this.visualElement.render(),k&&k(_,b)},m=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b,this.stop(_,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ii(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new zw(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:jw(this.visualElement)})}stop(t,e){const s=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&fe.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,s){const{drag:a}=this.getProps();if(!s||!Jh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=uM(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Io(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=cM(s.layoutBox,t):this.constraints=!1,this.elastic=mM(e),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ii(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=dM(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Io(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=vV(s,a.root,this.visualElement.getTransformPagePoint());let c=hM(a.layout.layoutBox,l);if(e){const d=e(pV(c));this.hasMutatedConstraints=!!d,d&&(c=Sw(d))}return c}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=ii(y=>{if(!Jh(y,e,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const b=a?200:1e6,w=a?40:1e7,V={type:"inertia",velocity:s?t[y]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,V)});return Promise.all(g).then(d)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return Ag(this.visualElement,t),s.start(Py(t,s,0,e,this.visualElement,!1))}stopAnimation(){ii(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ii(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[e];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ii(e=>{const{drag:s}=this.getProps();if(!Jh(e,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[e];l.set(t[e]-me(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!Io(e)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ii(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=fM({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ii(c=>{if(!Jh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(me(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;pM.set(this.visualElement,this);const t=this.visualElement.current,e=xu(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Io(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),fe.read(s);const c=qu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ii(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),e(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=wg,dragMomentum:d=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Jh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function yM(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class vM extends kr{constructor(t){super(t),this.removeGroupControls=ai,this.removeListeners=ai,this.controls=new gM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ai}unmount(){this.removeGroupControls(),this.removeListeners()}}const eb=n=>(t,e)=>{n&&fe.postRender(()=>n(t,e))};class _M extends kr{constructor(){super(...arguments),this.removePointerDownListener=ai}onPointerDown(t){this.session=new zw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:eb(t),onStart:eb(e),onMove:s,onEnd:(l,c)=>{delete this.session,a&&fe.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=xu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ff={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nb(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const yu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(St.test(n))n=parseFloat(n);else return n;const e=nb(n,t.target.x),s=nb(n,t.target.y);return`${e}% ${s}%`}},TM={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,a=Dr.parse(n);if(a.length>5)return s;const l=Dr.createTransformer(n),c=typeof a[0]!="number"?1:0,d=e.x.scale*t.x,m=e.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const g=me(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let Fp=!1;class EM extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;HN(bM),l&&(e.group&&e.group.add(l),s&&s.register&&a&&s.register(l),Fp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ff.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Fp=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||fe.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),wy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:a}=t;Fp=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Fw(n){const[t,e]=LN(),s=j.useContext(TS);return x.jsx(EM,{...n,layoutGroup:s,switchLayoutGroup:j.useContext(bw),isPresent:t,safeToRemove:e})}const bM={borderRadius:{...yu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yu,borderTopRightRadius:yu,borderBottomLeftRadius:yu,borderBottomRightRadius:yu,boxShadow:TM};function AM(n,t,e){const s=mn(n)?n:Bo(n);return s.start(Py("",s,t,e)),s.animation}const SM=(n,t)=>n.depth-t.depth;class wM{constructor(){this.children=[],this.isDirty=!1}add(t){ay(this.children,t),this.isDirty=!0}remove(t){oy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(SM),this.isDirty=!1,this.children.forEach(t)}}function RM(n,t){const e=In.now(),s=({timestamp:a})=>{const l=a-e;l>=t&&(Ir(s),n(l-t))};return fe.setup(s,!0),()=>Ir(s)}const Hw=["TopLeft","TopRight","BottomLeft","BottomRight"],xM=Hw.length,ib=n=>typeof n=="string"?parseFloat(n):n,sb=n=>typeof n=="number"||St.test(n);function CM(n,t,e,s,a,l){a?(n.opacity=me(0,e.opacity??1,IM(s)),n.opacityExit=me(t.opacity??1,0,DM(s))):l&&(n.opacity=me(t.opacity??1,e.opacity??1,s));for(let c=0;c<xM;c++){const d=`border${Hw[c]}Radius`;let m=rb(t,d),g=rb(e,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||sb(m)===sb(g)?(n[d]=Math.max(me(ib(m),ib(g),s),0),(Xi.test(g)||Xi.test(m))&&(n[d]+="%")):n[d]=g}(t.rotate||e.rotate)&&(n.rotate=me(t.rotate||0,e.rotate||0,s))}function rb(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const IM=qw(0,.5,NS),DM=qw(.5,.95,ai);function qw(n,t,e){return s=>s<n?0:s>t?1:e(ju(n,t,s))}function ab(n,t){n.min=t.min,n.max=t.max}function ni(n,t){ab(n.x,t.x),ab(n.y,t.y)}function ob(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function lb(n,t,e,s,a){return n-=t,n=Cf(n,1/e,s),a!==void 0&&(n=Cf(n,1/a,s)),n}function NM(n,t=0,e=1,s=.5,a,l=n,c=n){if(Xi.test(t)&&(t=parseFloat(t),t=me(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=me(l.min,l.max,s);n===l&&(d-=t),n.min=lb(n.min,t,e,d,a),n.max=lb(n.max,t,e,d,a)}function ub(n,t,[e,s,a],l,c){NM(n,t[e],t[s],t[a],t.scale,l,c)}const VM=["x","scaleX","originX"],MM=["y","scaleY","originY"];function cb(n,t,e,s){ub(n.x,t,VM,e?e.x:void 0,s?s.x:void 0),ub(n.y,t,MM,e?e.y:void 0,s?s.y:void 0)}function hb(n){return n.translate===0&&n.scale===1}function Gw(n){return hb(n.x)&&hb(n.y)}function fb(n,t){return n.min===t.min&&n.max===t.max}function OM(n,t){return fb(n.x,t.x)&&fb(n.y,t.y)}function db(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function Kw(n,t){return db(n.x,t.x)&&db(n.y,t.y)}function mb(n){return Tn(n.x)/Tn(n.y)}function pb(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class PM{constructor(){this.members=[]}add(t){ay(this.members,t),t.scheduleRender()}remove(t){if(oy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let s;for(let a=e;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LM(n,t,e){let s="";const a=n.x.translate/t.x,l=n.y.translate/t.y,c=e?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:y,rotateX:_,rotateY:b,skewX:w,skewY:V}=e;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),b&&(s+=`rotateY(${b}deg) `),w&&(s+=`skewX(${w}deg) `),V&&(s+=`skewY(${V}deg) `)}const d=n.x.scale*t.x,m=n.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const Hp=["","X","Y","Z"],kM=1e3;let UM=0;function qp(n,t,e,s){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),s&&(s[n]=0))}function Yw(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=Vw(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",fe,!(a||l))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&Yw(s)}function $w({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=UM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BM),this.nodes.forEach(GM),this.nodes.forEach(KM),this.nodes.forEach(FM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new wM)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new cy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=uw(c)&&!MN(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),n){let y,_=0;const b=()=>this.root.updateBlockedByResize=!1;fe.read(()=>{_=window.innerWidth}),n(c,()=>{const w=window.innerWidth;w!==_&&(_=w,this.root.updateBlockedByResize=!0,y&&y(),y=RM(b,250),ff.hasAnimatedSinceResize&&(ff.hasAnimatedSinceResize=!1,this.nodes.forEach(vb)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||g.getDefaultTransition()||WM,{onLayoutAnimationStart:U,onLayoutAnimationComplete:k}=g.getProps(),F=!this.targetLayout||!Kw(this.targetLayout,w),Q=!_&&b;if(this.options.layoutRoot||this.resumeFrom||Q||_&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...Ay(V,"layout"),onPlay:U,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(y,Q)}else _||vb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ir(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Yw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qM),this.nodes.forEach(jM),this.nodes.forEach(zM)):this.nodes.forEach(yb),this.clearAllSnapshots();const d=In.now();rn.delta=xs(0,1e3/60,d-rn.timestamp),rn.timestamp=d,rn.isProcessing=!0,Vp.update.process(rn),Vp.preRender.process(rn),Vp.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HM),this.sharedNodes.forEach($M)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tn(this.snapshot.measuredBox.x)&&!Tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=we(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Gw(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||_a(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),ZM(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return we();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(JM))){const{scroll:g}=this.root;g&&(Do(d.x,g.offset.x),Do(d.y,g.offset.y))}return d}removeElementScroll(c){const d=we();if(ni(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&ni(d,c),Do(d.x,y.offset.x),Do(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=we();ni(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&No(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),_a(y.latestValues)&&No(m,y.latestValues)}return _a(this.latestValues)&&No(m,this.latestValues),m}removeTransform(c){const d=we();ni(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!_a(g.latestValues))continue;_g(g.latestValues)&&g.updateSnapshot();const y=we(),_=g.measurePageBox();ni(y,_),cb(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return _a(this.latestValues)&&cb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),Iu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=we(),this.targetWithTransforms=we()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ni(this.target,this.layout.layoutBox),Rw(this.target,this.targetDelta)):ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),Iu(this.relativeTargetOrigin,this.target,b.target),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_g(this.parent.latestValues)||ww(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;ni(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;yV(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=we());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ob(this.prevProjectionDelta.x,this.projectionDelta.x),ob(this.prevProjectionDelta.y,this.projectionDelta.y)),Cu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!pb(this.projectionDelta.x,this.prevProjectionDelta.x)||!pb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vo(),this.projectionDelta=Vo(),this.projectionDeltaWithTransform=Vo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},_=Vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=we(),w=m?m.source:void 0,V=this.layout?this.layout.source:void 0,U=w!==V,k=this.getStack(),F=!k||k.members.length<=1,Q=!!(U&&!F&&this.options.crossfade===!0&&!this.path.some(XM));this.animationProgress=0;let $;this.mixTargetDelta=lt=>{const st=lt/1e3;_b(_.x,c.x,st),_b(_.y,c.y,st),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Iu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QM(this.relativeTarget,this.relativeTargetOrigin,b,st),$&&OM(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=we()),ni($,this.relativeTarget)),U&&(this.animationValues=y,CM(y,g,this.latestValues,st,Q,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=st},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ir(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fe.update(()=>{ff.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bo(0)),this.currentAnimation=AM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&Qw(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||we();const _=Tn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=Tn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}ni(d,m),No(d,y),Cu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new PM),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&qp("z",c,g,this.animationValues);for(let y=0;y<Hp.length;y++)qp(`rotate${Hp[y]}`,c,g,this.animationValues),qp(`skew${Hp[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=hf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=hf(d?.pointerEvents)||""),this.hasProjected&&!_a(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=LM(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:b,y:w}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const V in Hu){if(y[V]===void 0)continue;const{correct:U,applyTo:k,isCSSVariable:F}=Hu[V],Q=_==="none"?y[V]:U(y[V],g);if(k){const $=k.length;for(let lt=0;lt<$;lt++)c[k[lt]]=Q}else F?this.options.visualElement.renderState.vars[V]=Q:c[V]=Q}this.options.layoutId&&(c.pointerEvents=g===this?hf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(gb),this.root.sharedNodes.clear()}}}function jM(n){n.updateLayout()}function zM(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:s}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?ii(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=Tn(_);_.min=e[y].min,_.max=_.min+b}):Qw(a,t.layoutBox,e)&&ii(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=Tn(e[y]);_.max=_.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+b)});const c=Vo();Cu(c,e,t.layoutBox);const d=Vo();l?Cu(d,n.applyTransform(s,!0),t.measuredBox):Cu(d,e,t.layoutBox);const m=!Gw(c);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const w=we();Iu(w,t.layoutBox,_.layoutBox);const V=we();Iu(V,e,b.layoutBox),Kw(w,V)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=V,n.relativeTargetOrigin=w,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function BM(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function FM(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function HM(n){n.clearSnapshot()}function gb(n){n.clearMeasurements()}function yb(n){n.isLayoutDirty=!1}function qM(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function vb(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function GM(n){n.resolveTargetDelta()}function KM(n){n.calcProjection()}function YM(n){n.resetSkewAndRotation()}function $M(n){n.removeLeadSnapshot()}function _b(n,t,e){n.translate=me(t.translate,0,e),n.scale=me(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function Tb(n,t,e,s){n.min=me(t.min,e.min,s),n.max=me(t.max,e.max,s)}function QM(n,t,e,s){Tb(n.x,t.x,e.x,s),Tb(n.y,t.y,e.y,s)}function XM(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const WM={duration:.45,ease:[.4,0,.1,1]},Eb=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),bb=Eb("applewebkit/")&&!Eb("chrome/")?Math.round:ai;function Ab(n){n.min=bb(n.min),n.max=bb(n.max)}function ZM(n){Ab(n.x),Ab(n.y)}function Qw(n,t,e){return n==="position"||n==="preserve-aspect"&&!sM(mb(t),mb(e),.2)}function JM(n){return n!==n.root&&n.scroll?.wasRoot}const tO=$w({attachResizeListener:(n,t)=>qu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gp={current:void 0},Xw=$w({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Gp.current){const n=new tO({});n.mount(window),n.setOptions({layoutScroll:!0}),Gp.current=n}return Gp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),eO={pan:{Feature:_M},drag:{Feature:vM,ProjectionNode:Xw,MeasureLayout:Fw}};function Sb(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=s[a];l&&fe.postRender(()=>l(t,ac(t)))}class nO extends kr{mount(){const{current:t}=this.node;t&&(this.unmount=CN(t,(e,s)=>(Sb(this.node,s,"Start"),a=>Sb(this.node,a,"End"))))}unmount(){}}class iO extends kr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ic(qu(this.node.current,"focus",()=>this.onFocus()),qu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wb(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=s[a];l&&fe.postRender(()=>l(t,ac(t)))}class sO extends kr{mount(){const{current:t}=this.node;t&&(this.unmount=VN(t,(e,s)=>(wb(this.node,s,"Start"),(a,{success:l})=>wb(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rg=new WeakMap,Kp=new WeakMap,rO=n=>{const t=Rg.get(n.target);t&&t(n)},aO=n=>{n.forEach(rO)};function oO({root:n,...t}){const e=n||document;Kp.has(e)||Kp.set(e,{});const s=Kp.get(e),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(aO,{root:n,...t})),s[a]}function lO(n,t,e){const s=oO(t);return Rg.set(n,e),s.observe(n),()=>{Rg.delete(n),s.unobserve(n)}}const uO={some:0,all:1};class cO extends kr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:a="some",once:l}=t,c={root:e?e.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:uO[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=g?y:_;b&&b(m)};return lO(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(hO(t,e))&&this.startObserver()}unmount(){}}function hO({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const fO={inView:{Feature:cO},tap:{Feature:sO},focus:{Feature:iO},hover:{Feature:nO}},dO={layout:{ProjectionNode:Xw,MeasureLayout:Fw}},mO={...ZV,...fO,...eO,...dO},Ww=mV(mO,xV);function pO({adminUser:n}){const[t,e]=j.useState(!1),[s,a]=j.useState(!1),l=fS(),c=d=>{const m=document.getElementById(d),g=document.querySelector("header"),y=g?g.offsetHeight:0,_=m.getBoundingClientRect().top+window.scrollY-y-10;window.scrollTo({top:_,behavior:"smooth"})};return j.useEffect(()=>{const d=()=>a(window.scrollY>20);return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),x.jsxs(Ww.header,{initial:{y:-80,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut"},className:`fixed top-0 left-0 w-full z-50 border-b transition-all duration-500 ${s?"backdrop-blur border-emerald-100/10 shadow-sm":"bg-transparent border-transparent"}`,children:[x.jsxs("nav",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[x.jsx("div",{className:`\r
  text-2xl sm:text-3xl md:text-4xl\r
  font-serif font-light\r
  text-gray-100 uppercase tracking-wider\r
  mr-16   /*  SEPARACIN DEL MEN */\r
`,children:"Mi Restaurante"}),x.jsxs("ul",{className:"hidden md:flex gap-8 font-light text-[17px] tracking-wide text-white",children:[x.jsx("li",{children:x.jsxs("span",{onClick:()=>c("about"),className:"relative group cursor-pointer",children:["Inicio",x.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-[2px] bg-gray-100 transition-all duration-500 group-hover:w-full"})]})}),x.jsx("li",{children:x.jsxs("span",{onClick:()=>c("menu"),className:"relative group cursor-pointer",children:["Men",x.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-[2px] bg-gray-100 transition-all duration-500 group-hover:w-full"})]})}),x.jsx("li",{children:x.jsxs("span",{onClick:()=>c("aboutUs"),className:"relative group cursor-pointer",children:["Sobre Nosotros",x.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-[2px] bg-gray-100 transition-all duration-500 group-hover:w-full"})]})}),x.jsx("li",{children:x.jsxs("span",{onClick:()=>c("contact"),className:"relative group cursor-pointer",children:["Contacto",x.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-[2px] bg-gray-100 transition-all duration-500 group-hover:w-full"})]})})]}),x.jsxs("div",{className:"hidden md:flex items-center gap-2 ml-auto",children:[x.jsx("button",{onClick:()=>c("menu"),className:`\r
      bg-emerald-800 text-white px-4 py-2 rounded-lg\r
      shadow-md shadow-emerald-500/30\r
      hover:shadow-lg hover:shadow-emerald-500/40\r
      transition-all duration-300\r
      cursor-pointer\r
    `,children:"Reservar"}),x.jsxs("button",{onClick:()=>window.location.href="/admin",className:`\r
      flex items-center gap-1\r
      px-4 py-2\r
      rounded-lg\r
      bg-white/20 backdrop-blur-md\r
      border border-black/20\r
      text-sm font-medium text-black\r
      shadow-md shadow-emerald-100/20\r
      hover:text-white hover:bg-white/30\r
      transition-all duration-600\r
      cursor-pointer\r
    `,children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 20.25a7.5 7.5 0 0115 0"})]}),"Admin"]})]}),x.jsxs("button",{className:"md:hidden flex flex-col gap-[6px] z-50",onClick:()=>e(!t),children:[x.jsx("span",{className:`h-[3px] w-8 bg-white rounded transition-all duration-300
    ${t?"rotate-45 translate-y-[9px]":""}`}),x.jsx("span",{className:`h-[3px] w-8 bg-white rounded transition-all duration-300
    ${t?"opacity-0":""}`}),x.jsx("span",{className:`h-[3px] w-8 bg-white rounded transition-all duration-300
    ${t?"-rotate-45 -translate-y-[9px]":""}`})]})]}),x.jsx("div",{className:`
md:hidden fixed top-16 left-0 right-0
bg-[#f5e6ca] backdrop-blur-lg
shadow-lg border-b border-gray-300
transition-all duration-300 overflow-hidden
${t?"max-h-[320px] opacity-100":"max-h-0 opacity-0"}
`,children:x.jsxs("ul",{className:"flex flex-col items-start gap-4 py-6 px-6 text-gray-700 font-medium",children:[x.jsxs("li",{className:"group",children:[x.jsx("span",{onClick:()=>{c("about"),e(!1)},className:"cursor-pointer transition text-lg group-hover:text-emerald-700 pl-0 group-hover:pl-2",children:"Inicio"}),x.jsx("div",{className:"h-[2px] w-0 bg-emerald-700 transition-all duration-300 group-hover:w-full"})]}),x.jsxs("li",{className:"group",children:[x.jsx("span",{onClick:()=>{c("menu"),e(!1)},className:"cursor-pointer transition text-lg group-hover:text-emerald-700 pl-0 group-hover:pl-2",children:"Men"}),x.jsx("div",{className:"h-[2px] w-0 bg-emerald-700 transition-all duration-300 group-hover:w-full"})]}),x.jsxs("li",{className:"group",children:[x.jsx("span",{onClick:()=>{c("contact"),e(!1)},className:"cursor-pointer transition text-lg group-hover:text-emerald-700 pl-0 group-hover:pl-2",children:"Contacto"}),x.jsx("div",{className:"h-[2px] w-0 bg-emerald-700 transition-all duration-300 group-hover:w-full"})]}),x.jsx("li",{children:x.jsx("button",{onClick:()=>{c("menu"),e(!1)},className:"bg-emerald-700 text-white px-4 py-2 rounded-lg shadow hover:bg-emerald-600 transition",children:"Reservar"})}),x.jsx("li",{children:x.jsxs("button",{onClick:()=>{l("/admin"),e(!1)},className:`\r
    flex items-center gap-1\r
    px-4 py-2\r
    rounded-lg\r
    bg-white/20 backdrop-blur-md\r
    border border-black/20\r
    text-sm font-medium text-black\r
    shadow-md shadow-emerald-100/20\r
    hover:text-white hover:bg-white/30\r
    transition-all duration-600\r
    cursor-pointer\r
    `,children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 20.25a7.5 7.5 0 0115 0"})]}),"Admin"]})})]})})]})}const gO=()=>{};var Rb={};const Zw=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},yO=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const a=n[e++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],c=n[e++],d=n[e++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[e++],c=n[e++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},Jw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,w=g&63;m||(w=64,c||(b=64)),s.push(e[y],e[_],e[b],e[w])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Zw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):yO(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],d=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const _=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||_==null)throw new vO;const b=l<<2|d>>4;if(s.push(b),g!==64){const w=d<<4&240|g>>2;if(s.push(w),_!==64){const V=g<<6&192|_;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _O=function(n){const t=Zw(n);return Jw.encodeByteArray(t,!0)},If=function(n){return _O(n).replace(/\./g,"")},t1=function(n){try{return Jw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function TO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const EO=()=>TO().__FIREBASE_DEFAULTS__,bO=()=>{if(typeof process>"u"||typeof Rb>"u")return;const n=Rb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},AO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&t1(n[1]);return t&&JSON.parse(t)},sd=()=>{try{return gO()||EO()||bO()||AO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},e1=n=>sd()?.emulatorHosts?.[n],SO=n=>{const t=e1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},n1=()=>sd()?.config,i1=n=>sd()?.[`_${n}`];class wO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}function nl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function s1(n){return(await fetch(n,{credentials:"include"})).ok}function RO(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[If(JSON.stringify(e)),If(JSON.stringify(c)),""].join(".")}const Du={};function xO(){const n={prod:[],emulator:[]};for(const t of Object.keys(Du))Du[t]?n.emulator.push(t):n.prod.push(t);return n}function CO(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let xb=!1;function r1(n,t){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||Du[n]===t||Du[n]||xb)return;Du[n]=t;function e(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=xO().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{xb=!0,c()},b}function y(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=CO(s),w=e("text"),V=document.getElementById(w)||document.createElement("span"),U=e("learnmore"),k=document.getElementById(U)||document.createElement("a"),F=e("preprendIcon"),Q=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const $=b.element;d($),y(k,U);const lt=g();m(Q,F),$.append(Q,V,k,lt),document.body.appendChild($)}l?(V.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function DO(){const n=sd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function MO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OO(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function PO(){return!DO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LO(){try{return typeof indexedDB=="object"}catch{return!1}}function kO(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const UO="FirebaseError";class Ps extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=UO,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?jO(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ps(a,d,s)}}function jO(n,t){return n.replace(zO,(e,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const zO=/\{\$([^}]+)}/g;function BO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function xa(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const a of e){if(!s.includes(a))return!1;const l=n[a],c=t[a];if(Cb(l)&&Cb(c)){if(!xa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!e.includes(a))return!1;return!0}function Cb(n){return n!==null&&typeof n=="object"}function lc(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function _u(n){const t={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function Tu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function FO(n,t){const e=new HO(n,t);return e.subscribe.bind(e)}class HO{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let a;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");qO(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:s},a.next===void 0&&(a.next=Yp),a.error===void 0&&(a.error=Yp),a.complete===void 0&&(a.complete=Yp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qO(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Yp(){}function xe(n){return n&&n._delegate?n._delegate:n}class Ca{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ta="[DEFAULT]";class GO{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new wO;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YO(t))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=Ta){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ta){return this.instances.has(t)}getOptions(t=Ta){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const a of s)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KO(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ta){return this.component?this.component.multipleInstances?t:Ta:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KO(n){return n===Ta?void 0:n}function YO(n){return n.instantiationMode==="EAGER"}class $O{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new GO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jt||(jt={}));const QO={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},XO=jt.INFO,WO={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},ZO=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),a=WO[t];if(a)console[a](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ly{constructor(t){this.name=t,this._logLevel=XO,this._logHandler=ZO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?QO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const JO=(n,t)=>t.some(e=>n instanceof e);let Ib,Db;function tP(){return Ib||(Ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eP(){return Db||(Db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a1=new WeakMap,xg=new WeakMap,o1=new WeakMap,$p=new WeakMap,ky=new WeakMap;function nP(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(br(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&a1.set(e,n)}).catch(()=>{}),ky.set(t,n),t}function iP(n){if(xg.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});xg.set(n,t)}let Cg={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return xg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||o1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return br(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function sP(n){Cg=n(Cg)}function rP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(Qp(this),t,...e);return o1.set(s,t.sort?t.sort():[t]),br(s)}:eP().includes(n)?function(...t){return n.apply(Qp(this),t),br(a1.get(this))}:function(...t){return br(n.apply(Qp(this),t))}}function aP(n){return typeof n=="function"?rP(n):(n instanceof IDBTransaction&&iP(n),JO(n,tP())?new Proxy(n,Cg):n)}function br(n){if(n instanceof IDBRequest)return nP(n);if($p.has(n))return $p.get(n);const t=aP(n);return t!==n&&($p.set(n,t),ky.set(t,n)),t}const Qp=n=>ky.get(n);function oP(n,t,{blocked:e,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(n,t),d=br(c);return s&&c.addEventListener("upgradeneeded",m=>{s(br(c.result),m.oldVersion,m.newVersion,br(c.transaction),m)}),e&&c.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const lP=["get","getKey","getAll","getAllKeys","count"],uP=["put","add","delete","clear"],Xp=new Map;function Nb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Xp.get(t))return Xp.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=uP.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||lP.includes(e)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),a&&m.done]))[0]};return Xp.set(t,l),l}sP(n=>({...n,get:(t,e,s)=>Nb(t,e)||n.get(t,e,s),has:(t,e)=>!!Nb(t,e)||n.has(t,e)}));class cP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(hP(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function hP(n){return n.getComponent()?.type==="VERSION"}const Ig="@firebase/app",Vb="0.14.6";const Is=new Ly("@firebase/app"),fP="@firebase/app-compat",dP="@firebase/analytics-compat",mP="@firebase/analytics",pP="@firebase/app-check-compat",gP="@firebase/app-check",yP="@firebase/auth",vP="@firebase/auth-compat",_P="@firebase/database",TP="@firebase/data-connect",EP="@firebase/database-compat",bP="@firebase/functions",AP="@firebase/functions-compat",SP="@firebase/installations",wP="@firebase/installations-compat",RP="@firebase/messaging",xP="@firebase/messaging-compat",CP="@firebase/performance",IP="@firebase/performance-compat",DP="@firebase/remote-config",NP="@firebase/remote-config-compat",VP="@firebase/storage",MP="@firebase/storage-compat",OP="@firebase/firestore",PP="@firebase/ai",LP="@firebase/firestore-compat",kP="firebase",UP="12.6.0";const Dg="[DEFAULT]",jP={[Ig]:"fire-core",[fP]:"fire-core-compat",[mP]:"fire-analytics",[dP]:"fire-analytics-compat",[gP]:"fire-app-check",[pP]:"fire-app-check-compat",[yP]:"fire-auth",[vP]:"fire-auth-compat",[_P]:"fire-rtdb",[TP]:"fire-data-connect",[EP]:"fire-rtdb-compat",[bP]:"fire-fn",[AP]:"fire-fn-compat",[SP]:"fire-iid",[wP]:"fire-iid-compat",[RP]:"fire-fcm",[xP]:"fire-fcm-compat",[CP]:"fire-perf",[IP]:"fire-perf-compat",[DP]:"fire-rc",[NP]:"fire-rc-compat",[VP]:"fire-gcs",[MP]:"fire-gcs-compat",[OP]:"fire-fst",[LP]:"fire-fst-compat",[PP]:"fire-vertex","fire-js":"fire-js",[kP]:"fire-js-all"};const Df=new Map,zP=new Map,Ng=new Map;function Mb(n,t){try{n.container.addComponent(t)}catch(e){Is.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ho(n){const t=n.name;if(Ng.has(t))return Is.debug(`There were multiple attempts to register component ${t}.`),!1;Ng.set(t,n);for(const e of Df.values())Mb(e,n);for(const e of zP.values())Mb(e,n);return!0}function Uy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function bi(n){return n==null?!1:n.settings!==void 0}const BP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new oc("app","Firebase",BP);class FP{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}const il=UP;function l1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s={name:Dg,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw Ar.create("bad-app-name",{appName:String(a)});if(e||(e=n1()),!e)throw Ar.create("no-options");const l=Df.get(a);if(l){if(xa(e,l.options)&&xa(s,l.config))return l;throw Ar.create("duplicate-app",{appName:a})}const c=new $O(a);for(const m of Ng.values())c.addComponent(m);const d=new FP(e,s,c);return Df.set(a,d),d}function u1(n=Dg){const t=Df.get(n);if(!t&&n===Dg&&n1())return l1();if(!t)throw Ar.create("no-app",{appName:n});return t}function Sr(n,t,e){let s=jP[n]??n;e&&(s+=`-${e}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Is.warn(c.join(" "));return}Ho(new Ca(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const HP="firebase-heartbeat-database",qP=1,Gu="firebase-heartbeat-store";let Wp=null;function c1(){return Wp||(Wp=oP(HP,qP,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Gu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ar.create("idb-open",{originalErrorMessage:n.message})})),Wp}async function GP(n){try{const e=(await c1()).transaction(Gu),s=await e.objectStore(Gu).get(h1(n));return await e.done,s}catch(t){if(t instanceof Ps)Is.warn(t.message);else{const e=Ar.create("idb-get",{originalErrorMessage:t?.message});Is.warn(e.message)}}}async function Ob(n,t){try{const s=(await c1()).transaction(Gu,"readwrite");await s.objectStore(Gu).put(t,h1(n)),await s.done}catch(e){if(e instanceof Ps)Is.warn(e.message);else{const s=Ar.create("idb-set",{originalErrorMessage:e?.message});Is.warn(s.message)}}}function h1(n){return`${n.name}!${n.options.appId}`}const KP=1024,YP=30;class $P{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new XP(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Pb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>YP){const a=WP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Is.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Pb(),{heartbeatsToSend:e,unsentEntries:s}=QP(this._heartbeatsCache.heartbeats),a=If(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Is.warn(t),""}}}function Pb(){return new Date().toISOString().substring(0,10)}function QP(n,t=KP){const e=[];let s=n.slice();for(const a of n){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Lb(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),Lb(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class XP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LO()?kO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await GP(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ob(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ob(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Lb(n){return If(JSON.stringify({version:2,heartbeats:n})).length}function WP(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}function ZP(n){Ho(new Ca("platform-logger",t=>new cP(t),"PRIVATE")),Ho(new Ca("heartbeat",t=>new $P(t),"PRIVATE")),Sr(Ig,Vb,n),Sr(Ig,Vb,"esm2020"),Sr("fire-js","")}ZP("");var JP="firebase",t4="12.6.0";Sr(JP,t4,"app");var kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wr,f1;(function(){var n;function t(C,R){function I(){}I.prototype=R.prototype,C.F=R.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(O,M,z){for(var D=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)D[Xt-2]=arguments[Xt];return R.prototype[M].apply(O,D)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,e),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,R,I){I||(I=0);const O=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)O[M]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(M=0;M<16;++M)O[M]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=C.g[0],I=C.g[1],M=C.g[2];let z=C.g[3],D;D=R+(z^I&(M^z))+O[0]+3614090360&4294967295,R=I+(D<<7&4294967295|D>>>25),D=z+(M^R&(I^M))+O[1]+3905402710&4294967295,z=R+(D<<12&4294967295|D>>>20),D=M+(I^z&(R^I))+O[2]+606105819&4294967295,M=z+(D<<17&4294967295|D>>>15),D=I+(R^M&(z^R))+O[3]+3250441966&4294967295,I=M+(D<<22&4294967295|D>>>10),D=R+(z^I&(M^z))+O[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=z+(M^R&(I^M))+O[5]+1200080426&4294967295,z=R+(D<<12&4294967295|D>>>20),D=M+(I^z&(R^I))+O[6]+2821735955&4294967295,M=z+(D<<17&4294967295|D>>>15),D=I+(R^M&(z^R))+O[7]+4249261313&4294967295,I=M+(D<<22&4294967295|D>>>10),D=R+(z^I&(M^z))+O[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=z+(M^R&(I^M))+O[9]+2336552879&4294967295,z=R+(D<<12&4294967295|D>>>20),D=M+(I^z&(R^I))+O[10]+4294925233&4294967295,M=z+(D<<17&4294967295|D>>>15),D=I+(R^M&(z^R))+O[11]+2304563134&4294967295,I=M+(D<<22&4294967295|D>>>10),D=R+(z^I&(M^z))+O[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=z+(M^R&(I^M))+O[13]+4254626195&4294967295,z=R+(D<<12&4294967295|D>>>20),D=M+(I^z&(R^I))+O[14]+2792965006&4294967295,M=z+(D<<17&4294967295|D>>>15),D=I+(R^M&(z^R))+O[15]+1236535329&4294967295,I=M+(D<<22&4294967295|D>>>10),D=R+(M^z&(I^M))+O[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=z+(I^M&(R^I))+O[6]+3225465664&4294967295,z=R+(D<<9&4294967295|D>>>23),D=M+(R^I&(z^R))+O[11]+643717713&4294967295,M=z+(D<<14&4294967295|D>>>18),D=I+(z^R&(M^z))+O[0]+3921069994&4294967295,I=M+(D<<20&4294967295|D>>>12),D=R+(M^z&(I^M))+O[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=z+(I^M&(R^I))+O[10]+38016083&4294967295,z=R+(D<<9&4294967295|D>>>23),D=M+(R^I&(z^R))+O[15]+3634488961&4294967295,M=z+(D<<14&4294967295|D>>>18),D=I+(z^R&(M^z))+O[4]+3889429448&4294967295,I=M+(D<<20&4294967295|D>>>12),D=R+(M^z&(I^M))+O[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=z+(I^M&(R^I))+O[14]+3275163606&4294967295,z=R+(D<<9&4294967295|D>>>23),D=M+(R^I&(z^R))+O[3]+4107603335&4294967295,M=z+(D<<14&4294967295|D>>>18),D=I+(z^R&(M^z))+O[8]+1163531501&4294967295,I=M+(D<<20&4294967295|D>>>12),D=R+(M^z&(I^M))+O[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=z+(I^M&(R^I))+O[2]+4243563512&4294967295,z=R+(D<<9&4294967295|D>>>23),D=M+(R^I&(z^R))+O[7]+1735328473&4294967295,M=z+(D<<14&4294967295|D>>>18),D=I+(z^R&(M^z))+O[12]+2368359562&4294967295,I=M+(D<<20&4294967295|D>>>12),D=R+(I^M^z)+O[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=z+(R^I^M)+O[8]+2272392833&4294967295,z=R+(D<<11&4294967295|D>>>21),D=M+(z^R^I)+O[11]+1839030562&4294967295,M=z+(D<<16&4294967295|D>>>16),D=I+(M^z^R)+O[14]+4259657740&4294967295,I=M+(D<<23&4294967295|D>>>9),D=R+(I^M^z)+O[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=z+(R^I^M)+O[4]+1272893353&4294967295,z=R+(D<<11&4294967295|D>>>21),D=M+(z^R^I)+O[7]+4139469664&4294967295,M=z+(D<<16&4294967295|D>>>16),D=I+(M^z^R)+O[10]+3200236656&4294967295,I=M+(D<<23&4294967295|D>>>9),D=R+(I^M^z)+O[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=z+(R^I^M)+O[0]+3936430074&4294967295,z=R+(D<<11&4294967295|D>>>21),D=M+(z^R^I)+O[3]+3572445317&4294967295,M=z+(D<<16&4294967295|D>>>16),D=I+(M^z^R)+O[6]+76029189&4294967295,I=M+(D<<23&4294967295|D>>>9),D=R+(I^M^z)+O[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=z+(R^I^M)+O[12]+3873151461&4294967295,z=R+(D<<11&4294967295|D>>>21),D=M+(z^R^I)+O[15]+530742520&4294967295,M=z+(D<<16&4294967295|D>>>16),D=I+(M^z^R)+O[2]+3299628645&4294967295,I=M+(D<<23&4294967295|D>>>9),D=R+(M^(I|~z))+O[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=z+(I^(R|~M))+O[7]+1126891415&4294967295,z=R+(D<<10&4294967295|D>>>22),D=M+(R^(z|~I))+O[14]+2878612391&4294967295,M=z+(D<<15&4294967295|D>>>17),D=I+(z^(M|~R))+O[5]+4237533241&4294967295,I=M+(D<<21&4294967295|D>>>11),D=R+(M^(I|~z))+O[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=z+(I^(R|~M))+O[3]+2399980690&4294967295,z=R+(D<<10&4294967295|D>>>22),D=M+(R^(z|~I))+O[10]+4293915773&4294967295,M=z+(D<<15&4294967295|D>>>17),D=I+(z^(M|~R))+O[1]+2240044497&4294967295,I=M+(D<<21&4294967295|D>>>11),D=R+(M^(I|~z))+O[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=z+(I^(R|~M))+O[15]+4264355552&4294967295,z=R+(D<<10&4294967295|D>>>22),D=M+(R^(z|~I))+O[6]+2734768916&4294967295,M=z+(D<<15&4294967295|D>>>17),D=I+(z^(M|~R))+O[13]+1309151649&4294967295,I=M+(D<<21&4294967295|D>>>11),D=R+(M^(I|~z))+O[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=z+(I^(R|~M))+O[11]+3174756917&4294967295,z=R+(D<<10&4294967295|D>>>22),D=M+(R^(z|~I))+O[2]+718787259&4294967295,M=z+(D<<15&4294967295|D>>>17),D=I+(z^(M|~R))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+z&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const I=R-this.blockSize,O=this.C;let M=this.h,z=0;for(;z<R;){if(M==0)for(;z<=I;)a(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<R;)if(O[M++]=C.charCodeAt(z++),M==this.blockSize){a(this,O),M=0;break}}else for(;z<R;)if(O[M++]=C[z++],M==this.blockSize){a(this,O),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)C[R++]=this.g[I]>>>O&255;return C};function l(C,R){var I=d;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=R(C)}function c(C,R){this.h=R;const I=[];let O=!0;for(let M=C.length-1;M>=0;M--){const z=C[M]|0;O&&z==R||(I[M]=z,O=!1)}this.g=I}var d={};function m(C){return-128<=C&&C<128?l(C,function(R){return new c([R|0],R<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return k(g(-C));const R=[];let I=1;for(let O=0;C>=I;O++)R[O]=C/I|0,I*=4294967296;return new c(R,0)}function y(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return k(y(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let O=_;for(let z=0;z<C.length;z+=8){var M=Math.min(8,C.length-z);const D=parseInt(C.substring(z,z+M),R);M<8?(M=g(Math.pow(R,M)),O=O.j(M).add(g(D))):(O=O.j(I),O=O.add(g(D)))}return O}var _=m(0),b=m(1),w=m(16777216);n=c.prototype,n.m=function(){if(U(this))return-k(this).m();let C=0,R=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);C+=(O>=0?O:4294967296+O)*R,R*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(V(this))return"0";if(U(this))return"-"+k(this).toString(C);const R=g(Math.pow(C,6));var I=this;let O="";for(;;){const M=lt(I,R).g;I=F(I,M.j(R));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=M,V(I))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function V(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function U(C){return C.h==-1}n.l=function(C){return C=F(this,C),U(C)?-1:V(C)?0:1};function k(C){const R=C.g.length,I=[];for(let O=0;O<R;O++)I[O]=~C.g[O];return new c(I,~C.h).add(b)}n.abs=function(){return U(this)?k(this):this},n.add=function(C){const R=Math.max(this.g.length,C.g.length),I=[];let O=0;for(let M=0;M<=R;M++){let z=O+(this.i(M)&65535)+(C.i(M)&65535),D=(z>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);O=D>>>16,z&=65535,D&=65535,I[M]=D<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function F(C,R){return C.add(k(R))}n.j=function(C){if(V(this)||V(C))return _;if(U(this))return U(C)?k(this).j(k(C)):k(k(this).j(C));if(U(C))return k(this.j(k(C)));if(this.l(w)<0&&C.l(w)<0)return g(this.m()*C.m());const R=this.g.length+C.g.length,I=[];for(var O=0;O<2*R;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<C.g.length;M++){const z=this.i(O)>>>16,D=this.i(O)&65535,Xt=C.i(M)>>>16,ue=C.i(M)&65535;I[2*O+2*M]+=D*ue,Q(I,2*O+2*M),I[2*O+2*M+1]+=z*ue,Q(I,2*O+2*M+1),I[2*O+2*M+1]+=D*Xt,Q(I,2*O+2*M+1),I[2*O+2*M+2]+=z*Xt,Q(I,2*O+2*M+2)}for(C=0;C<R;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=R;C<2*R;C++)I[C]=0;return new c(I,0)};function Q(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function $(C,R){this.g=C,this.h=R}function lt(C,R){if(V(R))throw Error("division by zero");if(V(C))return new $(_,_);if(U(C))return R=lt(k(C),R),new $(k(R.g),k(R.h));if(U(R))return R=lt(C,k(R)),new $(k(R.g),R.h);if(C.g.length>30){if(U(C)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var I=b,O=R;O.l(C)<=0;)I=st(I),O=st(O);var M=ht(I,1),z=ht(O,1);for(O=ht(O,2),I=ht(I,2);!V(O);){var D=z.add(O);D.l(C)<=0&&(M=M.add(I),z=D),O=ht(O,1),I=ht(I,1)}return R=F(C,M.j(R)),new $(M,R)}for(M=_;C.l(R)>=0;){for(I=Math.max(1,Math.floor(C.m()/R.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=g(I),D=z.j(R);U(D)||D.l(C)>0;)I-=O,z=g(I),D=z.j(R);V(z)&&(z=b),M=M.add(z),C=F(C,D)}return new $(M,C)}n.B=function(C){return lt(this,C).h},n.and=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<R;O++)I[O]=this.i(O)&C.i(O);return new c(I,this.h&C.h)},n.or=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<R;O++)I[O]=this.i(O)|C.i(O);return new c(I,this.h|C.h)},n.xor=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<R;O++)I[O]=this.i(O)^C.i(O);return new c(I,this.h^C.h)};function st(C){const R=C.g.length+1,I=[];for(let O=0;O<R;O++)I[O]=C.i(O)<<1|C.i(O-1)>>>31;return new c(I,C.h)}function ht(C,R){const I=R>>5;R%=32;const O=C.g.length-I,M=[];for(let z=0;z<O;z++)M[z]=R>0?C.i(z+I)>>>R|C.i(z+I+1)<<32-R:C.i(z+I);return new c(M,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,f1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,wr=c}).apply(typeof kb<"u"?kb:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var d1,Eu,m1,df,Vg,p1,g1,y1;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=e(this);function a(h,v){if(v)t:{var E=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var H=h[S];if(!(H in E))break t;E=E[H]}h=h[h.length-1],S=E[h],v=v(S),v!=S&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&E.push([S,v[S]]);return E}});var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function g(h,v,E){return g=m,g.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function _(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(S,H,Y){for(var at=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)at[Dt-2]=arguments[Dt];return v.prototype[H].apply(S,at)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const v=h.length;if(v>0){const E=Array(v);for(let S=0;S<v;S++)E[S]=h[S];return E}return[]}function V(h,v){for(let S=1;S<arguments.length;S++){const H=arguments[S];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=h.length||0;const Y=H.length||0;h.length=E+Y;for(let at=0;at<Y;at++)h[E+at]=H[at]}else h.push(H)}}class U{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function k(h){c.setTimeout(()=>{throw h},0)}function F(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Q{constructor(){this.h=this.g=null}add(v,E){const S=$.get();S.set(v,E),this.h?this.h.next=S:this.g=S,this.h=S}}var $=new U(()=>new lt,h=>h.reset());class lt{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ht=!1,C=new Q,R=()=>{const h=Promise.resolve(void 0);st=()=>{h.then(I)}};function I(){for(var h;h=F();){try{h.h.call(h.g)}catch(E){k(E)}var v=$;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ht=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Xt(h,v){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(Xt,M),Xt.prototype.init=function(h,v){const E=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Xt.Z.h.call(this)},Xt.prototype.h=function(){Xt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),W=0;function rt(h,v,E,S,H){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!S,this.ha=H,this.key=++W,this.da=this.fa=!1}function dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ct(h,v,E){for(const S in h)v.call(E,h[S],S,h)}function Mt(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function L(h){const v={};for(const E in h)v[E]=h[E];return v}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(h,v){let E,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(E in S)h[E]=S[E];for(let Y=0;Y<et.length;Y++)E=et[Y],Object.prototype.hasOwnProperty.call(S,E)&&(h[E]=S[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,v,E,S,H){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const at=xt(h,v,S,H);return at>-1?(v=h[at],E||(v.fa=!1)):(v=new rt(v,this.src,Y,!!S,H),v.fa=E,h.push(v)),v};function At(h,v){const E=v.type;if(E in h.g){var S=h.g[E],H=Array.prototype.indexOf.call(S,v,void 0),Y;(Y=H>=0)&&Array.prototype.splice.call(S,H,1),Y&&(dt(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function xt(h,v,E,S){for(let H=0;H<h.length;++H){const Y=h[H];if(!Y.da&&Y.listener==v&&Y.capture==!!E&&Y.ha==S)return H}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),ye={};function ct(h,v,E,S,H){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)ct(h,v[Y],E,S,H);return null}return E=fl(E),h&&h[ue]?h.J(v,E,d(S)?!!S.capture:!1,H):wt(h,v,E,!1,S,H)}function wt(h,v,E,S,H,Y){if(!v)throw Error("Invalid event type");const at=d(H)?!!H.capture:!!H;let Dt=Fr(h);if(Dt||(h[Lt]=Dt=new ft(h)),E=Dt.add(v,E,S,at,Y),E.proxy)return E;if(S=Gt(),E.proxy=S,S.src=h,S.listener=E,h.addEventListener)z||(H=at),H===void 0&&(H=!1),h.addEventListener(v.toString(),S,H);else if(h.attachEvent)h.attachEvent(We(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Gt(){function h(E){return v.call(h.src,h.listener,E)}const v=li;return h}function de(h,v,E,S,H){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)de(h,v[Y],E,S,H);else S=d(S)?!!S.capture:!!S,E=fl(E),h&&h[ue]?(h=h.i,Y=String(v).toString(),Y in h.g&&(v=h.g[Y],E=xt(v,E,S,H),E>-1&&(dt(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Fr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=xt(v,E,S,H)),(E=h>-1?v[h]:null)&&Ce(E))}function Ce(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ue])At(v.i,h);else{var E=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(E,S,h.capture):v.detachEvent?v.detachEvent(We(E),S):v.addListener&&v.removeListener&&v.removeListener(S),(E=Fr(v))?(At(E,h),E.h==0&&(E.src=null,v[Lt]=null)):dt(h)}}}function We(h){return h in ye?ye[h]:ye[h]="on"+h}function li(h,v){if(h.da)h=!0;else{v=new Xt(v,this);const E=h.listener,S=h.ha||h.src;h.fa&&Ce(h),h=E.call(S,v)}return h}function Fr(h){return h=h[Lt],h instanceof ft?h:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(h){return typeof h=="function"?h:(h[hl]||(h[hl]=function(v){return h.handleEvent(v)}),h[hl])}function Ie(){O.call(this),this.i=new ft(this),this.M=this,this.G=null}_(Ie,O),Ie.prototype[ue]=!0,Ie.prototype.removeEventListener=function(h,v,E,S){de(this,h,v,E,S)};function Fe(h,v){var E,S=h.G;if(S)for(E=[];S;S=S.G)E.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new M(v,h);else if(v instanceof M)v.target=v.target||h;else{var H=v;v=new M(S,h),ot(v,H)}H=!0;let Y,at;if(E)for(at=E.length-1;at>=0;at--)Y=v.g=E[at],H=Ls(Y,S,!0,v)&&H;if(Y=v.g=h,H=Ls(Y,S,!0,v)&&H,H=Ls(Y,S,!1,v)&&H,E)for(at=0;at<E.length;at++)Y=v.g=E[at],H=Ls(Y,S,!1,v)&&H}Ie.prototype.N=function(){if(Ie.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let S=0;S<E.length;S++)dt(E[S]);delete h.g[v],h.h--}}this.G=null},Ie.prototype.J=function(h,v,E,S){return this.i.add(String(h),v,!1,E,S)},Ie.prototype.K=function(h,v,E,S){return this.i.add(String(h),v,!0,E,S)};function Ls(h,v,E,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let Y=0;Y<v.length;++Y){const at=v[Y];if(at&&!at.da&&at.capture==E){const Dt=at.listener,be=at.ha||at.src;at.fa&&At(h.i,at),H=Dt.call(be,S)!==!1&&H}}return H&&!S.defaultPrevented}function Rd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Ec(h){h.g=Rd(()=>{h.g=null,h.i&&(h.i=!1,Ec(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class gn extends O{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ec(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(h){O.call(this),this.h=h,this.g={}}_(Hr,O);var dl=[];function ml(h){Ct(h.g,function(v,E){this.g.hasOwnProperty(E)&&Ce(v)},h),h.g={}}Hr.prototype.N=function(){Hr.Z.N.call(this),ml(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ks=c.JSON.stringify,xd=c.JSON.parse,bc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ac(){}function Sc(){}var ui={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ze(){M.call(this,"d")}_(Ze,M);function Hn(){M.call(this,"c")}_(Hn,M);var Ee={},wc=null;function La(){return wc=wc||new Ie}Ee.Ia="serverreachability";function Rc(h){M.call(this,Ee.Ia,h)}_(Rc,M);function xi(h){const v=La();Fe(v,new Rc(v))}Ee.STAT_EVENT="statevent";function qr(h,v){M.call(this,Ee.STAT_EVENT,h),this.stat=v}_(qr,M);function De(h){const v=La();Fe(v,new qr(v,h))}Ee.Ja="timingevent";function Ci(h,v){M.call(this,Ee.Ja,h),this.size=v}_(Ci,M);function Ii(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ci(){this.g=!0}ci.prototype.ua=function(){this.g=!1};function Cd(h,v,E,S,H,Y){h.info(function(){if(h.g)if(Y){var at="",Dt=Y.split("&");for(let $t=0;$t<Dt.length;$t++){var be=Dt[$t].split("=");if(be.length>1){const ce=be[0];be=be[1];const Yn=ce.split("_");at=Yn.length>=2&&Yn[1]=="type"?at+(ce+"="+be+"&"):at+(ce+"=redacted&")}}}else at=null;else at=Y;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+v+`
`+E+`
`+at})}function xc(h,v,E,S,H,Y,at){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+v+`
`+E+`
`+Y+" "+at})}function Di(h,v,E,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Id(h,E)+(S?" "+S:"")})}function Gr(h,v){h.info(function(){return"TIMEOUT: "+v})}ci.prototype.info=function(){};function Id(h,v){if(!h.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var E=Y[h];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var H=S[0];if(H!="noop"&&H!="stop"&&H!="close")for(let at=1;at<S.length;at++)S[at]=""}}}}return ks(Y)}catch{return v}}var Kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function Yr(){}_(Yr,Ac),Yr.prototype.g=function(){return new XMLHttpRequest},gl=new Yr;function ss(h){return encodeURIComponent(String(h))}function Cc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function hi(h,v,E,S){this.j=h,this.i=v,this.l=E,this.S=S||1,this.V=new Hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var Ne={},Ke={};function Ni(h,v,E){h.M=1,h.A=$r(Me(v)),h.u=E,h.R=!0,ka(h,null)}function ka(h,v){h.F=Date.now(),Vi(h),h.B=Me(h.A);var E=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Ba(E.i,"t",S),h.C=0,E=h.j.L,h.h=new fi,h.g=Hc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new gn(g(h.Y,h,h.g),h.P)),v=h.V,E=h.g,S=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(dl[0]=H.toString()),H=dl);for(let Y=0;Y<H.length;Y++){const at=ct(E,H[Y],S||v.handleEvent,!1,v.h||v);if(!at)break;v.g[at.key]=at}v=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),xi(),Cd(h.i,h.v,h.B,h.l,h.S,h.u)}hi.prototype.ba=function(h){h=h.target;const v=this.O;v&&pi(h)==3?v.j():this.Y(h)},hi.prototype.Y=function(h){try{if(h==this.g)t:{const Dt=pi(this.g),be=this.g.ya(),$t=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||Je(this.g)))){this.K||Dt!=4||be==7||(be==8||$t<=0?xi(3):xi(2)),Mi(this);var v=this.g.ca();this.X=v;var E=Dd(this);if(this.o=v==200,xc(this.i,this.v,this.B,this.l,this.S,Dt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var S,H=this.g;if((S=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(S)){var Y=S;break e}}Y=null}if(h=Y)Di(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,h);else{this.o=!1,this.m=3,De(12),Nn(this),qn(this);break t}}if(this.R){h=!0;let ce;for(;!this.K&&this.C<E.length;)if(ce=Dc(this,E),ce==Ke){Dt==4&&(this.m=4,De(14),h=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==Ne){this.m=4,De(15),Di(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Di(this.i,this.l,ce,null),Oi(this,ce);if(Ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||E.length!=0||this.h.h||(this.m=1,De(16),h=!1),this.o=this.o&&h,!h)Di(this.i,this.l,E,"[Invalid Chunked Response]"),Nn(this),qn(this);else if(E.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Nl(at),at.P=!0,De(11))}}else Di(this.i,this.l,E,null),Oi(this,E);Dt==4&&Nn(this),this.o&&!this.K&&(Dt==4?jc(this.j,this):(this.o=!1,Vi(this)))}else as(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,De(12)):(this.m=0,De(13)),Nn(this),qn(this)}}}catch{}finally{}};function Dd(h){if(!Ic(h))return h.g.la();const v=Je(h.g);if(v==="")return"";let E="";const S=v.length,H=pi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Nn(h),qn(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<S;Y++)h.h.h=!0,E+=h.h.i.decode(v[Y],{stream:!(H&&Y==S-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function Ic(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Dc(h,v){var E=h.C,S=v.indexOf(`
`,E);return S==-1?Ke:(E=Number(v.substring(E,S)),isNaN(E)?Ne:(S+=1,S+E>v.length?Ke:(v=v.slice(S,S+E),h.C=S+E,v)))}hi.prototype.cancel=function(){this.K=!0,Nn(this)};function Vi(h){h.T=Date.now()+h.H,Ua(h,h.H)}function Ua(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ii(g(h.aa,h),v)}function Mi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}hi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Gr(this.i,this.B),this.M!=2&&(xi(),De(17)),Nn(this),this.m=2,qn(this)):Ua(this,this.T-h)};function qn(h){h.j.I==0||h.K||jc(h.j,h)}function Nn(h){Mi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,ml(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Oi(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Li(E.h,h))){if(!h.L&&Li(E.h,h)&&E.I==3){try{var S=E.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ka(E),Gs(E);else break t;ea(E),De(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ii(g(E.Va,E),6e3));Pi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Fi(E,11)}else if((h.L||E.g==h)&&Ka(E),!D(v))for(H=E.Ba.g.parse(v),v=0;v<H.length;v++){let $t=H[v];const ce=$t[0];if(!(ce<=E.K))if(E.K=ce,$t=$t[1],E.I==2)if($t[0]=="c"){E.M=$t[1],E.ba=$t[2];const Yn=$t[3];Yn!=null&&(E.ka=Yn,E.j.info("VER="+E.ka));const Hi=$t[4];Hi!=null&&(E.za=Hi,E.j.info("SVER="+E.za));const gi=$t[5];gi!=null&&typeof gi=="number"&&gi>0&&(S=1.5*gi,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const yi=h.g;if(yi){const na=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var Y=S.h;Y.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(_l(Y,Y.h),Y.h=null))}if(S.G){const Ya=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(S.wa=Ya,Wt(S.J,S.G,Ya))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var at=h;if(S.na=Fc(S,S.L?S.ba:null,S.W),at.L){Tl(S.h,at);var Dt=at,be=S.O;be&&(Dt.H=be),Dt.D&&(Mi(Dt),Vi(Dt)),S.g=at}else kc(S);E.i.length>0&&Bi(E)}else $t[0]!="stop"&&$t[0]!="close"||Fi(E,7);else E.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Fi(E,7):Il(E):$t[0]!="noop"&&E.l&&E.l.qa($t),E.A=0)}}xi(4)}catch{}}var Ve=class{constructor(h,v){this.g=h,this.map=v}};function yl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pi(h){return h.h?1:h.g?h.g.size:0}function Li(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function _l(h,v){h.g?h.g.add(v):h.h=v}function Tl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}yl.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function El(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return w(h.i)}var Nc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ja(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const S=h[E].indexOf("=");let H,Y=null;S>=0?(H=h[E].substring(0,S),Y=h[E].substring(S+1)):H=h[E],v(H,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Vn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Vn?(this.l=h.l,Ye(this,h.j),this.o=h.o,this.g=h.g,Us(this,h.u),this.h=h.h,bl(this,Pc(h.i)),this.m=h.m):h&&(v=String(h).match(Nc))?(this.l=!1,Ye(this,v[1]||"",!0),this.o=ki(v[2]||""),this.g=ki(v[3]||"",!0),Us(this,v[4]),this.h=ki(v[5]||"",!0),bl(this,v[6]||"",!0),this.m=ki(v[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}Vn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Qr(v,za,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Qr(v,za,!0),"@"),h.push(ss(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Qr(E,E.charAt(0)=="/"?Al:Vc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Qr(E,Mc)),h.join("")},Vn.prototype.resolve=function(h){const v=Me(this);let E=!!h.j;E?Ye(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var S=h.h;if(E)Us(v,h.u);else if(E=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var H=v.h.lastIndexOf("/");H!=-1&&(S=v.h.slice(0,H+1)+S)}if(H=S,H==".."||H==".")S="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){S=H.lastIndexOf("/",0)==0,H=H.split("/");const Y=[];for(let at=0;at<H.length;){const Dt=H[at++];Dt=="."?S&&at==H.length&&Y.push(""):Dt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&at==H.length&&Y.push("")):(Y.push(Dt),S=!0)}S=Y.join("/")}else S=H}return E?v.h=S:E=h.i.toString()!=="",E?bl(v,Pc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Me(h){return new Vn(h)}function Ye(h,v,E){h.j=E?ki(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Us(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function bl(h,v,E){v instanceof zs?(h.i=v,Fa(h.i,h.l)):(E||(v=Qr(v,js)),h.i=new zs(v,h.l))}function Wt(h,v,E){h.i.set(v,E)}function $r(h){return Wt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ki(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Qr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,En),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function En(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var za=/[#\/\?@]/g,Vc=/[#\?:]/g,Al=/[#\?]/g,js=/[#\?@]/g,Mc=/#/g;function zs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function bn(h){h.g||(h.g=new Map,h.h=0,h.i&&ja(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=zs.prototype,n.add=function(h,v){bn(this),this.i=null,h=Bs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Oc(h,v){bn(h),v=Bs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Sl(h,v){return bn(h),v=Bs(h,v),h.g.has(v)}n.forEach=function(h,v){bn(this),this.g.forEach(function(E,S){E.forEach(function(H){h.call(v,H,S,this)},this)},this)};function wl(h,v){bn(h);let E=[];if(typeof v=="string")Sl(h,v)&&(E=E.concat(h.g.get(Bs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}n.set=function(h,v){return bn(this),this.i=null,h=Bs(this,h),Sl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=wl(this,h),h.length>0?String(h[0]):v):v};function Ba(h,v,E){Oc(h,v),E.length>0&&(h.i=null,h.g.set(Bs(h,v),w(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var E=v[S];const H=ss(E);E=wl(this,E);for(let Y=0;Y<E.length;Y++){let at=H;E[Y]!==""&&(at+="="+ss(E[Y])),h.push(at)}}return this.i=h.join("&")};function Pc(h){const v=new zs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Bs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Fa(h,v){v&&!h.j&&(bn(h),h.i=null,h.g.forEach(function(E,S){const H=S.toLowerCase();S!=H&&(Oc(this,S),Ba(this,H,E))},h)),h.j=v}function di(h,v){const E=new ci;if(c.Image){const S=new Image;S.onload=y(Gn,E,"TestLoadImage: loaded",!0,v,S),S.onerror=y(Gn,E,"TestLoadImage: error",!1,v,S),S.onabort=y(Gn,E,"TestLoadImage: abort",!1,v,S),S.ontimeout=y(Gn,E,"TestLoadImage: timeout",!1,v,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function Rl(h,v){const E=new ci,S=new AbortController,H=setTimeout(()=>{S.abort(),Gn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(Y=>{clearTimeout(H),Y.ok?Gn(E,"TestPingServer: ok",!0,v):Gn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Gn(E,"TestPingServer: error",!1,v)})}function Gn(h,v,E,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(E)}catch{}}function Fs(){this.g=new bc}function Ui(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Ui,Ac),Ui.prototype.g=function(){return new Xr(this.i,this.h)};function Xr(h,v){Ie.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Xr,Ie),n=Xr.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,mi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ha(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ha(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Hs(this):mi(this),this.readyState==3&&Ha(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Hs(this))},n.Na=function(h){this.g&&(this.response=h,Hs(this))},n.ga=function(){this.g&&Hs(this)};function Hs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,mi(h)}n.setRequestHeader=function(h,v){this.A.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function mi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Kn(h){let v="";return Ct(h,function(E,S){v+=S,v+=":",v+=E,v+=`\r
`}),v}function Wr(h,v,E){t:{for(S in E){var S=!1;break t}S=!0}S||(E=Kn(E),typeof h=="string"?E!=null&&ss(E):Wt(h,v,E))}function te(h){Ie.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(te,Ie);var ji=/^https?$/i,xl=["POST","PUT"];n=te.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,v,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Y){Zr(this,Y);return}if(h=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)E.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())E.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(xl,v,void 0)>=0)||S||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,at]of E)this.g.setRequestHeader(Y,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Zr(this,Y)}};function Zr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Cl(h),rs(h)}function Cl(h){h.A||(h.A=!0,Fe(h,"complete"),Fe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Fe(this,"complete"),Fe(this,"abort"),rs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),te.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Jr(this):this.Xa())},n.Xa=function(){Jr(this)};function Jr(h){if(h.h&&typeof l<"u"){if(h.v&&pi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Fe(h,"readystatechange"),pi(h)==4){h.h=!1;try{const Y=h.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var S;if(S=Y===0){let at=String(h.D).match(Nc)[1]||null;!at&&c.self&&c.self.location&&(at=c.self.location.protocol.slice(0,-1)),S=!ji.test(at?at.toLowerCase():"")}E=S}if(E)Fe(h,"complete"),Fe(h,"success");else{h.o=6;try{var H=pi(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Cl(h)}}finally{rs(h)}}}}function rs(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Fe(h,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function pi(h){return h.g?h.g.readyState:0}n.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),xd(v)}};function Je(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function as(h){const v={};h=(h.g&&pi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(D(h[S]))continue;var E=Cc(h[S]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=v[H]||[];v[H]=Y,Y.push(E)}Mt(v,function(S){return S.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function qs(h){this.za=0,this.i=[],this.j=new ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,h),this.Za=zi("retryDelaySeedMs",1e4,h),this.Ta=zi("forwardChannelMaxRetries",2,h),this.va=zi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(h&&h.concurrentRequestLimit),this.Ba=new Fs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=qs.prototype,n.ka=8,n.I=1,n.connect=function(h,v,E,S){De(0),this.W=h,this.H=v||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Fc(this,null,this.W),Bi(this)};function Il(h){if(qa(h),h.I==3){var v=h.V++,E=Me(h.J);if(Wt(E,"SID",h.M),Wt(E,"RID",v),Wt(E,"TYPE","terminate"),ta(h,E),v=new hi(h,h.j,v),v.M=2,v.A=$r(Me(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=Hc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Vi(v)}Bc(h)}function Gs(h){h.g&&(Nl(h),h.g.cancel(),h.g=null)}function qa(h){Gs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ka(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Bi(h){if(!vl(h.h)&&!h.m){h.m=!0;var v=h.Ea;st||R(),ht||(st(),ht=!0),C.add(v,h),h.D=0}}function Ga(h,v){return Pi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ii(g(h.Ea,h,v),zc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new hi(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=L(Y),ot(Y,this.U)):Y=this.U),this.u!==null||this.R||(H.J=Y,Y=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Lc(this,H,v),E=Me(this.J),Wt(E,"RID",h),Wt(E,"CVER",22),this.G&&Wt(E,"X-HTTP-Session-Id",this.G),ta(this,E),Y&&(this.R?v="headers="+ss(Kn(Y))+"&"+v:this.u&&Wr(E,this.u,Y)),_l(this.h,H),this.Ra&&Wt(E,"TYPE","init"),this.S?(Wt(E,"$req",v),Wt(E,"SID","null"),H.U=!0,Ni(H,E,null)):Ni(H,E,v),this.I=2}}else this.I==3&&(h?Dl(this,h):this.i.length==0||vl(this.h)||Dl(this))};function Dl(h,v){var E;v?E=v.l:E=h.V++;const S=Me(h.J);Wt(S,"SID",h.M),Wt(S,"RID",E),Wt(S,"AID",h.K),ta(h,S),h.u&&h.o&&Wr(S,h.u,h.o),E=new hi(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Lc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),_l(h.h,E),Ni(E,S,v)}function ta(h,v){h.H&&Ct(h.H,function(E,S){Wt(v,S,E)}),h.l&&Ct({},function(E,S){Wt(v,S,E)})}function Lc(h,v,E){E=Math.min(h.i.length,E);const S=h.l?g(h.l.Ka,h.l,h):null;t:{var H=h.i;let Dt=-1;for(;;){const be=["count="+E];Dt==-1?E>0?(Dt=H[0].g,be.push("ofs="+Dt)):Dt=0:be.push("ofs="+Dt);let $t=!0;for(let ce=0;ce<E;ce++){var Y=H[ce].g;const Yn=H[ce].map;if(Y-=Dt,Y<0)Dt=Math.max(0,H[ce].g-100),$t=!1;else try{Y="req"+Y+"_"||"";try{var at=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Hi,gi]of at){let yi=gi;d(gi)&&(yi=ks(gi)),be.push(Y+Hi+"="+encodeURIComponent(yi))}}catch(Hi){throw be.push(Y+"type="+encodeURIComponent("_badmap")),Hi}}catch{S&&S(Yn)}}if($t){at=be.join("&");break t}}at=void 0}return h=h.i.splice(0,E),v.G=h,at}function kc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;st||R(),ht||(st(),ht=!0),C.add(v,h),h.A=0}}function ea(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ii(g(h.Da,h),zc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Uc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ii(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,De(10),Gs(this),Uc(this))};function Nl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Uc(h){h.g=new hi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Me(h.na);Wt(v,"RID","rpc"),Wt(v,"SID",h.M),Wt(v,"AID",h.K),Wt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Wt(v,"TO",h.ia),Wt(v,"TYPE","xmlhttp"),ta(h,v),h.u&&h.o&&Wr(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=$r(Me(v)),E.u=null,E.R=!0,ka(E,h)}n.Va=function(){this.C!=null&&(this.C=null,Gs(this),ea(this),De(19))};function Ka(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function jc(h,v){var E=null;if(h.g==v){Ka(h),Nl(h),h.g=null;var S=2}else if(Li(h.h,v))E=v.G,Tl(h.h,v),S=1;else return;if(h.I!=0){if(v.o)if(S==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var H=h.D;S=La(),Fe(S,new Ci(S,E)),Bi(h)}else kc(h);else if(H=v.m,H==3||H==0&&v.X>0||!(S==1&&Ga(h,v)||S==2&&ea(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),H){case 1:Fi(h,5);break;case 4:Fi(h,10);break;case 3:Fi(h,6);break;default:Fi(h,2)}}}function zc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Fi(h,v){if(h.j.info("Error code "+v),v==2){var E=g(h.bb,h),S=h.Ua;const H=!S;S=new Vn(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ye(S,"https"),$r(S),H?di(S.toString(),E):Rl(S.toString(),E)}else De(2);h.I=0,h.l&&h.l.pa(v),Bc(h),qa(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function Bc(h){if(h.I=0,h.ja=[],h.l){const v=El(h.h);(v.length!=0||h.i.length!=0)&&(V(h.ja,v),V(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function Fc(h,v,E){var S=E instanceof Vn?Me(E):new Vn(E);if(S.g!="")v&&(S.g=v+"."+S.g),Us(S,S.u);else{var H=c.location;S=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const Y=new Vn(null);S&&Ye(Y,S),v&&(Y.g=v),H&&Us(Y,H),E&&(Y.h=E),S=Y}return E=h.G,v=h.wa,E&&v&&Wt(S,E,v),Wt(S,"VER",h.ka),ta(h,S),S}function Hc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new te(new Ui({ab:E})):new te(h.ma),v.Fa(h.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qc(){}n=qc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ks(){}Ks.prototype.g=function(h,v){return new yn(h,v)};function yn(h,v){Ie.call(this),this.g=new qs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new os(this)}_(yn,Ie),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Il(this.g)},yn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=ks(h),h=E);v.i.push(new Ve(v.Ya++,h)),v.I==3&&Bi(v)},yn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,yn.Z.N.call(this)};function Gc(h){Ze.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Gc,Ze);function Kc(){Hn.call(this),this.status=1}_(Kc,Hn);function os(h){this.g=h}_(os,qc),os.prototype.ra=function(){Fe(this.g,"a")},os.prototype.qa=function(h){Fe(this.g,new Gc(h))},os.prototype.pa=function(h){Fe(this.g,new Kc)},os.prototype.oa=function(){Fe(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,y1=function(){return new Ks},g1=function(){return La()},p1=Ee,Vg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,df=Kr,pl.COMPLETE="complete",m1=pl,Sc.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",Ie.prototype.listen=Ie.prototype.J,Eu=Sc,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,d1=te}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const Ub="@firebase/firestore",jb="4.9.2";class hn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let sl="12.3.0";const Ia=new Ly("@firebase/firestore");function So(){return Ia.logLevel}function mt(n,...t){if(Ia.logLevel<=jt.DEBUG){const e=t.map(jy);Ia.debug(`Firestore (${sl}): ${n}`,...e)}}function Ds(n,...t){if(Ia.logLevel<=jt.ERROR){const e=t.map(jy);Ia.error(`Firestore (${sl}): ${n}`,...e)}}function qo(n,...t){if(Ia.logLevel<=jt.WARN){const e=t.map(jy);Ia.warn(`Firestore (${sl}): ${n}`,...e)}}function jy(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function _t(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,v1(n,s,e)}function v1(n,t,e){let s=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw Ds(s),new Error(s)}function qt(n,t,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,n||v1(t,a,s)}function Rt(n,t){return n}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ps{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wi{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class _1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class e4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(hn.UNAUTHENTICATED)))}shutdown(){}}class n4{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class i4{constructor(t){this.t=t,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){qt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,e(m)):Promise.resolve();let l=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Wi,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Wi)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new _1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new hn(t)}}class s4{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class r4{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new s4(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a4{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){qt(this.o===void 0,3512);const s=l=>{l.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new zb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function o4(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}class zy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=o4(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<e&&(s+=t.charAt(a[l]%62))}return s}}function zt(n,t){return n<t?-1:n>t?1:0}function Mg(n,t){const e=Math.min(n.length,t.length);for(let s=0;s<e;s++){const a=n.charAt(s),l=t.charAt(s);if(a!==l)return Zp(a)===Zp(l)?zt(a,l):Zp(a)?1:-1}return zt(n.length,t.length)}const l4=55296,u4=57343;function Zp(n){const t=n.charCodeAt(0);return t>=l4&&t<=u4}function Go(n,t,e){return n.length===t.length&&n.every(((s,a)=>e(s,t[a])))}const Bb="__name__";class $i{constructor(t,e,s){e===void 0?e=0:e>t.length&&_t(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&_t(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return $i.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof $i?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let a=0;a<s;a++){const l=$i.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return zt(t.length,e.length)}static compareSegments(t,e){const s=$i.isNumericId(t),a=$i.isNumericId(e);return s&&!a?-1:!s&&a?1:s&&a?$i.extractNumericId(t).compare($i.extractNumericId(e)):Mg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return wr.fromString(t.substring(4,t.length-2))}}class se extends $i{construct(t,e,s){return new se(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((a=>a.length>0)))}return new se(e)}static emptyPath(){return new se([])}}const c4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends $i{construct(t,e,s){return new on(t,e,s)}static isValidIdentifier(t){return c4.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bb}static keyField(){return new on([Bb])}static fromServerFormat(t){const e=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new on(e)}static emptyPath(){return new on([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(se.fromString(t))}static fromName(t){return new yt(se.fromString(t).popFirst(5))}static empty(){return new yt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return se.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new se(t.slice()))}}function T1(n,t,e){if(!e)throw new ut(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function h4(n,t,e,s){if(t===!0&&s===!0)throw new ut(J.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Fb(n){if(!yt.isDocumentKey(n))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Hb(n){if(yt.isDocumentKey(n))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function E1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function rd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":_t(12329,{type:typeof n})}function Dn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=rd(n);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Be(n,t){const e={typeString:n};return t&&(e.value=t),e}function uc(n,t){if(!E1(n))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const c=n[s];if(a&&typeof c!==a){e=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){e=`Expected '${s}' field to equal '${l.value}'`;break}}if(e)throw new ut(J.INVALID_ARGUMENT,e);return!0}const qb=-62135596800,Gb=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*Gb);return new le(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<qb)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gb}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(uc(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-qb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Be("string",le._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new le(0,0))}static max(){return new Et(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ku=-1;function f4(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Et.fromTimestamp(s===1e9?new le(e+1,0):new le(e,s));return new Nr(a,yt.empty(),t)}function d4(n){return new Nr(n.readTime,n.key,Ku)}class Nr{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new Nr(Et.min(),yt.empty(),Ku)}static max(){return new Nr(Et.max(),yt.empty(),Ku)}}function m4(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:zt(n.largestBatchId,t.largestBatchId))}const p4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function rl(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==p4)throw n;mt("LocalStore","Unexpectedly lost primary lease")}class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):it.reject(e)}static resolve(t){return new it(((e,s)=>{e(t)}))}static reject(t){return new it(((e,s)=>{s(t)}))}static waitFor(t){return new it(((e,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&e()}),(m=>s(m)))})),c=!0,l===a&&e()}))}static or(t){let e=it.resolve(!1);for(const s of t)e=e.next((a=>a?it.resolve(a):s()));return e}static forEach(t,e){const s=[];return t.forEach(((a,l)=>{s.push(e.call(this,a,l))})),this.waitFor(s)}static mapArray(t,e){return new it(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;e(t[g]).next((y=>{c[g]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,e){return new it(((s,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):s()};l()}))}}function y4(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function al(n){return n.name==="IndexedDbTransactionError"}class ad{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ad.ce=-1;const By=-1;function cc(n){return n==null}function Nf(n){return n===0&&1/n==-1/0}function v4(n){return typeof n=="number"&&Number.isInteger(n)&&!Nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const b1="";function _4(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Kb(t)),t=T4(n.get(e),t);return Kb(t)}function T4(n,t){let e=t;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case b1:e+="";break;default:e+=l}}return e}function Kb(n){return n+b1+""}function Yb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ur(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function A1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ge{constructor(t,e){this.comparator=t,this.root=e||an.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,an.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,an.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ef(this.root,t,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ef(this.root,t,this.comparator,!0)}}class ef{constructor(t,e,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class an{constructor(t,e,s,a,l){this.key=t,this.value=e,this.color=s??an.RED,this.left=a??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,a,l){return new an(t??this.key,e??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,s),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return an.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,e,s,a,l){return this}insert(t,e,s){return new an(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ge{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new $b(this.data.getIterator())}getIteratorFrom(t){return new $b(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof Ge)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ge(this.comparator);return e.data=t,e}}class $b{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bn{constructor(t){this.fields=t,t.sort(on.comparator)}static empty(){return new Bn([])}unionWith(t){let e=new Ge(on.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Bn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Go(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}class S1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new S1("Invalid base64 string: "+l):l}})(t);return new ln(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new ln(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const E4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(n){if(qt(!!n,39018),typeof n=="string"){let t=0;const e=E4.exec(n);if(qt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Re(n.seconds),nanos:Re(n.nanos)}}function Re(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Mr(n){return typeof n=="string"?ln.fromBase64String(n):ln.fromUint8Array(n)}const w1="server_timestamp",R1="__type__",x1="__previous_value__",C1="__local_write_time__";function Fy(n){return(n?.mapValue?.fields||{})[R1]?.stringValue===w1}function od(n){const t=n.mapValue.fields[x1];return Fy(t)?od(t):t}function Yu(n){const t=Vr(n.mapValue.fields[C1].timestampValue);return new le(t.seconds,t.nanos)}class b4{constructor(t,e,s,a,l,c,d,m,g,y){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Vf="(default)";class $u{constructor(t,e){this.projectId=t,this.database=e||Vf}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===Vf}isEqual(t){return t instanceof $u&&t.projectId===this.projectId&&t.database===this.database}}const I1="__type__",A4="__max__",nf={mapValue:{}},D1="__vector__",Mf="value";function Or(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fy(n)?4:w4(n)?9007199254740991:S4(n)?10:11:_t(28295,{value:n})}function is(n,t){if(n===t)return!0;const e=Or(n);if(e!==Or(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Yu(n).isEqual(Yu(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Vr(a.timestampValue),d=Vr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return Mr(a.bytesValue).isEqual(Mr(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return Re(a.geoPointValue.latitude)===Re(l.geoPointValue.latitude)&&Re(a.geoPointValue.longitude)===Re(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Re(a.integerValue)===Re(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Re(a.doubleValue),d=Re(l.doubleValue);return c===d?Nf(c)===Nf(d):isNaN(c)&&isNaN(d)}return!1})(n,t);case 9:return Go(n.arrayValue.values||[],t.arrayValue.values||[],is);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Yb(c)!==Yb(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!is(c[m],d[m])))return!1;return!0})(n,t);default:return _t(52216,{left:n})}}function Qu(n,t){return(n.values||[]).find((e=>is(e,t)))!==void 0}function Ko(n,t){if(n===t)return 0;const e=Or(n),s=Or(t);if(e!==s)return zt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=Re(l.integerValue||l.doubleValue),m=Re(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(n,t);case 3:return Qb(n.timestampValue,t.timestampValue);case 4:return Qb(Yu(n),Yu(t));case 5:return Mg(n.stringValue,t.stringValue);case 6:return(function(l,c){const d=Mr(l),m=Mr(c);return d.compareTo(m)})(n.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=zt(d[g],m[g]);if(y!==0)return y}return zt(d.length,m.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=zt(Re(l.latitude),Re(c.latitude));return d!==0?d:zt(Re(l.longitude),Re(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return Xb(n.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[Mf]?.arrayValue,y=m[Mf]?.arrayValue,_=zt(g?.values?.length||0,y?.values?.length||0);return _!==0?_:Xb(g,y)})(n.mapValue,t.mapValue);case 11:return(function(l,c){if(l===nf.mapValue&&c===nf.mapValue)return 0;if(l===nf.mapValue)return 1;if(c===nf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=Mg(m[_],y[_]);if(b!==0)return b;const w=Ko(d[m[_]],g[y[_]]);if(w!==0)return w}return zt(m.length,y.length)})(n.mapValue,t.mapValue);default:throw _t(23264,{he:e})}}function Qb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return zt(n,t);const e=Vr(n),s=Vr(t),a=zt(e.seconds,s.seconds);return a!==0?a:zt(e.nanos,s.nanos)}function Xb(n,t){const e=n.values||[],s=t.values||[];for(let a=0;a<e.length&&a<s.length;++a){const l=Ko(e[a],s[a]);if(l)return l}return zt(e.length,s.length)}function Yo(n){return Og(n)}function Og(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const s=Vr(e);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Mr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let s="[",a=!0;for(const l of e.values||[])a?a=!1:s+=",",s+=Og(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(e){const s=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Og(e.fields[c])}`;return a+"}"})(n.mapValue):_t(61005,{value:n})}function mf(n){switch(Or(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=od(n);return t?16+mf(t):16;case 5:return 2*n.stringValue.length;case 6:return Mr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+mf(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return Ur(s.fields,((l,c)=>{a+=l.length+mf(c)})),a})(n.mapValue);default:throw _t(13486,{value:n})}}function Wb(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Pg(n){return!!n&&"integerValue"in n}function Hy(n){return!!n&&"arrayValue"in n}function Zb(n){return!!n&&"nullValue"in n}function Jb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pf(n){return!!n&&"mapValue"in n}function S4(n){return(n?.mapValue?.fields||{})[I1]?.stringValue===D1}function Nu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Ur(n.mapValue.fields,((e,s)=>t.mapValue.fields[e]=Nu(s))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Nu(n.arrayValue.values[e]);return t}return{...n}}function w4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===A4}class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!pf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nu(e)}setAll(t){let e=on.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,s,a),s={},a=[],e=d.popLast()}c?s[d.lastSegment()]=Nu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,s,a)}delete(t){const e=this.field(t.popLast());pf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return is(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=e.mapValue.fields[t.get(s)];pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,s){Ur(e,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new _n(Nu(this.value))}}function N1(n){const t=[];return Ur(n.fields,((e,s)=>{const a=new on([e]);if(pf(s)){const l=N1(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new Bn(t)}class Xe{constructor(t,e,s,a,l,c,d){this.key=t,this.documentType=e,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new Xe(t,0,Et.min(),Et.min(),Et.min(),_n.empty(),0)}static newFoundDocument(t,e,s,a){return new Xe(t,1,e,Et.min(),s,a,0)}static newNoDocument(t,e){return new Xe(t,2,e,Et.min(),Et.min(),_n.empty(),0)}static newUnknownDocument(t,e){return new Xe(t,3,e,Et.min(),Et.min(),_n.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Of{constructor(t,e){this.position=t,this.inclusive=e}}function tA(n,t,e){let s=0;for(let a=0;a<n.position.length;a++){const l=t[a],c=n.position[a];if(l.field.isKeyField()?s=yt.comparator(yt.fromName(c.referenceValue),e.key):s=Ko(c,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function eA(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!is(n.position[e],t.position[e]))return!1;return!0}class Xu{constructor(t,e="asc"){this.field=t,this.dir=e}}function R4(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class V1{}class ze extends V1{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new C4(t,e,s):e==="array-contains"?new N4(t,s):e==="in"?new V4(t,s):e==="not-in"?new M4(t,s):e==="array-contains-any"?new O4(t,s):new ze(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new I4(t,s):new D4(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ko(e,this.value)):e!==null&&Or(this.value)===Or(e)&&this.matchesComparison(Ko(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends V1{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Si(t,e)}matches(t){return M1(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M1(n){return n.op==="and"}function O1(n){return x4(n)&&M1(n)}function x4(n){for(const t of n.filters)if(t instanceof Si)return!1;return!0}function Lg(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+Yo(n.value);if(O1(n))return n.filters.map((t=>Lg(t))).join(",");{const t=n.filters.map((e=>Lg(e))).join(",");return`${n.op}(${t})`}}function P1(n,t){return n instanceof ze?(function(s,a){return a instanceof ze&&s.op===a.op&&s.field.isEqual(a.field)&&is(s.value,a.value)})(n,t):n instanceof Si?(function(s,a){return a instanceof Si&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&P1(c,a.filters[d])),!0):!1})(n,t):void _t(19439)}function L1(n){return n instanceof ze?(function(e){return`${e.field.canonicalString()} ${e.op} ${Yo(e.value)}`})(n):n instanceof Si?(function(e){return e.op.toString()+" {"+e.getFilters().map(L1).join(" ,")+"}"})(n):"Filter"}class C4 extends ze{constructor(t,e,s){super(t,e,s),this.key=yt.fromName(s.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class I4 extends ze{constructor(t,e){super(t,"in",e),this.keys=k1("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class D4 extends ze{constructor(t,e){super(t,"not-in",e),this.keys=k1("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function k1(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class N4 extends ze{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Hy(e)&&Qu(e.arrayValue,this.value)}}class V4 extends ze{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Qu(this.value.arrayValue,e)}}class M4 extends ze{constructor(t,e){super(t,"not-in",e)}matches(t){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Qu(this.value.arrayValue,e)}}class O4 extends ze{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Hy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>Qu(this.value.arrayValue,s)))}}class P4{constructor(t,e=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function nA(n,t=null,e=[],s=[],a=null,l=null,c=null){return new P4(n,t,e,s,a,l,c)}function qy(n){const t=Rt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>Lg(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),cc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>Yo(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>Yo(s))).join(",")),t.Te=e}return t.Te}function Gy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!R4(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!P1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!eA(n.startAt,t.startAt)&&eA(n.endAt,t.endAt)}function kg(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ol{constructor(t,e=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function L4(n,t,e,s,a,l,c,d){return new ol(n,t,e,s,a,l,c,d)}function ld(n){return new ol(n)}function iA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function U1(n){return n.collectionGroup!==null}function Vu(n){const t=Rt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ge(on.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Xu(l,s))})),e.has(on.keyField().canonicalString())||t.Ie.push(new Xu(on.keyField(),s))}return t.Ie}function Zi(n){const t=Rt(n);return t.Ee||(t.Ee=k4(t,Vu(n))),t.Ee}function k4(n,t){if(n.limitType==="F")return nA(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Xu(a.field,l)}));const e=n.endAt?new Of(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Of(n.startAt.position,n.startAt.inclusive):null;return nA(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function Ug(n,t){const e=n.filters.concat([t]);return new ol(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function jg(n,t,e){return new ol(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ud(n,t){return Gy(Zi(n),Zi(t))&&n.limitType===t.limitType}function j1(n){return`${qy(Zi(n))}|lt:${n.limitType}`}function wo(n){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((a=>L1(a))).join(", ")}]`),cc(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((a=>Yo(a))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((a=>Yo(a))).join(",")),`Target(${s})`})(Zi(n))}; limitType=${n.limitType})`}function cd(n,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):yt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,t)&&(function(s,a){for(const l of Vu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const g=tA(c,d,m);return c.inclusive?g<=0:g<0})(s.startAt,Vu(s),a)||s.endAt&&!(function(c,d,m){const g=tA(c,d,m);return c.inclusive?g>=0:g>0})(s.endAt,Vu(s),a))})(n,t)}function U4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function z1(n){return(t,e)=>{let s=!1;for(const a of Vu(n)){const l=j4(a,t,e);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function j4(n,t,e){const s=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Ko(m,g):_t(42886)})(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:n.dir})}}class Ma{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[e]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ur(this.inner,((e,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}const z4=new ge(yt.comparator);function Ns(){return z4}const B1=new ge(yt.comparator);function bu(...n){let t=B1;for(const e of n)t=t.insert(e.key,e);return t}function F1(n){let t=B1;return n.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function Aa(){return Mu()}function H1(){return Mu()}function Mu(){return new Ma((n=>n.toString()),((n,t)=>n.isEqual(t)))}const B4=new ge(yt.comparator),F4=new Ge(yt.comparator);function Bt(...n){let t=F4;for(const e of n)t=t.add(e);return t}const H4=new Ge(zt);function q4(){return H4}function Ky(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(t)?"-0":t}}function q1(n){return{integerValue:""+n}}function G4(n,t){return v4(t)?q1(t):Ky(n,t)}class hd{constructor(){this._=void 0}}function K4(n,t,e){return n instanceof Pf?(function(a,l){const c={fields:{[R1]:{stringValue:w1},[C1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Fy(l)&&(l=od(l)),l&&(c.fields[x1]=l),{mapValue:c}})(e,t):n instanceof Wu?K1(n,t):n instanceof Zu?Y1(n,t):(function(a,l){const c=G1(a,l),d=sA(c)+sA(a.Ae);return Pg(c)&&Pg(a.Ae)?q1(d):Ky(a.serializer,d)})(n,t)}function Y4(n,t,e){return n instanceof Wu?K1(n,t):n instanceof Zu?Y1(n,t):e}function G1(n,t){return n instanceof Lf?(function(s){return Pg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class Pf extends hd{}class Wu extends hd{constructor(t){super(),this.elements=t}}function K1(n,t){const e=$1(t);for(const s of n.elements)e.some((a=>is(a,s)))||e.push(s);return{arrayValue:{values:e}}}class Zu extends hd{constructor(t){super(),this.elements=t}}function Y1(n,t){let e=$1(t);for(const s of n.elements)e=e.filter((a=>!is(a,s)));return{arrayValue:{values:e}}}class Lf extends hd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function sA(n){return Re(n.integerValue||n.doubleValue)}function $1(n){return Hy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function $4(n,t){return n.field.isEqual(t.field)&&(function(s,a){return s instanceof Wu&&a instanceof Wu||s instanceof Zu&&a instanceof Zu?Go(s.elements,a.elements,is):s instanceof Lf&&a instanceof Lf?is(s.Ae,a.Ae):s instanceof Pf&&a instanceof Pf})(n.transform,t.transform)}class Q4{constructor(t,e){this.version=t,this.transformResults=e}}class dn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new dn}static exists(t){return new dn(void 0,t)}static updateTime(t){return new dn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class fd{}function Q1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new dd(n.key,dn.none()):new hc(n.key,n.data,dn.none());{const e=n.data,s=_n.empty();let a=new Ge(on.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new jr(n.key,s,new Bn(a.toArray()),dn.none())}}function X4(n,t,e){n instanceof hc?(function(a,l,c){const d=a.value.clone(),m=aA(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,e):n instanceof jr?(function(a,l,c){if(!gf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=aA(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(X1(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,e):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Ou(n,t,e,s){return n instanceof hc?(function(l,c,d,m){if(!gf(l.precondition,c))return d;const g=l.value.clone(),y=oA(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,s):n instanceof jr?(function(l,c,d,m){if(!gf(l.precondition,c))return d;const g=oA(l.fieldTransforms,m,c),y=c.data;return y.setAll(X1(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,t,e,s):(function(l,c,d){return gf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,t,e)}function W4(n,t){let e=null;for(const s of n.fieldTransforms){const a=t.data.field(s.field),l=G1(s.transform,a||null);l!=null&&(e===null&&(e=_n.empty()),e.set(s.field,l))}return e||null}function rA(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Go(s,a,((l,c)=>$4(l,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class hc extends fd{constructor(t,e,s,a=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class jr extends fd{constructor(t,e,s,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function X1(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}})),t}function aA(n,t,e){const s=new Map;qt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const l=n[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,Y4(c,d,e[a]))}return s}function oA(n,t,e){const s=new Map;for(const a of n){const l=a.transform,c=e.data.field(a.field);s.set(a.field,K4(l,c,t))}return s}class dd extends fd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W1 extends fd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Z4{constructor(t,e,s,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&X4(l,t,s[a])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Ou(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Ou(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=H1();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=e.has(a.key)?null:d;const m=Q1(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&Go(this.mutations,t.mutations,((e,s)=>rA(e,s)))&&Go(this.baseMutations,t.baseMutations,((e,s)=>rA(e,s)))}}class Yy{constructor(t,e,s,a){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}static from(t,e,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return B4})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Yy(t,e,s,a)}}class J4{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tL{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ue,Ht;function Z1(n){switch(n){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:n})}}function J1(n){if(n===void 0)return Ds("GRPC error has no .code"),J.UNKNOWN;switch(n){case Ue.OK:return J.OK;case Ue.CANCELLED:return J.CANCELLED;case Ue.UNKNOWN:return J.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return J.INTERNAL;case Ue.UNAVAILABLE:return J.UNAVAILABLE;case Ue.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ue.NOT_FOUND:return J.NOT_FOUND;case Ue.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ue.ABORTED:return J.ABORTED;case Ue.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ue.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:n})}}(Ht=Ue||(Ue={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function eL(){return new TextEncoder}const nL=new wr([4294967295,4294967295],0);function lA(n){const t=eL().encode(n),e=new f1;return e.update(t),new Uint8Array(e.digest())}function uA(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new wr([e,s],0),new wr([a,l],0)]}class $y{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Au(`Invalid padding: ${e}`);if(s<0)throw new Au(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Au(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Au(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=wr.fromNumber(this.ge)}ye(t,e,s){let a=t.add(e.multiply(wr.fromNumber(s)));return a.compare(nL)===1&&(a=new wr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=lA(t),[s,a]=uA(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,e,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new $y(l,a,e);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const e=lA(t),[s,a]=uA(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class md{constructor(t,e,s,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const a=new Map;return a.set(t,fc.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new md(Et.min(),a,new ge(zt),Ns(),Bt())}}class fc{constructor(t,e,s,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new fc(s,e,Bt(),Bt(),Bt())}}class yf{constructor(t,e,s,a){this.be=t,this.removedTargetIds=e,this.key=s,this.De=a}}class tR{constructor(t,e){this.targetId=t,this.Ce=e}}class eR{constructor(t,e,s=ln.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=a}}class cA{constructor(){this.ve=0,this.Fe=hA(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),e=Bt(),s=Bt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:_t(38017,{changeType:l})}})),new fc(this.Me,this.xe,t,e,s)}qe(){this.Oe=!1,this.Fe=hA()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iL{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ns(),this.Je=sf(),this.He=sf(),this.Ye=new ge(zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,s=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(kg(l))if(s===0){const c=new yt(l.path);this.et(e,c,Xe.newNoDocument(c,Et.min()))}else qt(s===1,20013,{expectedCount:s});else{const c=this._t(e);if(c!==s){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(e);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=e;let c,d;try{c=Mr(s).toUint8Array()}catch(m){if(m instanceof S1)return qo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new $y(c,a,l)}catch(m){return qo(m instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&kg(d.target)){const m=new yt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Xe.newNoDocument(m,t))}l.Be&&(e.set(c,l.ke()),l.qe())}}));let s=Bt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new md(t,e,this.Ye,this.je,s);return this.je=Ns(),this.Je=sf(),this.He=sf(),this.Ye=new ge(zt),a}Xe(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,s),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new cA,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ge(zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ge(zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||mt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new cA),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function sf(){return new ge(yt.comparator)}function hA(){return new ge(yt.comparator)}const sL={asc:"ASCENDING",desc:"DESCENDING"},rL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aL={and:"AND",or:"OR"};class oL{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function zg(n,t){return n.useProto3Json||cc(t)?t:{value:t}}function kf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nR(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function lL(n,t){return kf(n,t.toTimestamp())}function Fn(n){return qt(!!n,49232),Et.fromTimestamp((function(e){const s=Vr(e);return new le(s.seconds,s.nanos)})(n))}function Qy(n,t){return Bg(n,t).canonicalString()}function Bg(n,t){const e=(function(a){return new se(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function iR(n){const t=se.fromString(n);return qt(uR(t),10190,{key:t.toString()}),t}function Uf(n,t){return Qy(n.databaseId,t.path)}function Pu(n,t){const e=iR(t);if(e.get(1)!==n.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(rR(e))}function sR(n,t){return Qy(n.databaseId,t)}function uL(n){const t=iR(n);return t.length===4?se.emptyPath():rR(t)}function Fg(n){return new se(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rR(n){return qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function fA(n,t,e){return{name:Uf(n,t),fields:e.value.mapValue.fields}}function cL(n,t){return"found"in t?(function(s,a){qt(!!a.found,43571),a.found.name,a.found.updateTime;const l=Pu(s,a.found.name),c=Fn(a.found.updateTime),d=a.found.createTime?Fn(a.found.createTime):Et.min(),m=new _n({mapValue:{fields:a.found.fields}});return Xe.newFoundDocument(l,c,d,m)})(n,t):"missing"in t?(function(s,a){qt(!!a.missing,3894),qt(!!a.readTime,22933);const l=Pu(s,a.missing),c=Fn(a.readTime);return Xe.newNoDocument(l,c)})(n,t):_t(7234,{result:t})}function hL(n,t){let e;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(qt(y===void 0||typeof y=="string",58123),ln.fromBase64String(y||"")):(qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ln.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?J.UNKNOWN:J1(g.code);return new ut(y,g.message||"")})(c);e=new eR(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Pu(n,s.document.name),l=Fn(s.document.updateTime),c=s.document.createTime?Fn(s.document.createTime):Et.min(),d=new _n({mapValue:{fields:s.document.fields}}),m=Xe.newFoundDocument(a,l,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];e=new yf(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Pu(n,s.document),l=s.readTime?Fn(s.readTime):Et.min(),c=Xe.newNoDocument(a,l),d=s.removedTargetIds||[];e=new yf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Pu(n,s.document),l=s.removedTargetIds||[];e=new yf([],l,a,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new tL(a,l),d=s.targetId;e=new tR(d,c)}}return e}function aR(n,t){let e;if(t instanceof hc)e={update:fA(n,t.key,t.value)};else if(t instanceof dd)e={delete:Uf(n,t.key)};else if(t instanceof jr)e={update:fA(n,t.key,t.data),updateMask:TL(t.fieldMask)};else{if(!(t instanceof W1))return _t(16599,{Vt:t.type});e={verify:Uf(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Pf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Lf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw _t(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:lL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_t(27497)})(n,t.precondition)),e}function fL(n,t){return n&&n.length>0?(qt(t!==void 0,14353),n.map((e=>(function(a,l){let c=a.updateTime?Fn(a.updateTime):Fn(l);return c.isEqual(Et.min())&&(c=Fn(l)),new Q4(c,a.transformResults||[])})(e,t)))):[]}function dL(n,t){return{documents:[sR(n,t.path)]}}function mL(n,t){const e={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=sR(n,a);const l=(function(g){if(g.length!==0)return lR(Si.create(g,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(b){return{field:Ro(b.field),direction:yL(b.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=zg(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:a}}function pL(n){let t=uL(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let a=null;if(s>0){qt(s===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(_){const b=oR(_);return b instanceof Si&&O1(b)?b.getFilters():[b]})(e.where));let c=[];e.orderBy&&(c=(function(_){return _.map((b=>(function(V){return new Xu(xo(V.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(b)))})(e.orderBy));let d=null;e.limit&&(d=(function(_){let b;return b=typeof _=="object"?_.value:_,cc(b)?null:b})(e.limit));let m=null;e.startAt&&(m=(function(_){const b=!!_.before,w=_.values||[];return new Of(w,b)})(e.startAt));let g=null;return e.endAt&&(g=(function(_){const b=!_.before,w=_.values||[];return new Of(w,b)})(e.endAt)),L4(t,a,c,l,d,"F",m,g)}function gL(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function oR(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=xo(e.unaryFilter.field);return ze.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=xo(e.unaryFilter.field);return ze.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=xo(e.unaryFilter.field);return ze.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xo(e.unaryFilter.field);return ze.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(n):n.fieldFilter!==void 0?(function(e){return ze.create(xo(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Si.create(e.compositeFilter.filters.map((s=>oR(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(e.compositeFilter.op))})(n):_t(30097,{filter:n})}function yL(n){return sL[n]}function vL(n){return rL[n]}function _L(n){return aL[n]}function Ro(n){return{fieldPath:n.canonicalString()}}function xo(n){return on.fromServerFormat(n.fieldPath)}function lR(n){return n instanceof ze?(function(e){if(e.op==="=="){if(Jb(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NAN"}};if(Zb(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Jb(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NOT_NAN"}};if(Zb(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(e.field),op:vL(e.op),value:e.value}}})(n):n instanceof Si?(function(e){const s=e.getFilters().map((a=>lR(a)));return s.length===1?s[0]:{compositeFilter:{op:_L(e.op),filters:s}}})(n):_t(54877,{filter:n})}function TL(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function uR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Er{constructor(t,e,s,a,l=Et.min(),c=Et.min(),d=ln.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class EL{constructor(t){this.yt=t}}function bL(n){const t=pL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?jg(t,t.limit,"L"):t}class AL{constructor(){this.Cn=new SL}addToCollectionParentIndex(t,e){return this.Cn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(Nr.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(Nr.min())}updateCollectionGroup(t,e,s){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class SL{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e]||new Ge(se.comparator),l=!a.has(s);return this.index[e]=a.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Ge(se.comparator)).toArray()}}const dA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cR=41943040;class Cn{static withCacheSize(t){return new Cn(t,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(cR,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class $o{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $o(0)}static cr(){return new $o(-1)}}const mA="LruGarbageCollector",wL=1048576;function pA([n,t],[e,s]){const a=zt(n,e);return a===0?zt(t,s):a}class RL{constructor(t){this.Ir=t,this.buffer=new Ge(pA),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();pA(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class xL{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){mt(mA,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){al(e)?mt(mA,"Ignoring IndexedDB error during garbage collection: ",e):await rl(e)}await this.Vr(3e5)}))}}class CL{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return it.resolve(ad.ce);const s=new RL(e);return this.mr.forEachTarget(t,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.mr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(dA)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dA):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let s,a,l,c,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(t,s,e)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(g=Date.now(),So()<=jt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function IL(n,t){return new CL(n,t)}class DL{constructor(){this.changes=new Ma((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?it.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class NL{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class VL{constructor(t,e,s,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(s!==null&&Ou(s.mutation,a,Bn.empty(),le.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,Bt()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=Bt()){const a=Aa();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,s).next((l=>{let c=bu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const s=Aa();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,Bt())))}populateOverlays(t,e,s){const a=[];return s.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{e.set(c,d)}))}))}computeViews(t,e,s,a){let l=Ns();const c=Mu(),d=(function(){return Mu()})();return e.forEach(((m,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof jr)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Ou(y.mutation,g,y.mutation.getFieldMask(),le.now())):c.set(g.key,Bn.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((g,y)=>c.set(g,y))),e.forEach(((g,y)=>d.set(g,new NL(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,e){const s=Mu();let a=new ge(((c,d)=>c-d)),l=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=e.get(m);if(g===null)return;let y=s.get(m)||Bn.empty();y=d.applyToLocalView(g,y),s.set(m,y);const _=(a.get(d.batchId)||Bt()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,_=H1();y.forEach((b=>{if(!l.has(b)){const w=Q1(e.get(b),s.get(b));w!==null&&_.set(b,w),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,_))}return it.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,a){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):U1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,a):this.getDocumentsMatchingCollectionQuery(t,e,s,a)}getNextDocuments(t,e,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,a-l.size):it.resolve(Aa());let d=Ku,m=l;return c.next((g=>it.forEach(g,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{m=m.insert(y,b)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,m,g,Bt()))).next((y=>({batchId:d,changes:F1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((s=>{let a=bu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,a){const l=e.collectionGroup;let c=bu();return this.indexManager.getCollectionParents(t,l).next((d=>it.forEach(d,(m=>{const g=(function(_,b){return new ol(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next((y=>{y.forEach(((_,b)=>{c=c.insert(_,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,a)))).next((c=>{l.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,Xe.newInvalidDocument(y)))}));let d=bu();return c.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&Ou(y.mutation,g,Bn.empty(),le.now()),cd(e,g)&&(d=d.insert(m,g))})),d}))}}class ML{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return it.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Fn(a.createTime)}})(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:bL(a.bundledQuery),readTime:Fn(a.readTime)}})(e)),it.resolve()}}class OL{constructor(){this.overlays=new ge(yt.comparator),this.qr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const s=Aa();return it.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((a,l)=>{this.St(t,e,l)})),it.resolve()}removeOverlaysForBatchId(t,e,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),it.resolve()}getOverlaysForCollection(t,e,s){const a=Aa(),l=e.length+1,c=new yt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return it.resolve(a)}getOverlaysForCollectionGroup(t,e,s,a){let l=new ge(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=Aa(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Aa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return it.resolve(d)}St(t,e,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new J4(e,s));let l=this.qr.get(e);l===void 0&&(l=Bt(),this.qr.set(e,l)),this.qr.set(e,l.add(s.key))}}class PL{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}class Xy{constructor(){this.Qr=new Ge(Qe.$r),this.Ur=new Ge(Qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const s=new Qe(t,e);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Gr(new Qe(t,e))}zr(t,e){t.forEach((s=>this.removeReference(s,e)))}jr(t){const e=new yt(new se([])),s=new Qe(e,t),a=new Qe(e,t+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new yt(new se([])),s=new Qe(e,t),a=new Qe(e,t+1);let l=Bt();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const e=new Qe(t,0),s=this.Qr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Qe{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return yt.comparator(t.key,e.key)||zt(t.Yr,e.Yr)}static Kr(t,e){return zt(t.Yr,e.Yr)||yt.comparator(t.key,e.key)}}class LL{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ge(Qe.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Z4(l,e,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Qe(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,e){return it.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=this.ei(s),l=a<0?0:a;return it.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?By:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Qe(e,0),a=new Qe(e,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),it.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Ge(zt);return e.forEach((a=>{const l=new Qe(a,0),c=new Qe(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),it.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1;let l=s;yt.isDocumentKey(l)||(l=l.child(""));const c=new Qe(new yt(l),0);let d=new Ge(zt);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),c),it.resolve(this.ti(d))}ti(t){const e=[];return t.forEach((s=>{const a=this.Xr(s);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){qt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return it.forEach(e.mutations,(a=>{const l=new Qe(a.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,e){const s=new Qe(e,0),a=this.Zr.firstAfterOrEqual(s);return it.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class kL{constructor(t){this.ri=t,this.docs=(function(){return new ge(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return it.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(e))}getEntries(t,e){let s=Ns();return e.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Xe.newInvalidDocument(a))})),it.resolve(s)}getDocumentsMatchingQuery(t,e,s,a){let l=Ns();const c=e.path,d=new yt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||m4(d4(y),s)<=0||(a.has(y.key)||cd(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return it.resolve(l)}getAllFromCollectionGroup(t,e,s,a){_t(9500)}ii(t,e){return it.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new UL(this)}getSize(t){return it.resolve(this.size)}}class UL extends DL{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(s)})),it.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class jL{constructor(t){this.persistence=t,this.si=new Ma((e=>qy(e)),Gy),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Xy,this.targetCount=0,this.ai=$o.ur()}forEachTarget(t,e){return this.si.forEach(((s,a)=>e(a))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.oi&&(this.oi=e),it.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new $o(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.Pr(e),it.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),it.waitFor(l).next((()=>a))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const s=this.si.get(e)||null;return it.resolve(s)}addMatchingKeys(t,e,s){return this._i.Wr(e,s),it.resolve()}removeMatchingKeys(t,e,s){this._i.zr(e,s);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),it.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const s=this._i.Hr(e);return it.resolve(s)}containsKey(t,e){return it.resolve(this._i.containsKey(e))}}class hR{constructor(t,e){this.ui={},this.overlays={},this.ci=new ad(0),this.li=!1,this.li=!0,this.hi=new PL,this.referenceDelegate=t(this),this.Pi=new jL(this),this.indexManager=new AL,this.remoteDocumentCache=(function(a){return new kL(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new EL(e),this.Ii=new ML(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new OL,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ui[t.toKey()];return s||(s=new LL(e,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,s){mt("MemoryPersistence","Starting transaction:",t);const a=new zL(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,e){return it.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,e))))}}class zL extends g4{constructor(t){super(),this.currentSequenceNumber=t}}class Wy{constructor(t){this.persistence=t,this.Ri=new Xy,this.Vi=null}static mi(t){return new Wy(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.fi.delete(s.toString()),it.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.fi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),it.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(s=>{const a=yt.fromPath(s);return this.gi(t,a).next((l=>{l||e.removeEntry(a,Et.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((s=>{s?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return it.or([()=>it.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class jf{constructor(t,e){this.persistence=t,this.pi=new Ma((s=>_4(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=IL(this,e)}static mi(t,e){return new jf(t,e)}Ei(){}di(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((a=>s+a))))}wr(t){let e=0;return this.pr(t,(s=>{e++})).next((()=>e))}pr(t,e){return it.forEach(this.pi,((s,a)=>this.br(t,s,a).next((l=>l?it.resolve():e(a)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,e).next((d=>{d||(s++,l.removeEntry(c,Et.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),it.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=mf(t.data.value)),e}br(t,e,s){return it.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return it.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Zy{constructor(t,e,s,a){this.targetId=t,this.fromCache=e,this.Es=s,this.ds=a}static As(t,e){let s=Bt(),a=Bt();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Zy(t,e.fromCache,s,a)}}class BL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class FL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PO()?8:y4(pn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,a){const l={result:null};return this.ys(t,e).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,e,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new BL;return this.Ss(t,e,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,e,c,d.size)}))})).next((()=>l.result))}bs(t,e,s,a){return s.documentReadCount<this.fs?(So()<=jt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",wo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(So()<=jt.DEBUG&&mt("QueryEngine","Query:",wo(e),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(So()<=jt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",wo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zi(e))):it.resolve())}ys(t,e){if(iA(e))return it.resolve(null);let s=Zi(e);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=jg(e,null,"F"),s=Zi(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=Bt(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const g=this.Ds(e,d);return this.Cs(e,g,c,m.readTime)?this.ys(t,jg(e,null,"F")):this.vs(t,g,e,m)}))))})))))}ws(t,e,s,a){return iA(e)||a.isEqual(Et.min())?it.resolve(null):this.ps.getDocuments(t,s).next((l=>{const c=this.Ds(e,l);return this.Cs(e,c,s,a)?it.resolve(null):(So()<=jt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wo(e)),this.vs(t,c,e,f4(a,Ku)).next((d=>d)))}))}Ds(t,e){let s=new Ge(z1(t));return e.forEach(((a,l)=>{cd(t,l)&&(s=s.add(l))})),s}Cs(t,e,s,a){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,e,s){return So()<=jt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",wo(e)),this.ps.getDocumentsMatchingQuery(t,e,Nr.min(),s)}vs(t,e,s,a){return this.ps.getDocumentsMatchingQuery(t,s,a).next((l=>(e.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Jy="LocalStore",HL=3e8;class qL{constructor(t,e,s,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new ge(zt),this.xs=new Ma((l=>qy(l)),Gy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new VL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function GL(n,t,e,s){return new qL(n,t,e,s)}async function fR(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return e.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,e.Bs(t),e.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=Bt();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return e.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function KL(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,y){const _=g.batch,b=_.keys();let w=it.resolve();return b.forEach((V=>{w=w.next((()=>y.getEntry(m,V))).next((U=>{const k=g.docVersions.get(V);qt(k!==null,48541),U.version.compareTo(k)<0&&(_.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),y.addEntry(U)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(e,s,t,l).next((()=>l.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Bt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(s,a)))}))}function dR(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function YL(n,t){const e=Rt(n),s=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const d=[];t.targetChanges.forEach(((y,_)=>{const b=a.get(_);if(!b)return;d.push(e.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>e.Pi.addMatchingKeys(l,y.addedDocuments,_))));let w=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?w=w.withResumeToken(ln.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,s)),a=a.insert(_,w),(function(U,k,F){return U.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=HL?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(b,w,y)&&d.push(e.Pi.updateTargetData(l,w))}));let m=Ns(),g=Bt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push($L(l,c,t.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!s.isEqual(Et.min())){const y=e.Pi.getLastRemoteSnapshotVersion(l).next((_=>e.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return it.waitFor(d).next((()=>c.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(e.Ms=a,l)))}function $L(n,t,e){let s=Bt(),a=Bt();return e.forEach((l=>s=s.add(l))),t.getEntries(n,s).next((l=>{let c=Ns();return e.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Et.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):mt(Jy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function QL(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=By),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function XL(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return e.Pi.getTargetData(s,t).next((l=>l?(a=l,it.resolve(a)):e.Pi.allocateTargetId(s).next((c=>(a=new Er(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=e.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(s.targetId,s),e.xs.set(t,s.targetId)),s}))}async function Hg(n,t,e){const s=Rt(n),a=s.Ms.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!al(c))throw c;mt(Jy,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(a.target)}function gA(n,t,e){const s=Rt(n);let a=Et.min(),l=Bt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const _=Rt(m),b=_.xs.get(y);return b!==void 0?it.resolve(_.Ms.get(b)):_.Pi.getTargetData(g,y)})(s,c,Zi(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,e?a:Et.min(),e?l:Bt()))).next((d=>(WL(s,U4(t),d),{documents:d,Qs:l})))))}function WL(n,t,e){let s=n.Os.get(t)||Et.min();e.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Os.set(t,s)}class yA{constructor(){this.activeTargetIds=q4()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZL{constructor(){this.Mo=new yA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,s){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new yA,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class JL{Oo(t){}shutdown(){}}const vA="ConnectivityMonitor";class _A{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(vA,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){mt(vA,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rf=null;function qg(){return rf===null?rf=(function(){return 268435456+Math.round(2147483648*Math.random())})():rf++,"0x"+rf.toString(16)}const Jp="RestConnection",tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ek{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Vf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(t,e,s,a,l){const c=qg(),d=this.zo(t,e.toUriEncodedString());mt(Jp,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),y=nl(g);return this.Jo(t,d,m,s,y).then((_=>(mt(Jp,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw qo(Jp,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}Ho(t,e,s,a,l,c){return this.Go(t,e,s,a,l)}jo(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}zo(t,e){const s=tk[t];return`${this.Uo}/v1/${e}:${s}`}terminate(){}}class nk{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const cn="WebChannelConnection";class ik extends ek{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,a,l){const c=qg();return new Promise(((d,m)=>{const g=new d1;g.setWithCredentials(!0),g.listenOnce(m1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case df.NO_ERROR:const _=g.getResponseJson();mt(cn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case df.TIMEOUT:mt(cn,`RPC '${t}' ${c} timed out`),m(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const b=g.getStatus();if(mt(cn,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const V=w?.error;if(V&&V.status&&V.message){const U=(function(F){const Q=F.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Q)>=0?Q:J.UNKNOWN})(V.status);m(new ut(U,V.message))}else m(new ut(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ut(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{mt(cn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);mt(cn,`RPC '${t}' ${c} sending request:`,a),g.send(e,"POST",y,s,15)}))}T_(t,e,s){const a=qg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=y1(),d=g1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,e,s),m.encodeInitMessageHeaders=!0;const y=l.join("");mt(cn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let b=!1,w=!1;const V=new nk({Yo:k=>{w?mt(cn,`Not sending because RPC '${t}' stream ${a} is closed:`,k):(b||(mt(cn,`Opening RPC '${t}' stream ${a} transport.`),_.open(),b=!0),mt(cn,`RPC '${t}' stream ${a} sending:`,k),_.send(k))},Zo:()=>_.close()}),U=(k,F,Q)=>{k.listen(F,($=>{try{Q($)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return U(_,Eu.EventType.OPEN,(()=>{w||(mt(cn,`RPC '${t}' stream ${a} transport opened.`),V.o_())})),U(_,Eu.EventType.CLOSE,(()=>{w||(w=!0,mt(cn,`RPC '${t}' stream ${a} transport closed`),V.a_(),this.E_(_))})),U(_,Eu.EventType.ERROR,(k=>{w||(w=!0,qo(cn,`RPC '${t}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),V.a_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),U(_,Eu.EventType.MESSAGE,(k=>{if(!w){const F=k.data[0];qt(!!F,16349);const Q=F,$=Q?.error||Q[0]?.error;if($){mt(cn,`RPC '${t}' stream ${a} received error:`,$);const lt=$.status;let st=(function(R){const I=Ue[R];if(I!==void 0)return J1(I)})(lt),ht=$.message;st===void 0&&(st=J.INTERNAL,ht="Unknown error status: "+lt+" with message "+$.message),w=!0,V.a_(new ut(st,ht)),_.close()}else mt(cn,`RPC '${t}' stream ${a} received:`,F),V.u_(F)}})),U(d,p1.STAT_EVENT,(k=>{k.stat===Vg.PROXY?mt(cn,`RPC '${t}' stream ${a} detected buffering proxy`):k.stat===Vg.NOPROXY&&mt(cn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function tg(){return typeof document<"u"?document:null}function pd(n){return new oL(n,!0)}class tv{constructor(t,e,s=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=e,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-s);a>0&&mt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const TA="PersistentStream";class mR{constructor(t,e,s,a,l,c,d,m){this.Mi=t,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tv(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===J.RESOURCE_EXHAUSTED?(Ds(e.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===e&&this.G_(s,a)}),(s=>{t((()=>{const a=new ut(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,e){const s=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(TA,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(mt(TA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sk extends mR{constructor(t,e,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,a,c),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=hL(this.serializer,t),s=(function(l){if(!("targetChange"in l))return Et.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Et.min():c.readTime?Fn(c.readTime):Et.min()})(t);return this.listener.H_(e,s)}Y_(t){const e={};e.database=Fg(this.serializer),e.addTarget=(function(l,c){let d;const m=c.target;if(d=kg(m)?{documents:dL(l,m)}:{query:mL(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=nR(l,c.resumeToken);const g=zg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Et.min())>0){d.readTime=kf(l,c.snapshotVersion.toTimestamp());const g=zg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=gL(this.serializer,t);s&&(e.labels=s),this.q_(e)}Z_(t){const e={};e.database=Fg(this.serializer),e.removeTarget=t,this.q_(e)}}class rk extends mR{constructor(t,e,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=fL(t.writeResults,t.commitTime),s=Fn(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=Fg(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>aR(this.serializer,s)))};this.q_(e)}}class ak{}class ok extends ak{constructor(t,e,s,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,Bg(e,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ut(J.UNKNOWN,l.toString())}))}Ho(t,e,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,Bg(e,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(e),this.aa=!1):mt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Da="RemoteStore";class uk{constructor(t,e,s,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Oa(this)&&(mt(Da,"Restarting streams for network reachability change."),await(async function(m){const g=Rt(m);g.Ea.add(4),await dc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await gd(g)})(this))}))})),this.Ra=new lk(s,a)}}async function gd(n){if(Oa(n))for(const t of n.da)await t(!0)}async function dc(n){for(const t of n.da)await t(!1)}function pR(n,t){const e=Rt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),sv(e)?iv(e):ll(e).O_()&&nv(e,t))}function ev(n,t){const e=Rt(n),s=ll(e);e.Ia.delete(t),s.O_()&&gR(e,t),e.Ia.size===0&&(s.O_()?s.L_():Oa(e)&&e.Ra.set("Unknown"))}function nv(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ll(n).Y_(t)}function gR(n,t){n.Va.Ue(t),ll(n).Z_(t)}function iv(n){n.Va=new iL({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ll(n).start(),n.Ra.ua()}function sv(n){return Oa(n)&&!ll(n).x_()&&n.Ia.size>0}function Oa(n){return Rt(n).Ea.size===0}function yR(n){n.Va=void 0}async function ck(n){n.Ra.set("Online")}async function hk(n){n.Ia.forEach(((t,e)=>{nv(n,t)}))}async function fk(n,t){yR(n),sv(n)?(n.Ra.ha(t),iv(n)):n.Ra.set("Unknown")}async function dk(n,t,e){if(n.Ra.set("Online"),t instanceof eR&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(n,t)}catch(s){mt(Da,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await zf(n,s)}else if(t instanceof yf?n.Va.Ze(t):t instanceof tR?n.Va.st(t):n.Va.tt(t),!e.isEqual(Et.min()))try{const s=await dR(n.localStore);e.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(ln.EMPTY_BYTE_STRING,y.snapshotVersion)),gR(l,m);const _=new Er(y.target,m,g,y.sequenceNumber);nv(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(n,e)}catch(s){mt(Da,"Failed to raise snapshot:",s),await zf(n,s)}}async function zf(n,t,e){if(!al(t))throw t;n.Ea.add(1),await dc(n),n.Ra.set("Offline"),e||(e=()=>dR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{mt(Da,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await gd(n)}))}function vR(n,t){return t().catch((e=>zf(n,e,t)))}async function yd(n){const t=Rt(n),e=Pr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:By;for(;mk(t);)try{const a=await QL(t.localStore,s);if(a===null){t.Ta.length===0&&e.L_();break}s=a.batchId,pk(t,a)}catch(a){await zf(t,a)}_R(t)&&TR(t)}function mk(n){return Oa(n)&&n.Ta.length<10}function pk(n,t){n.Ta.push(t);const e=Pr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function _R(n){return Oa(n)&&!Pr(n).x_()&&n.Ta.length>0}function TR(n){Pr(n).start()}async function gk(n){Pr(n).ra()}async function yk(n){const t=Pr(n);for(const e of n.Ta)t.ea(e.mutations)}async function vk(n,t,e){const s=n.Ta.shift(),a=Yy.from(s,t,e);await vR(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await yd(n)}async function _k(n,t){t&&Pr(n).X_&&await(async function(s,a){if((function(c){return Z1(c)&&c!==J.ABORTED})(a.code)){const l=s.Ta.shift();Pr(s).B_(),await vR(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await yd(s)}})(n,t),_R(n)&&TR(n)}async function EA(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),mt(Da,"RemoteStore received new credentials");const s=Oa(e);e.Ea.add(3),await dc(e),s&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await gd(e)}async function Tk(n,t){const e=Rt(n);t?(e.Ea.delete(2),await gd(e)):t||(e.Ea.add(2),await dc(e),e.Ra.set("Unknown"))}function ll(n){return n.ma||(n.ma=(function(e,s,a){const l=Rt(e);return l.sa(),new sk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:ck.bind(null,n),t_:hk.bind(null,n),r_:fk.bind(null,n),H_:dk.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),sv(n)?iv(n):n.Ra.set("Unknown")):(await n.ma.stop(),yR(n))}))),n.ma}function Pr(n){return n.fa||(n.fa=(function(e,s,a){const l=Rt(e);return l.sa(),new rk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:gk.bind(null,n),r_:_k.bind(null,n),ta:yk.bind(null,n),na:vk.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await yd(n)):(await n.fa.stop(),n.Ta.length>0&&(mt(Da,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class rv{constructor(t,e,s,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,a,l){const c=Date.now()+s,d=new rv(t,e,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function av(n,t){if(Ds("AsyncQueue",`${t}: ${n}`),al(n))return new ut(J.UNAVAILABLE,`${t}: ${n}`);throw n}class Lo{static emptySet(t){return new Lo(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||yt.comparator(e.key,s.key):(e,s)=>yt.comparator(e.key,s.key),this.keyedMap=bu(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Lo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Lo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}class bA{constructor(){this.ga=new ge(yt.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class Qo{constructor(t,e,s,a,l,c,d,m,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,a,l){const c=[];return e.forEach((d=>{c.push({type:0,doc:d})})),new Qo(t,e,Lo.emptySet(e),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ud(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0}}class Ek{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class bk{constructor(){this.queries=AA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const a=Rt(e),l=a.queries;a.queries=AA(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function AA(){return new Ma((n=>j1(n)),ud)}async function ov(n,t){const e=Rt(n);let s=3;const a=t.query;let l=e.queries.get(a);l?!l.ba()&&t.Da()&&(s=2):(l=new Ek,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const d=av(c,`Initialization of query '${wo(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,l),l.Sa.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&uv(e)}async function lv(n,t){const e=Rt(n),s=t.query;let a=3;const l=e.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function Ak(n,t){const e=Rt(n);let s=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&uv(e)}function Sk(n,t,e){const s=Rt(n),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(e);s.queries.delete(t)}function uv(n){n.Ca.forEach((t=>{t.next()}))}var Gg,SA;(SA=Gg||(Gg={})).Ma="default",SA.Cache="cache";class cv{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Qo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Qo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Gg.Cache}}class ER{constructor(t){this.key=t}}class bR{constructor(t){this.key=t}}class wk{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=z1(t),this.tu=new Lo(this.eu)}get nu(){return this.Ya}ru(t,e){const s=e?e.iu:new bA,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const b=a.get(y),w=cd(this.query,_)?_:null,V=!!b&&this.mutatedKeys.has(b.key),U=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;b&&w?b.data.isEqual(w.data)?V!==U&&(s.track({type:3,doc:w}),k=!0):this.su(b,w)||(s.track({type:2,doc:w}),k=!0,(m&&this.eu(w,m)>0||g&&this.eu(w,g)<0)&&(d=!0)):!b&&w?(s.track({type:0,doc:w}),k=!0):b&&!w&&(s.track({type:1,doc:b}),k=!0,(m||g)&&(d=!0)),k&&(w?(c=c.add(w),l=U?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(w,V){const U=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:k})}};return U(w)-U(V)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=e&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new Qo(this.query,t.tu,l,c,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Bt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const e=[];return t.forEach((s=>{this.Xa.has(s)||e.push(new bR(s))})),this.Xa.forEach((s=>{t.has(s)||e.push(new ER(s))})),e}cu(t){this.Ya=t.Qs,this.Xa=Bt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hv="SyncEngine";class Rk{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class xk{constructor(t){this.key=t,this.hu=!1}}class Ck{constructor(t,e,s,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ma((d=>j1(d)),ud),this.Iu=new Map,this.Eu=new Set,this.du=new ge(yt.comparator),this.Au=new Map,this.Ru=new Xy,this.Vu={},this.mu=new Map,this.fu=$o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ik(n,t,e=!0){const s=CR(n);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await AR(s,t,e,!0),a}async function Dk(n,t){const e=CR(n);await AR(e,t,!0,!1)}async function AR(n,t,e,s){const a=await XL(n.localStore,Zi(t)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,e);let d;return s&&(d=await Nk(n,t,l,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&pR(n.remoteStore,a),d}async function Nk(n,t,e,s,a){n.pu=(_,b,w)=>(async function(U,k,F,Q){let $=k.view.ru(F);$.Cs&&($=await gA(U.localStore,k.query,!1).then((({documents:C})=>k.view.ru(C,$))));const lt=Q&&Q.targetChanges.get(k.targetId),st=Q&&Q.targetMismatches.get(k.targetId)!=null,ht=k.view.applyChanges($,U.isPrimaryClient,lt,st);return RA(U,k.targetId,ht.au),ht.snapshot})(n,_,b,w);const l=await gA(n.localStore,t,!0),c=new wk(t,l.Qs),d=c.ru(l.documents),m=fc.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,m);RA(n,e,g.au);const y=new Rk(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function Vk(n,t,e){const s=Rt(n),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!ud(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Hg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),e&&ev(s.remoteStore,a.targetId),Kg(s,a.targetId)})).catch(rl)):(Kg(s,a.targetId),await Hg(s.localStore,a.targetId,!0))}async function Mk(n,t){const e=Rt(n),s=e.Tu.get(t),a=e.Iu.get(s.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),ev(e.remoteStore,s.targetId))}async function Ok(n,t,e){const s=Bk(n);try{const a=await(function(c,d){const m=Rt(c),g=le.now(),y=d.reduce(((w,V)=>w.add(V.key)),Bt());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let V=Ns(),U=Bt();return m.Ns.getEntries(w,y).next((k=>{V=k,V.forEach(((F,Q)=>{Q.isValidDocument()||(U=U.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,V))).next((k=>{_=k;const F=[];for(const Q of d){const $=W4(Q,_.get(Q.key).overlayedDocument);$!=null&&F.push(new jr(Q.key,$,N1($.value.mapValue),dn.exists(!0)))}return m.mutationQueue.addMutationBatch(w,g,F,d)})).next((k=>{b=k;const F=k.applyToLocalDocumentSet(_,U);return m.documentOverlayCache.saveOverlays(w,k.batchId,F)}))})).then((()=>({batchId:b.batchId,changes:F1(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new ge(zt)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(s,a.batchId,e),await mc(s,a.changes),await yd(s.remoteStore)}catch(a){const l=av(a,"Failed to persist write");e.reject(l)}}async function SR(n,t){const e=Rt(n);try{const s=await YL(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=e.Au.get(l);c&&(qt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?qt(c.hu,14607):a.removedDocuments.size>0&&(qt(c.hu,42227),c.hu=!1))})),await mc(e,s,t)}catch(s){await rl(s)}}function wA(n,t,e){const s=Rt(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Rt(c);m.onlineState=d;let g=!1;m.queries.forEach(((y,_)=>{for(const b of _.Sa)b.va(d)&&(g=!0)})),g&&uv(m)})(s.eventManager,t),a.length&&s.Pu.H_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Pk(n,t,e){const s=Rt(n);s.sharedClientState.updateQueryState(t,"rejected",e);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new ge(yt.comparator);c=c.insert(l,Xe.newNoDocument(l,Et.min()));const d=Bt().add(l),m=new md(Et.min(),new Map,new ge(zt),c,d);await SR(s,m),s.du=s.du.remove(l),s.Au.delete(t),fv(s)}else await Hg(s.localStore,t,!1).then((()=>Kg(s,t,e))).catch(rl)}async function Lk(n,t){const e=Rt(n),s=t.batch.batchId;try{const a=await KL(e.localStore,t);RR(e,s,null),wR(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await mc(e,a)}catch(a){await rl(a)}}async function kk(n,t,e){const s=Rt(n);try{const a=await(function(c,d){const m=Rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next((_=>(qt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(s.localStore,t);RR(s,t,e),wR(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await mc(s,a)}catch(a){await rl(a)}}function wR(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function RR(n,t,e){const s=Rt(n);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),s.Vu[s.currentUser.toKey()]=a}}function Kg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Iu.get(t))n.Tu.delete(s),e&&n.Pu.yu(s,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((s=>{n.Ru.containsKey(s)||xR(n,s)}))}function xR(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(ev(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),fv(n))}function RA(n,t,e){for(const s of e)s instanceof ER?(n.Ru.addReference(s.key,t),Uk(n,s)):s instanceof bR?(mt(hv,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,t),n.Ru.containsKey(s.key)||xR(n,s.key)):_t(19791,{wu:s})}function Uk(n,t){const e=t.key,s=e.path.canonicalString();n.du.get(e)||n.Eu.has(s)||(mt(hv,"New document in limbo: "+e),n.Eu.add(s),fv(n))}function fv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(se.fromString(t)),s=n.fu.next();n.Au.set(s,new xk(e)),n.du=n.du.insert(e,s),pR(n.remoteStore,new Er(Zi(ld(e.path)),s,"TargetPurposeLimboResolution",ad.ce))}}async function mc(n,t,e){const s=Rt(n),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,t,e).then((g=>{if((g||e)&&s.isPrimaryClient){const y=g?!g.fromCache:e?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=Zy.As(m.targetId,g);l.push(y)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,g){const y=Rt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>it.forEach(g,(b=>it.forEach(b.Es,(w=>y.persistence.referenceDelegate.addReference(_,b.targetId,w))).next((()=>it.forEach(b.ds,(w=>y.persistence.referenceDelegate.removeReference(_,b.targetId,w)))))))))}catch(_){if(!al(_))throw _;mt(Jy,"Failed to update sequence numbers: "+_)}for(const _ of g){const b=_.targetId;if(!_.fromCache){const w=y.Ms.get(b),V=w.snapshotVersion,U=w.withLastLimboFreeSnapshotVersion(V);y.Ms=y.Ms.insert(b,U)}}})(s.localStore,l))}async function jk(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){mt(hv,"User change. New user:",t.toKey());const s=await fR(e.localStore,t);e.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ut(J.CANCELLED,c))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await mc(e,s.Ls)}}function zk(n,t){const e=Rt(n),s=e.Au.get(t);if(s&&s.hu)return Bt().add(s.key);{let a=Bt();const l=e.Iu.get(t);if(!l)return a;for(const c of l){const d=e.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function CR(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=SR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pk.bind(null,t),t.Pu.H_=Ak.bind(null,t.eventManager),t.Pu.yu=Sk.bind(null,t.eventManager),t}function Bk(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kk.bind(null,t),t}class Bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=pd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return GL(this.persistence,new FL,t.initialUser,this.serializer)}Cu(t){return new hR(Wy.mi,this.serializer)}Du(t){return new ZL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bf.provider={build:()=>new Bf};class Fk extends Bf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){qt(this.persistence.referenceDelegate instanceof jf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new xL(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new hR((s=>jf.mi(s,e)),this.serializer)}}class Yg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wA(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jk.bind(null,this.syncEngine),await Tk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new bk})()}createDatastore(t){const e=pd(t.databaseInfo.databaseId),s=(function(l){return new ik(l)})(t.databaseInfo);return(function(l,c,d,m){return new ok(l,c,d,m)})(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,a,l,c,d){return new uk(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>wA(this.syncEngine,e,0)),(function(){return _A.v()?new _A:new JL})())}createSyncEngine(t,e){return(function(a,l,c,d,m,g,y){const _=new Ck(a,l,c,d,m,g);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=Rt(e);mt(Da,"RemoteStore shutting down."),s.Ea.add(5),await dc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yg.provider={build:()=>new Yg};class dv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ds("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}class Hk{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const e=await(async function(a,l){const c=Rt(a),d={documents:l.map((_=>Uf(c.serializer,_)))},m=await c.Ho("BatchGetDocuments",c.serializer.databaseId,se.emptyPath(),d,l.length),g=new Map;m.forEach((_=>{const b=cL(c.serializer,_);g.set(b.key.toString(),b)}));const y=[];return l.forEach((_=>{const b=g.get(_.toString());qt(!!b,55234,{key:_}),y.push(b)})),y})(this.datastore,t);return e.forEach((s=>this.recordVersion(s))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new dd(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((e,s)=>{const a=yt.fromPath(s);this.mutations.push(new W1(a,this.precondition(a)))})),await(async function(s,a){const l=Rt(s),c={writes:a.map((d=>aR(l.serializer,d)))};await l.Go("Commit",l.serializer.databaseId,se.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw _t(50498,{Gu:t.constructor.name});e=Et.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!e.isEqual(s))throw new ut(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Et.min())?dn.exists(!1):dn.updateTime(e):dn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Et.min()))throw new ut(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dn.updateTime(e)}return dn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class qk{constructor(t,e,s,a,l){this.asyncQueue=t,this.datastore=e,this.options=s,this.updateFunction=a,this.deferred=l,this.zu=s.maxAttempts,this.M_=new tv(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new Hk(this.datastore),e=this.Hu(t);e&&e.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((a=>{this.Yu(a)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(t){try{const e=this.updateFunction(t);return!cc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!Z1(e)}return!1}}const Lr="FirestoreClient";class Gk{constructor(t,e,s,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=zy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{mt(Lr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(mt(Lr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=av(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function eg(n,t){n.asyncQueue.verifyOperationInProgress(),mt(Lr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await fR(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function xA(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Kk(n);mt(Lr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((s=>EA(t.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>EA(t.remoteStore,a))),n._onlineComponents=t}async function Kk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){mt(Lr,"Using user provided OfflineComponentProvider");try{await eg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;qo("Error using user provided cache. Falling back to memory cache: "+e),await eg(n,new Bf)}}else mt(Lr,"Using default OfflineComponentProvider"),await eg(n,new Fk(void 0));return n._offlineComponents}async function mv(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(mt(Lr,"Using user provided OnlineComponentProvider"),await xA(n,n._uninitializedComponentsProvider._online)):(mt(Lr,"Using default OnlineComponentProvider"),await xA(n,new Yg))),n._onlineComponents}function Yk(n){return mv(n).then((t=>t.syncEngine))}function $k(n){return mv(n).then((t=>t.datastore))}async function Ff(n){const t=await mv(n),e=t.eventManager;return e.onListen=Ik.bind(null,t.syncEngine),e.onUnlisten=Vk.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Dk.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Mk.bind(null,t.syncEngine),e}function Qk(n,t,e={}){const s=new Wi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const y=new dv({next:b=>{y.Nu(),c.enqueueAndForget((()=>lv(l,_)));const w=b.docs.has(d);!w&&b.fromCache?g.reject(new ut(J.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&m&&m.source==="server"?g.reject(new ut(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),_=new cv(ld(d.path),y,{includeMetadataChanges:!0,qa:!0});return ov(l,_)})(await Ff(n),n.asyncQueue,t,e,s))),s.promise}function Xk(n,t,e={}){const s=new Wi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const y=new dv({next:b=>{y.Nu(),c.enqueueAndForget((()=>lv(l,_))),b.fromCache&&m.source==="server"?g.reject(new ut(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),_=new cv(d,y,{includeMetadataChanges:!0,qa:!0});return ov(l,_)})(await Ff(n),n.asyncQueue,t,e,s))),s.promise}function IR(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const CA=new Map;const DR="firestore.googleapis.com",IA=!0;class DA{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DR,this.ssl=IA}else this.host=t.host,this.ssl=t.ssl??IA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wL)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}h4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IR(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vd{constructor(t,e,s,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new e4;switch(s.type){case"firstParty":return new r4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=CA.get(e);s&&(mt("ComponentProvider","Removing Datastore"),CA.delete(e),s.terminate())})(this),Promise.resolve()}}function Wk(n,t,e,s={}){n=Dn(n,vd);const a=nl(t),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;a&&(s1(`https://${d}`),r1("Firestore",!0)),l.host!==DR&&l.host!==d&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!xa(m,c)&&(n._setSettings(m),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=hn.MOCK_USER;else{g=RO(s.mockUserToken,n._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new hn(_)}n._authCredentials=new n4(new _1(g,y))}}class zr{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new zr(this.firestore,t,this._query)}}class pe{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pe(this.firestore,t,this._key)}toJSON(){return{type:pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(uc(e,pe._jsonSchema))return new pe(t,s||null,new yt(se.fromString(e.referencePath)))}}pe._jsonSchemaVersion="firestore/documentReference/1.0",pe._jsonSchema={type:Be("string",pe._jsonSchemaVersion),referencePath:Be("string")};class Rr extends zr{constructor(t,e,s){super(t,e,ld(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pe(this.firestore,null,new yt(t))}withConverter(t){return new Rr(this.firestore,t,this._path)}}function Hf(n,t,...e){if(n=xe(n),T1("collection","path",t),n instanceof vd){const s=se.fromString(t,...e);return Hb(s),new Rr(n,null,s)}{if(!(n instanceof pe||n instanceof Rr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(se.fromString(t,...e));return Hb(s),new Rr(n.firestore,null,s)}}function si(n,t,...e){if(n=xe(n),arguments.length===1&&(t=zy.newId()),T1("doc","path",t),n instanceof vd){const s=se.fromString(t,...e);return Fb(s),new pe(n,null,new yt(s))}{if(!(n instanceof pe||n instanceof Rr))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(se.fromString(t,...e));return Fb(s),new pe(n.firestore,n instanceof Rr?n.converter:null,new yt(s))}}const NA="AsyncQueue";class VA{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tv(this,"async_queue_retry"),this._c=()=>{const s=tg();s&&mt(NA,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=tg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=tg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Wi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!al(t))throw t;mt(NA,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",MA(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=rv.createAndSchedule(this,t,e,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&_t(47125,{Pc:MA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function MA(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function OA(n){return(function(e,s){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Vs extends vd{constructor(t,e,s,a){super(t,e,s,a),this.type="firestore",this._queue=new VA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new VA(t),this._firestoreClient=void 0,await t}}}function Zk(n,t){const e=typeof n=="object"?n:u1(),s=typeof n=="string"?n:Vf,a=Uy(e,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=SO("firestore");l&&Wk(a,...l)}return a}function pc(n){if(n._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Jk(n),n._firestoreClient}function Jk(n){const t=n._freezeSettings(),e=(function(a,l,c,d){return new b4(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,IR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Gk(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(ln.fromBase64String(t))}catch(e){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new zn(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(uc(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Be("string",zn._jsonSchemaVersion),bytes:Be("string")};class gc{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class pv{constructor(t){this._methodName=t}}class Ji{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(t){if(uc(t,Ji._jsonSchema))return new Ji(t.latitude,t.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:Be("string",Ji._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};class ts{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ts._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(uc(t,ts._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new ts(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ts._jsonSchemaVersion="firestore/vectorValue/1.0",ts._jsonSchema={type:Be("string",ts._jsonSchemaVersion),vectorValues:Be("object")};const t3=/^__.*__$/;class e3{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new jr(t,this.data,this.fieldMask,e,this.fieldTransforms):new hc(t,this.data,e,this.fieldTransforms)}}class NR{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new jr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function VR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:n})}}class gv{constructor(t,e,s,a,l,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new gv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.gc(t),s}yc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return qf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(VR(this.Ac)&&t3.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class n3{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||pd(t)}Cc(t,e,s,a=!1){return new gv({Ac:t,methodName:e,Dc:s,path:on.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _d(n){const t=n._freezeSettings(),e=pd(n._databaseId);return new n3(n._databaseId,!!t.ignoreUndefinedProperties,e)}function MR(n,t,e,s,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,t,e,a);yv("Data must be an object, but it was:",c,s);const d=LR(s,c);let m,g;if(l.merge)m=new Bn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const b=$g(t,_,e);if(!c.contains(b))throw new ut(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);UR(y,b)||y.push(b)}m=new Bn(y),g=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=c.fieldTransforms;return new e3(new _n(d),m,g)}class Td extends pv{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Td}}function OR(n,t,e,s){const a=n.Cc(1,t,e);yv("Data must be an object, but it was:",a,s);const l=[],c=_n.empty();Ur(s,((m,g)=>{const y=vv(t,m,e);g=xe(g);const _=a.yc(y);if(g instanceof Td)l.push(y);else{const b=yc(g,_);b!=null&&(l.push(y),c.set(y,b))}}));const d=new Bn(l);return new NR(c,d,a.fieldTransforms)}function PR(n,t,e,s,a,l){const c=n.Cc(1,t,e),d=[$g(t,s,e)],m=[a];if(l.length%2!=0)throw new ut(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push($g(t,l[b])),m.push(l[b+1]);const g=[],y=_n.empty();for(let b=d.length-1;b>=0;--b)if(!UR(g,d[b])){const w=d[b];let V=m[b];V=xe(V);const U=c.yc(w);if(V instanceof Td)g.push(w);else{const k=yc(V,U);k!=null&&(g.push(w),y.set(w,k))}}const _=new Bn(g);return new NR(y,_,c.fieldTransforms)}function i3(n,t,e,s=!1){return yc(e,n.Cc(s?4:3,t))}function yc(n,t){if(kR(n=xe(n)))return yv("Unsupported field value:",t,n),LR(n,t);if(n instanceof pv)return(function(s,a){if(!VR(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=yc(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(n,t)}return(function(s,a){if((s=xe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return G4(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=le.fromDate(s);return{timestampValue:kf(a.serializer,l)}}if(s instanceof le){const l=new le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kf(a.serializer,l)}}if(s instanceof Ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:nR(a.serializer,s._byteString)};if(s instanceof pe){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Qy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ts)return(function(c,d){return{mapValue:{fields:{[I1]:{stringValue:D1},[Mf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Ky(d.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${rd(s)}`)})(n,t)}function LR(n,t){const e={};return A1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ur(n,((s,a)=>{const l=yc(a,t.mc(s));l!=null&&(e[s]=l)})),{mapValue:{fields:e}}}function kR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof le||n instanceof Ji||n instanceof zn||n instanceof pe||n instanceof pv||n instanceof ts)}function yv(n,t,e){if(!kR(e)||!E1(e)){const s=rd(e);throw s==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+s)}}function $g(n,t,e){if((t=xe(t))instanceof gc)return t._internalPath;if(typeof t=="string")return vv(n,t);throw qf("Field path arguments must be of type string or ",n,!1,void 0,e)}const s3=new RegExp("[~\\*/\\[\\]]");function vv(n,t,e){if(t.search(s3)>=0)throw qf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new gc(...t.split("."))._internalPath}catch{throw qf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function qf(n,t,e,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ut(J.INVALID_ARGUMENT,d+n+m)}function UR(n,t){return n.some((e=>e.isEqual(t)))}class Gf{constructor(t,e,s,a,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new r3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(_v("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class r3 extends Gf{data(){return super.data()}}function _v(n,t){return typeof t=="string"?vv(n,t):t instanceof gc?t._internalPath:t._delegate._internalPath}function jR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tv{}class zR extends Tv{}function BR(n,t,...e){let s=[];t instanceof Tv&&s.push(t),s=s.concat(e),(function(l){const c=l.filter((m=>m instanceof bv)).length,d=l.filter((m=>m instanceof Ev)).length;if(c>1||c>0&&d>0)throw new ut(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class Ev extends zR{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new Ev(t,e,s)}_apply(t){const e=this._parse(t);return HR(t._query,e),new zr(t.firestore,t.converter,Ug(t._query,e))}_parse(t){const e=_d(t.firestore);return(function(l,c,d,m,g,y,_){let b;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ut(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){LA(_,y);const V=[];for(const U of _)V.push(PA(m,l,U));b={arrayValue:{values:V}}}else b=PA(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||LA(_,y),b=i3(d,c,_,y==="in"||y==="not-in");return ze.create(g,y,b)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class bv extends Tv{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new bv(t,e)}_parse(t){const e=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return e.length===1?e[0]:Si.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)HR(c,m),c=Ug(c,m)})(t._query,e),new zr(t.firestore,t.converter,Ug(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Av extends zR{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Av(t,e)}_apply(t){const e=(function(a,l,c){if(a.startAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xu(l,c)})(t._query,this._field,this._direction);return new zr(t.firestore,t.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new ol(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,e))}}function FR(n,t="asc"){const e=t,s=_v("orderBy",n);return Av._create(s,e)}function PA(n,t,e){if(typeof(e=xe(e))=="string"){if(e==="")throw new ut(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U1(t)&&e.indexOf("/")!==-1)throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(se.fromString(e));if(!yt.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Wb(n,new yt(s))}if(e instanceof pe)return Wb(n,e._key);throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rd(e)}.`)}function LA(n,t){if(!Array.isArray(n)||n.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function HR(n,t){const e=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class qR{convertValue(t,e="none"){switch(Or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Ur(t,((a,l)=>{s[a]=this.convertValue(l,e)})),s}convertVectorValue(t){const e=t.fields?.[Mf].arrayValue?.values?.map((s=>Re(s.doubleValue)));return new ts(e)}convertGeoPoint(t){return new Ji(Re(t.latitude),Re(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=od(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Yu(t));default:return null}}convertTimestamp(t){const e=Vr(t);return new le(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=se.fromString(t);qt(uR(s),9688,{name:t});const a=new $u(s.get(1),s.get(3)),l=new yt(s.popFirst(5));return a.isEqual(e)||Ds(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function GR(n,t,e){let s;return s=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,s}class a3 extends qR{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new pe(this.firestore,null,e)}}class Mo{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xr extends Gf{constructor(t,e,s,a,l,c){super(t,e,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(_v("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=xr._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}xr._jsonSchemaVersion="firestore/documentSnapshot/1.0",xr._jsonSchema={type:Be("string",xr._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class vf extends xr{data(t={}){return super.data(t)}}class Ra{constructor(t,e,s,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Mo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new vf(this._firestore,this._userDataWriter,s.key,s,new Mo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Mo(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Mo(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:o3(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ra._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function o3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:n})}}function l3(n){n=Dn(n,pe);const t=Dn(n.firestore,Vs);return Qk(pc(t),n._key).then((e=>KR(t,n,e)))}Ra._jsonSchemaVersion="firestore/querySnapshot/1.0",Ra._jsonSchema={type:Be("string",Ra._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};class Ed extends qR{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new pe(this.firestore,null,e)}}function u3(n){n=Dn(n,zr);const t=Dn(n.firestore,Vs),e=pc(t),s=new Ed(t);return jR(n._query),Xk(e,n._query).then((a=>new Ra(t,s,n,a)))}function c3(n,t,e){n=Dn(n,pe);const s=Dn(n.firestore,Vs),a=GR(n.converter,t,e);return Sv(s,[MR(_d(s),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,dn.none())])}function ko(n,t,e,...s){n=Dn(n,pe);const a=Dn(n.firestore,Vs),l=_d(a);let c;return c=typeof(t=xe(t))=="string"||t instanceof gc?PR(l,"updateDoc",n._key,t,e,s):OR(l,"updateDoc",n._key,t),Sv(a,[c.toMutation(n._key,dn.exists(!0))])}function h3(n){return Sv(Dn(n.firestore,Vs),[new dd(n._key,dn.none())])}function Lu(n,...t){n=xe(n);let e={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||OA(t[s])||(e=t[s++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(OA(t[s])){const m=t[s];t[s]=m.next?.bind(m),t[s+1]=m.error?.bind(m),t[s+2]=m.complete?.bind(m)}let l,c,d;if(n instanceof pe)c=Dn(n.firestore,Vs),d=ld(n._key.path),l={next:m=>{t[s]&&t[s](KR(c,n,m))},error:t[s+1],complete:t[s+2]};else{const m=Dn(n,zr);c=Dn(m.firestore,Vs),d=m._query;const g=new Ed(c);l={next:y=>{t[s]&&t[s](new Ra(c,g,m,y))},error:t[s+1],complete:t[s+2]},jR(n._query)}return(function(g,y,_,b){const w=new dv(b),V=new cv(y,w,_);return g.asyncQueue.enqueueAndForget((async()=>ov(await Ff(g),V))),()=>{w.Nu(),g.asyncQueue.enqueueAndForget((async()=>lv(await Ff(g),V)))}})(pc(c),d,a,l)}function Sv(n,t){return(function(s,a){const l=new Wi;return s.asyncQueue.enqueueAndForget((async()=>Ok(await Yk(s),a,l))),l.promise})(pc(n),t)}function KR(n,t,e){const s=e.docs.get(t._key),a=new Ed(n);return new xr(n,a,t._key,s,new Mo(e.hasPendingWrites,e.fromCache),t.converter)}const f3={maxAttempts:5};function Su(n,t){if((n=xe(n)).firestore!==t)throw new ut(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class d3{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=_d(t)}get(t){const e=Su(t,this._firestore),s=new a3(this._firestore);return this._transaction.lookup([e._key]).then((a=>{if(!a||a.length!==1)return _t(24041);const l=a[0];if(l.isFoundDocument())return new Gf(this._firestore,s,l.key,l,e.converter);if(l.isNoDocument())return new Gf(this._firestore,s,e._key,null,e.converter);throw _t(18433,{doc:l})}))}set(t,e,s){const a=Su(t,this._firestore),l=GR(a.converter,e,s),c=MR(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,s);return this._transaction.set(a._key,c),this}update(t,e,s,...a){const l=Su(t,this._firestore);let c;return c=typeof(e=xe(e))=="string"||e instanceof gc?PR(this._dataReader,"Transaction.update",l._key,e,s,a):OR(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,c),this}delete(t){const e=Su(t,this._firestore);return this._transaction.delete(e._key),this}}class m3 extends d3{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Su(t,this._firestore),s=new Ed(this._firestore);return super.get(t).then((a=>new xr(this._firestore,s,e._key,a._document,new Mo(!1,!1),e.converter)))}}function p3(n,t,e){n=Dn(n,Vs);const s={...f3,...e};return(function(l){if(l.maxAttempts<1)throw new ut(J.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(l,c,d){const m=new Wi;return l.asyncQueue.enqueueAndForget((async()=>{const g=await $k(l);new qk(l.asyncQueue,g,d,c,m).ju()})),m.promise})(pc(n),(a=>t(new m3(n,a))),s)}(function(t,e=!0){(function(a){sl=a})(il),Ho(new Ca("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Vs(new i4(s.getProvider("auth-internal")),new a4(c,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(g.options.projectId,y)})(c,a),c);return l={useFetchStreams:e,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Sr(Ub,jb,t),Sr(Ub,jb,"esm2020")})();const g3={apiKey:"AIzaSyDOpa0PqeaiRQRVtbezwp4iYaXov_oY51g",authDomain:"mi-restaurante-reservas-761b1.firebaseapp.com",projectId:"mi-restaurante-reservas-761b1",storageBucket:"mi-restaurante-reservas-761b1.appspot.com",messagingSenderId:"504225678178",appId:"1:504225678178:web:ec29b7a8bd05855802623b"},y3=l1(g3),fn=Zk(y3);function YR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v3=YR,$R=new oc("auth","Firebase",YR());const Kf=new Ly("@firebase/auth");function _3(n,...t){Kf.logLevel<=jt.WARN&&Kf.warn(`Auth (${il}): ${n}`,...t)}function _f(n,...t){Kf.logLevel<=jt.ERROR&&Kf.error(`Auth (${il}): ${n}`,...t)}function wi(n,...t){throw wv(n,...t)}function es(n,...t){return wv(n,...t)}function QR(n,t,e){const s={...v3(),[t]:e};return new oc("auth","Firebase",s).create(t,{appName:n.name})}function Cr(n){return QR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wv(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return $R.create(n,...t)}function bt(n,t,...e){if(!n)throw wv(t,...e)}function As(n){const t="INTERNAL ASSERTION FAILED: "+n;throw _f(t),new Error(t)}function Ms(n,t){n||As(t)}function Qg(){return typeof self<"u"&&self.location?.href||""}function T3(){return kA()==="http:"||kA()==="https:"}function kA(){return typeof self<"u"&&self.location?.protocol||null}function E3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T3()||VO()||"connection"in navigator)?navigator.onLine:!0}function b3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class vc{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ms(e>t,"Short delay should be less than long delay!"),this.isMobile=IO()||MO()}get(){return E3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rv(n,t){Ms(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class XR{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const A3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const S3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w3=new vc(3e4,6e4);function Pa(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Br(n,t,e,s,a={}){return WR(n,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=lc({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:m,...l};return NO()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&nl(n.emulatorConfig.host)&&(g.credentials="include"),XR.fetch()(await ZR(n,n.config.apiHost,e,d),g)})}async function WR(n,t,e){n._canInitEmulator=!1;const s={...A3,...t};try{const a=new x3(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw af(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw af(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw af(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw af(n,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw QR(n,y,g);wi(n,y)}}catch(a){if(a instanceof Ps)throw a;wi(n,"network-request-failed",{message:String(a)})}}async function bd(n,t,e,s,a={}){const l=await Br(n,t,e,s,a);return"mfaPendingCredential"in l&&wi(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function ZR(n,t,e,s){const a=`${t}${e}?${s}`,l=n,c=l.config.emulator?Rv(n.config,a):`${n.config.apiScheme}://${a}`;return S3.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function R3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(es(this.auth,"network-request-failed")),w3.get())})}}function af(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const a=es(n,t,s);return a.customData._tokenResponse=e,a}function UA(n){return n!==void 0&&n.enterprise!==void 0}class C3{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return R3(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function I3(n,t){return Br(n,"GET","/v2/recaptchaConfig",Pa(n,t))}async function D3(n,t){return Br(n,"POST","/v1/accounts:delete",t)}async function Yf(n,t){return Br(n,"POST","/v1/accounts:lookup",t)}function ku(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function N3(n,t=!1){const e=xe(n),s=await e.getIdToken(t),a=xv(s);bt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:ku(ng(a.auth_time)),issuedAtTime:ku(ng(a.iat)),expirationTime:ku(ng(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ng(n){return Number(n)*1e3}function xv(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return _f("JWT malformed, contained fewer than 3 sections"),null;try{const a=t1(e);return a?JSON.parse(a):(_f("Failed to decode base64 JWT payload"),null)}catch(a){return _f("Caught error parsing JWT payload as JSON",a?.toString()),null}}function jA(n){const t=xv(n);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ju(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Ps&&V3(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function V3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class M3{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $f(n){const t=n.auth,e=await n.getIdToken(),s=await Ju(n,Yf(t,{idToken:e}));bt(s?.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?JR(a.providerUserInfo):[],c=P3(n.providerData,l),d=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!c?.length,g=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Xg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function O3(n){const t=xe(n);await $f(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function P3(n,t){return[...n.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function JR(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function L3(n,t){const e=await WR(n,{},async()=>{const s=lc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await ZR(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return n.emulatorConfig&&nl(n.emulatorConfig.host)&&(m.credentials="include"),XR.fetch()(c,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function k3(n,t){return Br(n,"POST","/v2/accounts:revokeToken",Pa(n,t))}class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):jA(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const e=jA(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:a,expiresIn:l}=await L3(t,e);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:a,expirationTime:l}=e,c=new Uo;return s&&(bt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(bt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(bt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return As("not implemented")}}function pr(n,t){bt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ai{constructor({uid:t,auth:e,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new M3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Xg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Ju(this,this.stsTokenManager.getToken(this.auth,t));return bt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return N3(this,t)}reload(){return O3(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await $f(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bi(this.auth.app))return Promise.reject(Cr(this.auth));const t=await this.getIdToken();return await Ju(this,D3(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,a=e.email??void 0,l=e.phoneNumber??void 0,c=e.photoURL??void 0,d=e.tenantId??void 0,m=e._redirectEventId??void 0,g=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:V,stsTokenManager:U}=e;bt(_&&U,t,"internal-error");const k=Uo.fromJSON(this.name,U);bt(typeof _=="string",t,"internal-error"),pr(s,t.name),pr(a,t.name),bt(typeof b=="boolean",t,"internal-error"),bt(typeof w=="boolean",t,"internal-error"),pr(l,t.name),pr(c,t.name),pr(d,t.name),pr(m,t.name),pr(g,t.name),pr(y,t.name);const F=new Ai({uid:_,auth:t,email:a,emailVerified:b,displayName:s,isAnonymous:w,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:g,lastLoginAt:y});return V&&Array.isArray(V)&&(F.providerData=V.map(Q=>({...Q}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(t,e,s=!1){const a=new Uo;a.updateFromServerResponse(e);const l=new Ai({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await $f(l),l}static async _fromGetAccountInfoResponse(t,e,s){const a=e.users[0];bt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?JR(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Uo;d.updateFromIdToken(s);const m=new Ai({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Xg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const zA=new Map;function Ss(n){Ms(n instanceof Function,"Expected a class definition");let t=zA.get(n);return t?(Ms(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,zA.set(n,t),t)}class tx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}tx.type="NONE";const BA=tx;function Tf(n,t,e){return`firebase:${n}:${t}:${e}`}class jo{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Tf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Tf("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Yf(this.auth,{idToken:t}).catch(()=>{});return e?Ai._fromGetAccountInfoResponse(this.auth,e,t):null}return Ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new jo(Ss(BA),t,s);const a=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Ss(BA);const c=Tf(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const y=await g._get(c);if(y){let _;if(typeof y=="string"){const b=await Yf(t,{idToken:y}).catch(()=>{});if(!b)break;_=await Ai._fromGetAccountInfoResponse(t,b,y)}else _=Ai._fromJSON(t,y);g!==l&&(d=_),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new jo(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new jo(l,t,s))}}function FA(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ex(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ax(t))return"Blackberry";if(ox(t))return"Webos";if(nx(t))return"Safari";if((t.includes("chrome/")||ix(t))&&!t.includes("edge/"))return"Chrome";if(rx(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if(s?.length===2)return s[1]}return"Other"}function ex(n=pn()){return/firefox\//i.test(n)}function nx(n=pn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ix(n=pn()){return/crios\//i.test(n)}function sx(n=pn()){return/iemobile/i.test(n)}function rx(n=pn()){return/android/i.test(n)}function ax(n=pn()){return/blackberry/i.test(n)}function ox(n=pn()){return/webos/i.test(n)}function Cv(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function U3(n=pn()){return Cv(n)&&!!window.navigator?.standalone}function j3(){return OO()&&document.documentMode===10}function lx(n=pn()){return Cv(n)||rx(n)||ox(n)||ax(n)||/windows phone/i.test(n)||sx(n)}function ux(n,t=[]){let e;switch(n){case"Browser":e=FA(pn());break;case"Worker":e=`${FA(pn())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${il}/${s}`}class z3{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=e,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function B3(n,t={}){return Br(n,"GET","/v2/passwordPolicy",Pa(n,t))}const F3=6;class H3{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??F3,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class q3{constructor(t,e,s,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HA(this),this.idTokenSubscription=new HA(this),this.beforeStateQueue=new z3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$R,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ss(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await jo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Yf(this,{idToken:t}),s=await Ai._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(bi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await $f(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=b3()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(bi(this.app))return Promise.reject(Cr(this));const e=t?xe(t):null;return e&&bt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return bi(this.app)?Promise.reject(Cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return bi(this.app)?Promise.reject(Cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await B3(this),e=new H3(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new oc("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await k3(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ss(t)||this._popupRedirectResolver;bt(e,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[Ss(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(e);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ux(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_3(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ul(n){return xe(n)}class HA{constructor(t){this.auth=t,this.observer=null,this.addObserver=FO(e=>this.observer=e)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G3(n){Ad=n}function cx(n){return Ad.loadJS(n)}function K3(){return Ad.recaptchaEnterpriseScript}function Y3(){return Ad.gapiScript}function $3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Q3{constructor(){this.enterprise=new X3}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class X3{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const W3="recaptcha-enterprise",hx="NO_RECAPTCHA";class Z3{constructor(t){this.type=W3,this.auth=ul(t)}async verify(t="verify",e=!1){async function s(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{I3(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new C3(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;UA(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(g=>{c(g)}).catch(()=>{c(hx)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Q3().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!e&&UA(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=K3();m.length!==0&&(m+=d),cx(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function qA(n,t,e,s=!1,a=!1){const l=new Z3(n);let c;if(a)c=hx;else try{c=await l.verify(e)}catch{c=await l.verify(e,!0)}const d={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function GA(n,t,e,s,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await qA(n,t,e,e==="getOobCode");return s(n,l)}else return s(n,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await qA(n,t,e,e==="getOobCode");return s(n,c)}else return Promise.reject(l)})}function J3(n,t){const e=Uy(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(xa(l,t??{}))return a;wi(a,"already-initialized")}return e.initialize({options:t})}function t6(n,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(Ss);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t?.popupRedirectResolver)}function e6(n,t,e){const s=ul(n);bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=fx(t),{host:c,port:d}=n6(t),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),bt(xa(g,s.config.emulator)&&xa(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,nl(c)?(s1(`${l}//${c}${m}`),r1("Auth",!0)):i6()}function fx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function n6(n){const t=fx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:KA(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:KA(c)}}}function KA(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function i6(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Iv{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return As("not implemented")}_getIdTokenResponse(t){return As("not implemented")}_linkToIdToken(t,e){return As("not implemented")}_getReauthenticationResolver(t){return As("not implemented")}}async function s6(n,t){return Br(n,"POST","/v1/accounts:signUp",t)}async function r6(n,t){return bd(n,"POST","/v1/accounts:signInWithPassword",Pa(n,t))}async function a6(n,t){return bd(n,"POST","/v1/accounts:signInWithEmailLink",Pa(n,t))}async function o6(n,t){return bd(n,"POST","/v1/accounts:signInWithEmailLink",Pa(n,t))}class tc extends Iv{constructor(t,e,s,a=null){super("password",s),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new tc(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new tc(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return GA(t,e,"signInWithPassword",r6);case"emailLink":return a6(t,{email:this._email,oobCode:this._password});default:wi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return GA(t,s,"signUpPassword",s6);case"emailLink":return o6(t,{idToken:e,email:this._email,oobCode:this._password});default:wi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function zo(n,t){return bd(n,"POST","/v1/accounts:signInWithIdp",Pa(n,t))}const l6="http://localhost";class Na extends Iv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Na(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):wi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=e;if(!s||!a)return null;const c=new Na(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return zo(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,zo(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,zo(t,e)}buildRequest(){const t={requestUri:l6,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=lc(e)}return t}}function u6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function c6(n){const t=_u(Tu(n)).link,e=t?_u(Tu(t)).deep_link_id:null,s=_u(Tu(n)).deep_link_id;return(s?_u(Tu(s)).link:null)||s||e||t||n}class Dv{constructor(t){const e=_u(Tu(t)),s=e.apiKey??null,a=e.oobCode??null,l=u6(e.mode??null);bt(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=c6(t);try{return new Dv(e)}catch{return null}}}class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(t,e){return tc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=Dv.parseLink(e);return bt(s,"argument-error"),tc._fromEmailAndCode(t,s.code,s.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dx{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class _c extends dx{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class yr extends _c{constructor(){super("facebook.com")}static credential(t){return Na._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yr.credential(t.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";class vr extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Na._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return vr.credential(e,s)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";class _r extends _c{constructor(){super("github.com")}static credential(t){return Na._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _r.credential(t.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";class Tr extends _c{constructor(){super("twitter.com")}static credential(t,e){return Na._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return Tr.credential(e,s)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";class Xo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,a=!1){const l=await Ai._fromIdTokenResponse(t,s,a),c=YA(s);return new Xo({user:l,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const a=YA(s);return new Xo({user:t,providerId:a,_tokenResponse:s,operationType:e})}}function YA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Qf extends Ps{constructor(t,e,s,a){super(e.code,e.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Qf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,a){return new Qf(t,e,s,a)}}function mx(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Qf._fromErrorAndOperation(n,l,t,s):l})}async function h6(n,t,e=!1){const s=await Ju(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Xo._forOperation(n,"link",s)}async function f6(n,t,e=!1){const{auth:s}=n;if(bi(s.app))return Promise.reject(Cr(s));const a="reauthenticate";try{const l=await Ju(n,mx(s,a,t,n),e);bt(l.idToken,s,"internal-error");const c=xv(l.idToken);bt(c,s,"internal-error");const{sub:d}=c;return bt(n.uid===d,s,"user-mismatch"),Xo._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&wi(s,"user-mismatch"),l}}async function px(n,t,e=!1){if(bi(n.app))return Promise.reject(Cr(n));const s="signIn",a=await mx(n,s,t),l=await Xo._fromIdTokenResponse(n,s,a);return e||await n._updateCurrentUser(l.user),l}async function d6(n,t){return px(ul(n),t)}async function m6(n){const t=ul(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function p6(n,t,e){return bi(n.app)?Promise.reject(Cr(n)):d6(xe(n),cl.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&m6(n),s})}function g6(n,t,e,s){return xe(n).onIdTokenChanged(t,e,s)}function y6(n,t,e){return xe(n).beforeAuthStateChanged(t,e)}function v6(n,t,e,s){return xe(n).onAuthStateChanged(t,e,s)}function gx(n){return xe(n).signOut()}const Xf="__sak";class yx{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Xf,"1"),this.storage.removeItem(Xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const _6=1e3,T6=10;class vx extends yx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),a=this.localCache[e];s!==a&&t(e,a,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);j3()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,T6):a()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},_6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}vx.type="LOCAL";const E6=vx;class _x extends yx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}_x.type="SESSION";const Tx=_x;function b6(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Sd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const s=new Sd(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:a,data:l}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(e.origin,l)),m=await b6(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sd.receivers=[];function Nv(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}class A6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Nv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ns(){return window}function S6(n){ns().location.href=n}function Ex(){return typeof ns().WorkerGlobalScope<"u"&&typeof ns().importScripts=="function"}async function w6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R6(){return navigator?.serviceWorker?.controller||null}function x6(){return Ex()?self:null}const bx="firebaseLocalStorageDb",C6=1,Wf="firebaseLocalStorage",Ax="fbase_key";class Tc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function wd(n,t){return n.transaction([Wf],t?"readwrite":"readonly").objectStore(Wf)}function I6(){const n=indexedDB.deleteDatabase(bx);return new Tc(n).toPromise()}function Wg(){const n=indexedDB.open(bx,C6);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Wf,{keyPath:Ax})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Wf)?t(s):(s.close(),await I6(),t(await Wg()))})})}async function $A(n,t,e){const s=wd(n,!0).put({[Ax]:t,value:e});return new Tc(s).toPromise()}async function D6(n,t){const e=wd(n,!1).get(t),s=await new Tc(e).toPromise();return s===void 0?null:s.value}function QA(n,t){const e=wd(n,!0).delete(t);return new Tc(e).toPromise()}const N6=800,V6=3;class Sx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>V6)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ex()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sd._getInstance(x6()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await w6(),!this.activeServiceWorker)return;this.sender=new A6(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||R6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wg();return await $A(t,Xf,"1"),await QA(t,Xf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>$A(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>D6(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>QA(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=wd(a,!1).getAll();return new Tc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sx.type="LOCAL";const M6=Sx;new vc(3e4,6e4);function O6(n,t){return t?Ss(t):(bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Vv extends Iv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return zo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return zo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function P6(n){return px(n.auth,new Vv(n),n.bypassAuthState)}function L6(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),f6(e,new Vv(n),n.bypassAuthState)}async function k6(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),h6(e,new Vv(n),n.bypassAuthState)}class wx{constructor(t,e,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:e,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return P6;case"linkViaPopup":case"linkViaRedirect":return k6;case"reauthViaPopup":case"reauthViaRedirect":return L6;default:wi(this.auth,"internal-error")}}resolve(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const U6=new vc(2e3,1e4);class Oo extends wx{constructor(t,e,s,a,l){super(t,e,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const t=Nv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,U6.get())};t()}}Oo.currentPopupAction=null;const j6="pendingRedirect",Ef=new Map;class z6 extends wx{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=Ef.get(this.auth._key());if(!t){try{const s=await B6(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}Ef.set(this.auth._key(),t)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B6(n,t){const e=q6(t),s=H6(n);if(!await s._isAvailable())return!1;const a=await s._get(e)==="true";return await s._remove(e),a}function F6(n,t){Ef.set(n._key(),t)}function H6(n){return Ss(n._redirectPersistence)}function q6(n){return Tf(j6,n.config.apiKey,n.name)}async function G6(n,t,e=!1){if(bi(n.app))return Promise.reject(Cr(n));const s=ul(n),a=O6(s,t),c=await new z6(s,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const K6=600*1e3;class Y6{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!$6(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!Rx(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError(es(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=K6&&this.cachedEventUids.clear(),this.cachedEventUids.has(XA(t))}saveEventToCache(t){this.cachedEventUids.add(XA(t)),this.lastProcessedEventTime=Date.now()}}function XA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Rx({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function $6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rx(n);default:return!1}}async function Q6(n,t={}){return Br(n,"GET","/v1/projects",t)}const X6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W6=/^https?/;async function Z6(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Q6(n);for(const e of t)try{if(J6(e))return}catch{}wi(n,"unauthorized-domain")}function J6(n){const t=Qg(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!W6.test(e))return!1;if(X6.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const t5=new vc(3e4,6e4);function WA(){const n=ns().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function e5(n){return new Promise((t,e)=>{function s(){WA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{WA(),e(es(n,"network-request-failed"))},timeout:t5.get()})}if(ns().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ns().gapi?.load)s();else{const a=$3("iframefcb");return ns()[a]=()=>{gapi.load?s():e(es(n,"network-request-failed"))},cx(`${Y3()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw bf=null,t})}let bf=null;function n5(n){return bf=bf||e5(n),bf}const i5=new vc(5e3,15e3),s5="__/auth/iframe",r5="emulator/auth/iframe",a5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l5(n){const t=n.config;bt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Rv(t,r5):`https://${n.config.authDomain}/${s5}`,s={apiKey:t.apiKey,appName:n.name,v:il},a=o5.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${e}?${lc(s).slice(1)}`}async function u5(n){const t=await n5(n),e=ns().gapi;return bt(e,n,"internal-error"),t.open({where:document.body,url:l5(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a5,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=es(n,"network-request-failed"),d=ns().setTimeout(()=>{l(c)},i5.get());function m(){ns().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}const c5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h5=500,f5=600,d5="_blank",m5="http://localhost";class ZA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p5(n,t,e,s=h5,a=f5){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...c5,width:s.toString(),height:a.toString(),top:l,left:c},g=pn().toLowerCase();e&&(d=ix(g)?d5:e),ex(g)&&(t=t||m5,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[w,V])=>`${b}${w}=${V},`,"");if(U3(g)&&d!=="_self")return g5(t||"",d),new ZA(null);const _=window.open(t||"",d,y);bt(_,n,"popup-blocked");try{_.focus()}catch{}return new ZA(_)}function g5(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}const y5="__/auth/handler",v5="emulator/auth/handler",_5=encodeURIComponent("fac");async function JA(n,t,e,s,a,l){bt(n.config.authDomain,n,"auth-domain-config-required"),bt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:il,eventId:a};if(t instanceof dx){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",BO(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof _c){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await n._getAppCheckToken(),g=m?`#${_5}=${encodeURIComponent(m)}`:"";return`${T5(n)}?${lc(d).slice(1)}${g}`}function T5({config:n}){return n.emulator?Rv(n,v5):`https://${n.authDomain}/${y5}`}const ig="webStorageSupport";class E5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tx,this._completeRedirectFn=G6,this._overrideRedirectResult=F6}async _openPopup(t,e,s,a){Ms(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await JA(t,e,s,Qg(),a);return p5(t,l,Nv())}async _openRedirect(t,e,s,a){await this._originValidation(t);const l=await JA(t,e,s,Qg(),a);return S6(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(Ms(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await u5(t),s=new Y6(t);return e.register("authEvent",a=>(bt(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ig,{type:ig},a=>{const l=a?.[0]?.[ig];l!==void 0&&e(!!l),wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Z6(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return lx()||nx()||Cv()}}const b5=E5;var tS="@firebase/auth",eS="1.11.1";class A5{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function S5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w5(n){Ho(new Ca("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ux(n)},g=new q3(s,a,l,m);return t6(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),Ho(new Ca("auth-internal",t=>{const e=ul(t.getProvider("auth").getImmediate());return(s=>new A5(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(tS,eS,S5(n)),Sr(tS,eS,"esm2020")}const R5=300,x5=i1("authIdTokenMaxAge")||R5;let nS=null;const C5=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>x5)return;const a=e?.token;nS!==a&&(nS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function xx(n=u1()){const t=Uy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=J3(n,{popupRedirectResolver:b5,persistence:[M6,E6,Tx]}),s=i1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=C5(l.toString());y6(e,c,()=>c(e.currentUser)),g6(e,d=>c(d))}}const a=e1("auth");return a&&e6(e,`http://${a}`),e}function I5(){return document.getElementsByTagName("head")?.[0]??document}G3({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=a=>{const l=es("internal-error");l.customData=a,e(l)},s.type="text/javascript",s.charset="UTF-8",I5().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w5("Browser");function D5({adminUser:n}){const[t,e]=j.useState([]),[s,a]=j.useState(!0),[l,c]=j.useState(!0),d=xx(),m=async()=>{try{await gx(d)}catch(_){console.error("Error al cerrar sesin:",_)}},g=()=>{const _=new Date,b=_.getDay(),w=b===0?-6:1-b,V=new Date(_);return V.setDate(_.getDate()+w),V.setHours(0,0,0,0),V},y=async()=>{if(!window.confirm(` Seguro que quers eliminar las reservas de semanas anteriores?
Esta accin no se puede deshacer.`))return;const b=g(),w=await u3(Hf(fn,"reservas"));let V=0;for(const U of w.docs){const k=U.data();if(!k.date)continue;const F=new Date(k.date);F.setHours(0,0,0,0),F<b&&(await h3(si(fn,"reservas",U.id)),V++)}alert(` Se eliminaron ${V} reservas anteriores.`)};return j.useEffect(()=>{const _=si(fn,"config","general"),b=Lu(_,w=>{w.exists()&&c(w.data().estado)});return()=>b()},[]),j.useEffect(()=>{if(!n)return;const _=BR(Hf(fn,"reservas"),FR("createdAt","desc")),b=Lu(_,w=>{const V=w.docs.map(U=>({id:U.id,...U.data()}));e(V),a(!1)});return()=>b()},[n]),x.jsxs("div",{className:"min-h-screen bg-[#f5e6ca] p-8",children:[x.jsx("h1",{className:"text-3xl font-serif text-emerald-900 mb-6",children:"Panel de Reservas"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>window.location.href="/",className:`\r
    flex items-center gap-2\r
    px-4 py-2\r
    rounded-lg\r
    bg-white\r
    border border-emerald-800\r
    text-emerald-800 text-sm font-medium\r
    shadow-sm\r
    hover:bg-emerald-800\r
    hover:text-white\r
    transition-all\r
    duration-300\r
    cursor-pointer\r
    mb-5\r
  `,children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.8",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),"Volver al sitio"]}),x.jsxs("button",{onClick:m,className:`\r
    flex items-center gap-2\r
    px-4 py-2\r
    rounded-lg\r
    bg-red-600 text-white\r
    border border-emerald-800\r
    text-emerald-800 text-sm font-medium\r
    shadow-sm\r
    hover:bg-red-700\r
    hover:text-white\r
    transition-all\r
    duration-300\r
    cursor-pointer\r
    mb-5\r
    `,children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.8",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6A2.25 2.25 0 005.25 5.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12H9m0 0l3-3m-3 3l3 3"})]}),"Cerrar sesin"]})]}),x.jsxs("div",{className:"mb-8 flex items-center justify-between bg-white p-5 rounded-xl shadow",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-serif text-lg text-emerald-900",children:"Reservas generales"}),x.jsx("p",{className:`text-sm ${l?"text-emerald-700":"text-red-600"}`,children:l?"ABIERTAS":"CERRADAS"})]}),x.jsx("button",{onClick:async()=>{const _=si(fn,"config","general");await ko(_,{estado:!l})},className:`px-5 py-2 rounded-lg text-white transition cursor-pointer
      ${l?"bg-red-600 hover:bg-red-700":"bg-emerald-700 hover:bg-emerald-600"}
    `,children:l?"Cerrar reservas":"Abrir reservas"})]}),x.jsxs("div",{className:"mb-8 flex items-center justify-between bg-white p-5 rounded-xl shadow",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-serif text-lg text-emerald-900",children:"Mantenimiento"}),x.jsx("p",{className:"text-sm text-gray-500",children:"Eliminar reservas antiguas"})]}),x.jsx("button",{onClick:y,className:`\r
      px-5 py-2\r
      rounded-lg\r
      bg-red-100\r
      text-red-700\r
      border border-red-300\r
      hover:bg-red-600\r
      hover:text-white\r
      transition\r
      cursor-pointer\r
    `,children:" Eliminar"})]}),s?x.jsx("p",{children:"Cargando reservas..."}):t.length===0?x.jsx("p",{children:"No hay reservas an"}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full bg-white rounded-lg shadow",children:[x.jsx("thead",{className:"bg-emerald-800 text-white",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-3 text-left",children:"Nombre"}),x.jsx("th",{className:"p-3",children:"Fecha"}),x.jsx("th",{className:"p-3",children:"Hora"}),x.jsx("th",{className:"p-3",children:"Personas"}),x.jsx("th",{className:"p-3",children:"Telfono"}),x.jsx("th",{className:"p-3",children:"Estado"}),x.jsx("th",{className:"p-3",children:"Acciones"})]})}),x.jsx("tbody",{children:t.map(_=>x.jsxs("tr",{className:"border-b",children:[x.jsx("td",{className:"p-3",children:_.name}),x.jsx("td",{className:"p-3 text-center",children:_.date}),x.jsx("td",{className:"p-3 text-center",children:_.time}),x.jsx("td",{className:"p-3 text-center",children:_.people}),x.jsx("td",{className:"p-3 text-center",children:_.phone}),x.jsx("td",{className:"p-3 text-center",children:x.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium
      ${_.status==="confirmed"?"bg-emerald-100 text-emerald-800":_.status==="cancelled"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-800"}
    `,children:_.status==="pending"?"Pendiente":_.status==="confirmed"?"Confirmada":"Cancelada"})}),x.jsx("td",{className:"p-3 text-center",children:x.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[(_.status==="pending"||_.status==="cancelled")&&x.jsx("button",{onClick:async()=>{const b=si(fn,"reservas",_.id);await ko(b,{status:"confirmed"})},className:` px-3 py-1\r
      rounded\r
      text-xs sm:text-sm\r
      font-medium\r
      border border-emerald-700\r
      text-emerald-700\r
      hover:bg-emerald-700 hover:text-white\r
      transition\r
      cursor-pointer`,children:"Confirmar"}),(_.status==="pending"||_.status==="confirmed")&&x.jsx("button",{onClick:async()=>{const b=si(fn,"reservas",_.id);await ko(b,{status:"cancelled"})},className:` px-3 py-1\r
      rounded\r
      text-xs sm:text-sm\r
      font-medium\r
      border border-red-600\r
      text-red-600\r
      hover:bg-red-600 hover:text-white\r
      transition cursor-pointer`,children:"Cancelar"})]})})]},_.id))})]})})]})}const sg=xx(),N5=async n=>{const t=si(fn,"reservasPorDia",n.date),e=Hf(fn,"reservas");try{return await p3(fn,async s=>{const a=await s.get(t);if(!a.exists())throw new Error("El da no existe");const l=a.data(),c=Number(l.personasReservadas)+Number(n.people);if(l.cerrado||c>l.capacidadTotal)throw new Error("SIN_CUPO");s.update(t,{personasReservadas:c,cerrado:c>=l.capacidadTotal});const d=si(e);s.set(d,{name:n.name.trim(),phone:n.phone.trim(),people:Number(n.people),date:n.date,time:n.time,status:"pending",createdAt:new Date})}),{ok:!0}}catch(s){return s.message==="SIN_CUPO"?{ok:!1,error:"SIN_CUPO"}:(console.error("Error en transaccin:",s),{ok:!1,error:"ERROR"})}};function V5({email:n,setEmail:t,password:e,setPassword:s,loginAdmin:a,authError:l}){return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f5e6ca] px-4",children:x.jsxs("form",{onSubmit:a,className:`
        w-full max-w-sm
        bg-white
        p-8
        rounded-2xl
        shadow-xl
        space-y-6
        border border-emerald-100
      `,children:[x.jsxs("div",{className:"text-center space-y-1",children:[x.jsx("h2",{className:"text-2xl font-serif text-emerald-900",children:"Panel Administrador"}),x.jsx("p",{className:"text-sm text-gray-500",children:"Acceso exclusivo"})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-sm text-gray-600",children:"Email"}),x.jsx("input",{type:"email",placeholder:"admin@email.com",value:n,onChange:c=>t(c.target.value),className:`
            w-full px-4 py-3
            border rounded-lg
            outline-none
            focus:ring-2 focus:ring-emerald-700
            focus:border-emerald-700
            transition
          `,required:!0})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-sm text-gray-600",children:"Contrasea"}),x.jsx("input",{type:"password",placeholder:"",value:e,onChange:c=>s(c.target.value),className:`
            w-full px-4 py-3
            border rounded-lg
            outline-none
            focus:ring-2 focus:ring-emerald-700
            focus:border-emerald-700
            transition
          `,required:!0})]}),l&&x.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm p-3 rounded-lg text-center",children:l}),x.jsx("button",{type:"submit",className:`
          w-full
          bg-emerald-800
          text-white
          py-3
          rounded-lg
          font-medium
          hover:bg-emerald-700
          transition
          shadow-md
          shadow-emerald-800/20
          cursor-pointer
        `,children:"Ingresar"}),x.jsxs("button",{onClick:()=>window.location.href="/",className:`
  flex items-center gap-3
  px-25 py-2
  rounded-lg
  bg-white
  border border-emerald-800
  text-emerald-800 text-sm font-medium
  shadow-sm
  hover:bg-emerald-800
  hover:text-white
  transition-all
  duration-300
  cursor-pointer
  mb-5
`,children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.8",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),"Volver al sitio"]}),x.jsx("p",{className:"text-xs text-gray-400 text-center pt-2",children:"Sistema interno  Mi Restaurante"})]})})}function M5(){j.useEffect(()=>{n.forEach(ct=>{const wt=new Image;wt.src=ct})},[]);const n=["/images/fondo1.webp","/images/fondo2.webp","/images/fondo3.webp"],[t,e]=j.useState(0),[s,a]=j.useState(!1),[l,c]=j.useState(!1),[d,m]=j.useState(!1),[g,y]=j.useState(!1),[_,b]=j.useState(!1),[w,V]=j.useState({name:"",phone:"",date:"",people:""}),[U,k]=j.useState({}),[F,Q]=j.useState(!0),[$,lt]=j.useState(null),[st,ht]=j.useState(null),[C,R]=j.useState(null),I=st?st.capacidadTotal-st.personasReservadas:null,[O,M]=j.useState(null),[z,D]=j.useState(!0),[Xt,ue]=j.useState(""),[W,rt]=j.useState(""),[dt,Ct]=j.useState(""),L=window.location.pathname.startsWith("/admin");j.useEffect(()=>{if(!O)return;const ct=BR(Hf(fn,"reservas"),FR("createdAt","desc")),wt=Lu(ct,Gt=>{const de=Gt.docs.map(Ce=>({id:Ce.id,...Ce.data()}));setReservas(de),setLoadingReservas(!1)});return()=>wt()},[O]),j.useEffect(()=>{const ct=v6(sg,wt=>{console.log("AUTH USER:",wt),M(wt),D(!1)});return()=>ct()},[]);const et=async ct=>{ct.preventDefault(),Ct("");try{await p6(sg,Xt,W)}catch{Ct("Email o contrasea incorrectos")}},ot=async ct=>{if(!ct)return;const wt=si(fn,"reservasPorDia",ct),Gt=await l3(wt);if(Gt.exists())ht(Gt.data());else{const de={fecha:ct,personasReservadas:0,capacidadTotal:60,cerrado:!1};await c3(wt,de),ht(de)}};j.useEffect(()=>{w.date&&ot(w.date)},[w.date]),j.useEffect(()=>{const ct=si(fn,"config","reservasEstado"),wt=Lu(ct,async Gt=>{if(!Gt.exists())return;const de=Gt.data();lt(de);const Ce=de.semanaInicio.toDate(),We=new Date,li=new Date(We);li.setDate(We.getDate()-(We.getDay()+6)%7),li.setHours(0,0,0,0),console.log("Semana guardada:",Ce),console.log("Semana actual:",li),Ce.getTime()!==li.getTime()&&(console.log("RESET SEMANAL EJECUTADO"),await ko(ct,{personasReservadas:0,reservasCerradas:!1,semanaInicio:li}))});return()=>wt()},[]),j.useEffect(()=>{const ct=si(fn,"config","general"),wt=Lu(ct,Gt=>{Gt.exists()&&Q(Gt.data().estado)});return()=>wt()},[]),j.useEffect(()=>{const ct=setInterval(()=>{e(wt=>(wt+1)%n.length)},1e4);return()=>clearInterval(ct)},[n.length]),j.useEffect(()=>(s||d?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[s,d]);const ft=()=>{c(!0),setTimeout(()=>{a(!1),c(!1)},300)},At=()=>{y(!1),m(!0)},xt=()=>{y(!0),setTimeout(()=>{m(!1),y(!1)},300)},Lt=()=>{let ct={};if(w.name.trim()||(ct.name="Ingres tu nombre."),w.phone.trim()?/^[0-9\s+-]+$/.test(w.phone)||(ct.phone="El telfono contiene caracteres invlidos."):ct.phone="Ingres un telfono vlido.",!w.date)ct.date="Seleccion una fecha.";else{const wt=new Date;wt.setHours(0,0,0,0);const[Gt,de,Ce]=w.date.split("-"),We=new Date(Gt,de-1,Ce);We.setHours(0,0,0,0),We<wt&&(ct.date="La fecha no puede ser anterior a hoy.")}return(!w.people||Number(w.people)<=0)&&(ct.people="Ingres cuntas personas."),k(ct),Object.keys(ct).length===0},ye=ct=>{if(!ct)return!1;const wt=new Date(ct);wt.setHours(0,0,0,0);const Gt=new Date;Gt.setHours(0,0,0,0);const de=new Date(Gt);de.setDate(Gt.getDate()-(Gt.getDay()+6)%7);const Ce=new Date(de);return Ce.setDate(de.getDate()+6),wt>=de&&wt<=Ce};return j.useEffect(()=>{if(!w.date){R(null);return}ye(w.date)?(R(null),ot(w.date)):(R(" Solo se aceptan reservas para la semana actual."),ht(null))},[w.date]),z?null:L?O?x.jsx(D5,{adminUser:O,onLogout:()=>gx(sg)}):x.jsx(V5,{email:Xt,setEmail:ue,password:W,setPassword:rt,loginAdmin:et,authError:dt}):x.jsxs("div",{className:"min-h-screen flex flex-col",children:[x.jsx(pO,{adminUser:O}),x.jsx("main",{className:"flex-grow",children:x.jsxs("section",{className:"relative text-center h-screen overflow-hidden",children:[x.jsx("div",{className:"absolute inset-0",children:n.map((ct,wt)=>x.jsx(Ww.div,{className:"absolute inset-0 bg-cover bg-center bg-fixed will-change-transform",style:{backgroundImage:`url(${ct})`},initial:{opacity:0,scale:1.1},animate:{opacity:wt===t?1:0,scale:wt===t?1:1.1},transition:{duration:3,ease:"easeInOut"}},wt))}),x.jsx("div",{className:"absolute inset-0 bg-black/40"}),x.jsx("section",{id:"about"}),x.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-center items-start px-22 text-left",children:[x.jsx("h1",{className:"text-4xl text md:text-4xl font-serif font-light text-gray-100 tracking-wild uppercase",children:"Donde cada sabor tiene una historia"}),x.jsx("p",{className:"mt-6 text-base md:text-xl font-serif font-light text-gray-100 tracking-wide leading-relaxed max-w-xl",children:"Un espacio pensado para disfrutar momentos, compartir risas y saborear lo mejor de la casa."})]}),x.jsx("button",{onClick:()=>e(ct=>ct===0?n.length-1:ct-1),className:`absolute left-1 top-1/2 -translate-y-1/2 z-20 
             text-white p-3 cursor-pointer
             hover:scale-110 transition-transform duration-300`,children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("path",{d:"M15 18l-6-6 6-6"})})}),x.jsx("button",{onClick:()=>e(ct=>(ct+1)%n.length),className:`absolute right-1 top-1/2 -translate-y-1/2 z-20 
             text-white p-3 cursor-pointer
             hover:scale-110 transition-transform duration-300`,children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("path",{d:"M9 18l6-6-6-6"})})}),x.jsx("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 flex gap-3 z-20",children:n.map((ct,wt)=>x.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${wt===t?"bg-white":"bg-white/40"}`},wt))})]})}),x.jsxs("section",{className:"flex items-center justify-center h-52 bg-[#f5e6ca]",children:[x.jsxs("h2",{className:"text-2xl text-center md:text-3xl font-serif font-light text-[#3a2f2f] tracking-wild uppercase",children:["Celebrando la buena vida,",x.jsx("br",{})," a travs de comida saludable, todo el ao."]}),x.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-1/3 h-[2px] bg-white/40 rounded-full"})]}),x.jsx("section",{id:"menu"}),x.jsxs("section",{className:"relative text-center",children:[x.jsxs("div",{className:"bg-[url('/images/fondo4.webp')] bg-cover bg-center bg-fixed h-screen flex flex-col items-center justify-center",children:[x.jsx("div",{className:"absolute inset-0 bg-black/40"}),x.jsxs("div",{className:"relative z-10 bg-white/10 p-10 rounded-2xl backdrop-blur-md shadow-lg max-w-2xl mx-auto",children:[x.jsx("h1",{className:"text-5xl md:text-6xl font-serif font-light text-white tracking-wild uppercase drop-shadow-md",children:"Quers ver nuestro catlogo?"}),x.jsx("p",{className:"mt-4 text-gray-100 text-lg md:text-xl leading-relaxed font-serif font-light",children:"En mi Restaurante te invitamos a disfrutar de una experiencia nica: caf artesanal, ccteles de autor y platos que despiertan tus sentidos."}),x.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[x.jsx("button",{onClick:()=>a(!0),className:"bg-emerald-800 text-white px-8 py-3 rounded-lg hover:bg-emerald-700 transition cursor-pointer",children:"Ver Men"}),x.jsx("button",{onClick:At,className:"bg-transparent border border-white text-white px-8 py-3 rounded-lg hover:bg-white/10 transition-all duration-300 cursor-pointer",children:"Reservar Mesa"})]})]})]}),s&&x.jsxs("div",{className:"fixed inset-0 z-[999]",children:[x.jsx("div",{className:`
    absolute inset-0 backdrop-blur-sm transition-opacity duration-300
    ${l?"opacity-0":"opacity-60 bg-black"}
  `,onClick:ft}),x.jsxs("div",{className:`
    absolute bottom-0 left-0 right-0 h-[90%]
    bg-[#f5e6ca] rounded-t-3xl shadow-2xl p-10 overflow-y-auto
    transition-all duration-300
    ${l?"opacity-0 translate-y-10":"opacity-100 translate-y-0"}
  `,children:[x.jsx("button",{onClick:ft,className:"cursor-pointer absolute top-5 right-5 text-2xl text-gray-700 hover:text-black",children:""}),x.jsx("h2",{className:"text-5xl text-center mb-12 font-serif ",children:"Nuestra Carta"}),x.jsxs("div",{className:"max-w-5xl mx-auto mb-16",children:[x.jsx("h3",{className:"text-3xl font-serif font-light mb-6 text-emerald-900",children:"Bebidas"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"p-6 bg-gray-50 rounded-xl shadow hover:shadow-lg transition",children:[x.jsx("h4",{className:"text-xl font-serif font-light",children:"Aperol Spritz"}),x.jsx("p",{className:"text-gray-600 mt-2 font-serif font-light",children:"Refrescante, ctrico, ideal para la tarde."}),x.jsx("p",{className:"mt-3 font-serif font-light text-emerald-800",children:"$4500"})]}),x.jsxs("div",{className:"p-6 bg-gray-50 rounded-xl shadow hover:shadow-lg transition",children:[x.jsx("h4",{className:"text-xl font-serif font-light",children:"Negroni"}),x.jsx("p",{className:"text-gray-600 mt-2 font-serif font-light",children:"Clsico, amargo y equilibrado."}),x.jsx("p",{className:"mt-3 font-serif font-light text-emerald-800",children:"$5000"})]}),x.jsxs("div",{className:"p-6 bg-gray-50 rounded-xl shadow hover:shadow-lg transition",children:[x.jsx("h4",{className:"text-xl font-serif font-light",children:"Cynar Julep"}),x.jsx("p",{className:"text-gray-600 mt-2 font-serif font-light",children:"Hierbas, menta fresca y mucho hielo."}),x.jsx("p",{className:"mt-3 font-serif font-light text-emerald-800",children:"$4800"})]}),x.jsxs("div",{className:"p-6 bg-gray-50 rounded-xl shadow hover:shadow-lg transition",children:[x.jsx("h4",{className:"text-xl font-serif font-light",children:"Gin Tonic"}),x.jsx("p",{className:"text-gray-600 mt-2 font-serif font-light",children:"Refrescante, aromtico y balanceado."}),x.jsx("p",{className:"mt-3 font-serif font-light text-emerald-800",children:"$4700"})]})]})]}),x.jsxs("div",{className:"max-w-5xl mx-auto mb-16",children:[x.jsx("h3",{className:"text-3xl font-serif font-light mb-6 text-emerald-900",children:"Entradas"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"p-6 bg-gray-50 rounded-xl shadow hover:shadow-lg transition",children:[x.jsx("h4",{className:"text-xl font-serif font-light",children:"Papas Rsticas"}),x.jsx("p",{className:"text-gray-600 mt-2 font-serif font-light",children:"Crocantes, especiadas y con alioli casero."}),x.jsx("p",{className:"mt-3 font-serif font-light text-emerald-800",children:"$3500"})]}),x.jsxs("div",{className:"p-6 bg-gray-50 rounded-xl shadow hover:shadow-lg transition",children:[x.jsx("h4",{className:"text-xl font-serif font-light",children:"Bruschettas"}),x.jsx("p",{className:"text-gray-600 mt-2 font-serif font-light",children:"Pan tostado, tomate fresco, oliva y albahaca."}),x.jsx("p",{className:"mt-3 font-serif font-light text-emerald-800",children:"$3800"})]})]})]}),x.jsxs("div",{className:"max-w-5xl mx-auto",children:[x.jsx("h3",{className:"text-3xl font-serif font-light mb-6 text-emerald-900",children:"Platos Principales"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"p-6 bg-gray-50 rounded-xl shadow hover:shadow-lg transition",children:[x.jsx("h4",{className:"text-xl font-serif font-light",children:"Hamburguesa Gourmet"}),x.jsx("p",{className:"text-gray-600 mt-2 font-serif font-light",children:"Doble cheddar, cebolla caramelizada y pan brioche."}),x.jsx("p",{className:"mt-3 font-serif font-light text-emerald-800",children:"$6800"})]}),x.jsxs("div",{className:"p-6 bg-gray-50 rounded-xl shadow hover:shadow-lg transition",children:[x.jsx("h4",{className:"text-xl font-serif font-light",children:"Fettuccine al Pesto"}),x.jsx("p",{className:"text-gray-600 mt-2 font-serif font-light",children:"Pesto casero, nueces y queso reggianito."}),x.jsx("p",{className:"mt-3 font-serif font-light text-emerald-800",children:"$6400"})]}),x.jsxs("div",{className:"p-6 bg-gray-50 rounded-xl shadow hover:shadow-lg transition",children:[x.jsx("h4",{className:"text-xl font-serif font-light",children:"Ensalada Mediterrnea"}),x.jsx("p",{className:"text-gray-600 mt-2 font-serif font-light",children:"Oliva, queso feta, pepino, tomate y limn."}),x.jsx("p",{className:"mt-3 font-serif font-light text-emerald-800",children:"$5200"})]}),x.jsxs("div",{className:"p-6 bg-gray-50 rounded-xl shadow hover:shadow-lg transition",children:[x.jsx("h4",{className:"text-xl font-serif font-light",children:"Tacos de Pollo"}),x.jsx("p",{className:"text-gray-600 mt-2 font-serif font-light",children:"Salsa criolla, cilantro, lima y especias."}),x.jsx("p",{className:"mt-3 font-serif font-light text-emerald-800",children:"$6000"})]})]})]})]})]}),!F&&x.jsx("div",{className:"bg-red-100 text-red-700 text-center py-3 px-4 rounded-lg mb-6 font-serif text-xl shadow",children:" No se pueden tomar reservas por el momento."}),d&&x.jsxs("div",{className:"fixed inset-0 z-[999]",children:[x.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:xt}),x.jsxs("div",{className:`
        absolute bottom-0 left-0 right-0 h-auto max-h-[100%]
        bg-[#f5e6ca] rounded-t-3xl shadow-2xl p-10 overflow-y-auto
        transition-all duration-300
        ${g?"opacity-0 translate-y-10":"opacity-100 translate-y-0"}
      `,children:[x.jsx("button",{onClick:xt,className:"cursor-pointer absolute top-5 right-5 text-2xl text-gray-700 hover:text-black",children:""}),x.jsx("h2",{className:"text-4xl text-center mb-8 font-serif",children:"Reservar Mesa"}),_&&x.jsx("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 bg-emerald-700 text-white px-6 py-3 rounded-xl shadow-lg z-[1000] animate-fade-in",children:" Reserva recibida. Gracias!"}),x.jsxs("form",{onSubmit:async ct=>{if(ct.preventDefault(),!Lt())return;if(w.time)k(Gt=>({...Gt,time:void 0}));else{k(Gt=>({...Gt,time:"Seleccion un horario."}));return}if(console.log("DATOS QUE SE ENVIAN A FIREBASE:",w),st){const Gt=Number(st.personasReservadas)+Number(w.people);if(st.cerrado||Gt>st.capacidadTotal){setMensajeDia(" Ya no hay reservas disponibles para este da.");return}}if(!ye(w.date)){alert(" Solo se aceptan reservas para la semana actual.");return}const wt=await N5(w);if(!wt.ok){wt.error==="SIN_CUPO"?alert(" Ya no hay disponibilidad para este da."):alert("Ocurri un error al tomar la reserva.");return}if(wt.ok&&$){const Gt=si(fn,"config","reservasEstado");if(st){const de=si(fn,"reservasPorDia",w.date),Ce=Number(st.personasReservadas)+Number(w.people);await ko(de,{personasReservadas:Ce,cerrado:Ce>=st.capacidadTotal})}await ko(Gt,{personasReservadas:Number($.personasReservadas)+Number(w.people)}),b(!0),V({name:"",phone:"",date:"",time:"",people:""}),setTimeout(()=>{b(!1),xt()},2500)}else alert("Ocurri un error al enviar la reserva. Intent de nuevo.")},className:"max-w-xl mx-auto space-y-8 font-serif text-emerald-900",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 text-left",children:"Nombre"}),x.jsx("input",{type:"text",value:w.name,onChange:ct=>V({...w,name:ct.target.value}),className:`w-full p-3 rounded-lg border 
      ${U.name?"border-red-500":"border-emerald-300"} 
      focus:outline-none focus:ring-2 
      ${U.name?"focus:ring-red-500":"focus:ring-emerald-600"}
    `,placeholder:"Tu nombre"}),U.name&&x.jsx("p",{className:"text-red-500 text-sm mt-1",children:U.name})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 text-left",children:"Telfono"}),x.jsx("input",{type:"text",value:w.phone,onChange:ct=>V({...w,phone:ct.target.value}),className:`w-full p-3 rounded-lg border 
      ${U.phone?"border-red-500":"border-emerald-300"} 
      focus:outline-none focus:ring-2 
      ${U.phone?"focus:ring-red-500":"focus:ring-emerald-600"}
    `,placeholder:"Ej: 3496 123456"}),U.phone&&x.jsx("p",{className:"text-red-500 text-sm mt-1",children:U.phone})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 text-left",children:"Fecha"}),x.jsx("input",{type:"date",value:w.date,onChange:async ct=>{const wt=ct.target.value;V({...w,date:wt}),wt&&await ot(wt)},className:`w-full p-3 rounded-lg border 
    ${U.date?"border-red-500":"border-emerald-300"} 
    focus:outline-none focus:ring-2 
    ${U.date?"focus:ring-red-500":"focus:ring-emerald-600"}
  `}),C&&x.jsx("p",{className:"mt-2 text-sm text-red-600 font-serif",children:C}),st&&!C&&x.jsx("p",{className:`mt-2 text-sm font-serif ${st.cerrado||I<=0?"text-red-600":"text-emerald-700"}`,children:st.cerrado||I<=0?" No hay disponibilidad para este da.":` Quedan ${I} lugares disponibles para este da.`}),U.date&&x.jsx("p",{className:"text-red-500 text-sm mt-1",children:U.date})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 text-left",children:"Horario"}),x.jsxs("select",{value:w.time,onChange:ct=>V({...w,time:ct.target.value}),className:`w-full p-3 rounded-lg border 
      ${U.time?"border-red-500":"border-emerald-300"} 
      focus:outline-none focus:ring-2 
      ${U.time?"focus:ring-red-500":"focus:ring-emerald-600"}
    `,children:[x.jsx("option",{value:"",children:"Seleccion un horario"}),x.jsx("option",{value:"19:00",children:"19:00"}),x.jsx("option",{value:"20:00",children:"20:00"}),x.jsx("option",{value:"21:00",children:"21:00"}),x.jsx("option",{value:"22:00",children:"22:00"})]}),U.time&&x.jsx("p",{className:"text-red-500 text-sm mt-1",children:U.time})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block mb-1 text-left",children:"Cantidad de Personas"}),x.jsx("input",{type:"number",min:"1",value:w.people,onChange:ct=>V({...w,people:ct.target.value===""?"":Number(ct.target.value)}),className:`w-full p-3 rounded-lg border 
      ${U.people?"border-red-500":"border-emerald-300"} 
      focus:outline-none focus:ring-2 
      ${U.people?"focus:ring-red-500":"focus:ring-emerald-600"}
    `,placeholder:"Ej: 4"}),U.people&&x.jsx("p",{className:"text-red-500 text-sm mt-1",children:U.people})]}),x.jsx("button",{type:"submit",disabled:!F,className:`w-full py-3 rounded-lg transition cursor-pointer 
  ${F?"bg-emerald-800 text-white hover:bg-emerald-700":"bg-gray-400 cursor-not-allowed"}
`,children:F?"Confirmar Reserva":"Reservas no disponibles"})]})]})]}),x.jsx("div",{className:" bottom-0 left-1/2 -translate-x-1/2 w-1/3 h-[1px] bg-black/50 rounded-full"})]}),x.jsx("section",{id:"aboutUs"}),x.jsxs("section",{id:"aboutUs",className:"max-w-9xl mx-auto px-6 py-20 flex flex-col md:flex-row items-center gap-12 bg-[#f5e6ca]",children:[x.jsx("div",{class:"w-full md:w-1/2",children:x.jsx("img",{src:"/images/SobreNosotros.webp",alt:"Restaurante elegante",className:`
      w-full 
      h-90             /* altura en mviles */
      sm:h-96          /* tablets un poco ms grande */
      md:h-[380px]     /* desktop ms chico y elegante */
      lg:h-[420px]     /* pantallas grandes */
      object-cover 
      rounded-2xl 
      shadow-lg
    `,loading:"lazy"})}),x.jsxs("div",{class:"w-full md:w-1/2 text-center md:text-left font-serif text-emerald-900",children:[x.jsx("h2",{className:"text-5xl md:text-6xl font-light tracking-wide mb-10",children:"Una experiencia gastronmica nica"}),x.jsxs("p",{className:"text-xl md:text-1xl leading-relaxed font-light opacity-90",children:["En ",x.jsx("span",{class:"font-medium",children:"Mi Restaurante"})," creemos que cada comida debe sentirse como un momento memorable. Nuestra cocina combina tcnicas modernas con sabores autnticos, utilizando ingredientes seleccionados con el mximo cuidado."]}),x.jsx("p",{className:"text-xl md:text-1xl leading-relaxed font-light mt-8 opacity-80",children:"Cuidamos cada detalle: la ambientacin, la msica, el servicio y la presentacin de cada plato. Queremos que cada visita sea una experiencia elegante, clida y distinta."})]})]}),x.jsx("div",{className:" bottom-0 left-1/2 h-[0.5px] bg-black/100 rounded-full"}),x.jsx("section",{id:"contact",className:"relative py-24 bg-[#f5e6ca]",children:x.jsxs("div",{className:"max-w-6xl mx-auto px-6 grid md:grid-cols-2 gap-16 items-center",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-5xl font-serif font-light text-[#3a2f2f] tracking-wild uppercase",children:"Contactanos"}),x.jsx("p",{className:"mt-6 text-lg text-[#3a2f2f] leading-relaxed font-serif",children:"Estamos aqu para ayudarte. Pods reservar una mesa, consultar nuestro men o enviarnos un mensaje. Te responderemos lo antes posible."}),x.jsxs("div",{className:"mt-10 space-y-4 text-[#3a2f2f] text-lg font-serif",children:[x.jsxs("p",{children:[x.jsx("strong",{children:" Direccin:"})," Av. Principal 123, Ciudad"]}),x.jsxs("p",{children:[x.jsx("strong",{children:" Telfono:"})," +54 11 5555-5555"]}),x.jsxs("p",{children:[x.jsx("strong",{children:" Instagram:"})," ",x.jsx("a",{href:"https://instagram.com/tu_usuario",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-[#2c2424] transition",children:"@tu_usuario"})]}),x.jsxs("p",{children:[x.jsx("strong",{children:" Horarios:"})," Todos los das  10:00 a 00:00"]})]})]}),x.jsx("div",{className:"relative bg-white/20 backdrop-blur-md border border-white/40 rounded-2xl p-0 overflow-hidden shadow-xl h-[420px]",children:x.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3348.637105414996!2d-60.718!3d-31.652!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95b5a9df1cc5f7%3A0x724!2sSanta%20Fe!5e0!3m2!1ses-419!2sar!4v000000000",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})}),x.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:`
    fixed bottom-3 right-6 z-50
    bg-white/20 backdrop-blur-md border border-black/40
    w-12 h-12 flex items-center justify-center
    rounded-xl shadow-lg
    hover:scale-110 hover:bg-white/30 transition-all duration-300
    cursor-pointer
  `,children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"45",viewBox:"0 0 24 24",fill:"none",stroke:"black",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("path",{d:"M18 15l-6-6-6 6"})})}),x.jsxs("footer",{className:"bg-gray-800 text-white py-6 text-center font-Playfair Display font-light tracking-wild uppercase",children:[" ",new Date().getFullYear()," Mi Restaurante  Todos los derechos reservados"]})]})}dI.createRoot(document.getElementById("root")).render(x.jsx(j.StrictMode,{children:x.jsx(x2,{children:x.jsx(M5,{})})}));
