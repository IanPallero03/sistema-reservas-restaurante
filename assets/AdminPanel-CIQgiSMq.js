(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function ME(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ld={exports:{}},yl={};var F_;function kS(){if(F_)return yl;F_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return yl.Fragment=t,yl.jsx=i,yl.jsxs=i,yl}var G_;function zS(){return G_||(G_=1,Ld.exports=kS()),Ld.exports}var yt=zS(),kd={exports:{}},vt={};var Q_;function BS(){if(Q_)return vt;Q_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function j(V){return V===null||typeof V!="object"?null:(V=C&&V[C]||V["@@iterator"],typeof V=="function"?V:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Z={};function ht(V,Y,nt){this.props=V,this.context=Y,this.refs=Z,this.updater=nt||$}ht.prototype.isReactComponent={},ht.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},ht.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Et(){}Et.prototype=ht.prototype;function gt(V,Y,nt){this.props=V,this.context=Y,this.refs=Z,this.updater=nt||$}var Qt=gt.prototype=new Et;Qt.constructor=gt,W(Qt,ht.prototype),Qt.isPureReactComponent=!0;var Wt=Array.isArray;function Pt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(V,Y,nt){var rt=nt.ref;return{$$typeof:r,type:V,key:Y,ref:rt!==void 0?rt:null,props:nt}}function M(V,Y){return I(V.type,Y,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function U(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return Y[nt]})}var w=/\/+/g;function ie(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):Y.toString(36)}function De(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Pt,Pt):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,Y,nt,rt,pt){var St=typeof V;(St==="undefined"||St==="boolean")&&(V=null);var Mt=!1;if(V===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(V.$$typeof){case r:case t:Mt=!0;break;case A:return Mt=V._init,F(Mt(V._payload),Y,nt,rt,pt)}}if(Mt)return pt=pt(V),Mt=rt===""?"."+ie(V,0):rt,Wt(pt)?(nt="",Mt!=null&&(nt=Mt.replace(w,"$&/")+"/"),F(pt,Y,nt,"",function(ss){return ss})):pt!=null&&(O(pt)&&(pt=M(pt,nt+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+Mt)),Y.push(pt)),1;Mt=0;var Ne=rt===""?".":rt+":";if(Wt(V))for(var re=0;re<V.length;re++)rt=V[re],St=Ne+ie(rt,re),Mt+=F(rt,Y,nt,St,pt);else if(re=j(V),typeof re=="function")for(V=re.call(V),re=0;!(rt=V.next()).done;)rt=rt.value,St=Ne+ie(rt,re++),Mt+=F(rt,Y,nt,St,pt);else if(St==="object"){if(typeof V.then=="function")return F(De(V),Y,nt,rt,pt);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function et(V,Y,nt){if(V==null)return V;var rt=[],pt=0;return F(V,rt,"","",function(St){return Y.call(nt,St,pt++)}),rt}function ut(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var Lt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},jt={map:et,forEach:function(V,Y,nt){et(V,function(){Y.apply(this,arguments)},nt)},count:function(V){var Y=0;return et(V,function(){Y++}),Y},toArray:function(V){return et(V,function(Y){return Y})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return vt.Activity=S,vt.Children=jt,vt.Component=ht,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=gt,vt.StrictMode=s,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},vt.cache=function(V){return function(){return V.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(V,Y,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=W({},V.props),pt=V.key;if(Y!=null)for(St in Y.key!==void 0&&(pt=""+Y.key),Y)!b.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(rt[St]=Y[St]);var St=arguments.length-2;if(St===1)rt.children=nt;else if(1<St){for(var Mt=Array(St),Ne=0;Ne<St;Ne++)Mt[Ne]=arguments[Ne+2];rt.children=Mt}return I(V.type,pt,rt)},vt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},vt.createElement=function(V,Y,nt){var rt,pt={},St=null;if(Y!=null)for(rt in Y.key!==void 0&&(St=""+Y.key),Y)b.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(pt[rt]=Y[rt]);var Mt=arguments.length-2;if(Mt===1)pt.children=nt;else if(1<Mt){for(var Ne=Array(Mt),re=0;re<Mt;re++)Ne[re]=arguments[re+2];pt.children=Ne}if(V&&V.defaultProps)for(rt in Mt=V.defaultProps,Mt)pt[rt]===void 0&&(pt[rt]=Mt[rt]);return I(V,St,pt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(V){return{$$typeof:g,render:V}},vt.isValidElement=O,vt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:ut}},vt.memo=function(V,Y){return{$$typeof:_,type:V,compare:Y===void 0?null:Y}},vt.startTransition=function(V){var Y=D.T,nt={};D.T=nt;try{var rt=V(),pt=D.S;pt!==null&&pt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Pt,Lt)}catch(St){Lt(St)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),D.T=Y}},vt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vt.use=function(V){return D.H.use(V)},vt.useActionState=function(V,Y,nt){return D.H.useActionState(V,Y,nt)},vt.useCallback=function(V,Y){return D.H.useCallback(V,Y)},vt.useContext=function(V){return D.H.useContext(V)},vt.useDebugValue=function(){},vt.useDeferredValue=function(V,Y){return D.H.useDeferredValue(V,Y)},vt.useEffect=function(V,Y){return D.H.useEffect(V,Y)},vt.useEffectEvent=function(V){return D.H.useEffectEvent(V)},vt.useId=function(){return D.H.useId()},vt.useImperativeHandle=function(V,Y,nt){return D.H.useImperativeHandle(V,Y,nt)},vt.useInsertionEffect=function(V,Y){return D.H.useInsertionEffect(V,Y)},vt.useLayoutEffect=function(V,Y){return D.H.useLayoutEffect(V,Y)},vt.useMemo=function(V,Y){return D.H.useMemo(V,Y)},vt.useOptimistic=function(V,Y){return D.H.useOptimistic(V,Y)},vt.useReducer=function(V,Y,nt){return D.H.useReducer(V,Y,nt)},vt.useRef=function(V){return D.H.useRef(V)},vt.useState=function(V){return D.H.useState(V)},vt.useSyncExternalStore=function(V,Y,nt){return D.H.useSyncExternalStore(V,Y,nt)},vt.useTransition=function(){return D.H.useTransition()},vt.version="19.2.0",vt}var K_;function Rm(){return K_||(K_=1,kd.exports=BS()),kd.exports}var ka=Rm();const sD=ME(ka);var zd={exports:{}},_l={},Bd={exports:{}},qd={};var Y_;function qS(){return Y_||(Y_=1,(function(r){function t(F,et){var ut=F.length;F.push(et);t:for(;0<ut;){var Lt=ut-1>>>1,jt=F[Lt];if(0<l(jt,et))F[Lt]=et,F[ut]=jt,ut=Lt;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var et=F[0],ut=F.pop();if(ut!==et){F[0]=ut;t:for(var Lt=0,jt=F.length,V=jt>>>1;Lt<V;){var Y=2*(Lt+1)-1,nt=F[Y],rt=Y+1,pt=F[rt];if(0>l(nt,ut))rt<jt&&0>l(pt,nt)?(F[Lt]=pt,F[rt]=ut,Lt=rt):(F[Lt]=nt,F[Y]=ut,Lt=Y);else if(rt<jt&&0>l(pt,ut))F[Lt]=pt,F[rt]=ut,Lt=rt;else break t}}return et}function l(F,et){var ut=F.sortIndex-et.sortIndex;return ut!==0?ut:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,S=null,C=3,j=!1,$=!1,W=!1,Z=!1,ht=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Qt(F){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=F)s(_),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(_)}}function Wt(F){if(W=!1,Qt(F),!$)if(i(y)!==null)$=!0,Pt||(Pt=!0,U());else{var et=i(_);et!==null&&De(Wt,et.startTime-F)}}var Pt=!1,D=-1,b=5,I=-1;function M(){return Z?!0:!(r.unstable_now()-I<b)}function O(){if(Z=!1,Pt){var F=r.unstable_now();I=F;var et=!0;try{t:{$=!1,W&&(W=!1,Et(D),D=-1),j=!0;var ut=C;try{e:{for(Qt(F),S=i(y);S!==null&&!(S.expirationTime>F&&M());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,C=S.priorityLevel;var jt=Lt(S.expirationTime<=F);if(F=r.unstable_now(),typeof jt=="function"){S.callback=jt,Qt(F),et=!0;break e}S===i(y)&&s(y),Qt(F)}else s(y);S=i(y)}if(S!==null)et=!0;else{var V=i(_);V!==null&&De(Wt,V.startTime-F),et=!1}}break t}finally{S=null,C=ut,j=!1}et=void 0}}finally{et?U():Pt=!1}}}var U;if(typeof gt=="function")U=function(){gt(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=O,U=function(){ie.postMessage(null)}}else U=function(){ht(O,0)};function De(F,et){D=ht(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(F){switch(C){case 1:case 2:case 3:var et=3;break;default:et=C}var ut=C;C=et;try{return F()}finally{C=ut}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ut=C;C=F;try{return et()}finally{C=ut}},r.unstable_scheduleCallback=function(F,et,ut){var Lt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Lt+ut:Lt):ut=Lt,F){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ut+jt,F={id:A++,callback:et,priorityLevel:F,startTime:ut,expirationTime:jt,sortIndex:-1},ut>Lt?(F.sortIndex=ut,t(_,F),i(y)===null&&F===i(_)&&(W?(Et(D),D=-1):W=!0,De(Wt,ut-Lt))):(F.sortIndex=jt,t(y,F),$||j||($=!0,Pt||(Pt=!0,U()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var et=C;return function(){var ut=C;C=et;try{return F.apply(this,arguments)}finally{C=ut}}}})(qd)),qd}var X_;function jS(){return X_||(X_=1,Bd.exports=qS()),Bd.exports}var jd={exports:{}},Ye={};var $_;function HS(){if($_)return Ye;$_=1;var r=Rm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Ye.flushSync=function(y){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=A,s.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:j}):A==="script"&&s.d.X(y,{crossOrigin:S,integrity:C,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin);s.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Ye.requestFormReset=function(y){s.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var Z_;function FS(){if(Z_)return jd.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),jd.exports=HS(),jd.exports}var J_;function GS(){if(J_)return _l;J_=1;var r=jS(),t=Rm(),i=FS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=f;break}if(E===o){p=!0,o=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,o=h;break}if(E===o){p=!0,o=f,a=h;break}E=E.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ht:return"Profiler";case Z:return"StrictMode";case Wt:return"Suspense";case Pt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case gt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var De=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Lt=[],jt=-1;function V(e){return{current:e}}function Y(e){0>jt||(e.current=Lt[jt],Lt[jt]=null,jt--)}function nt(e,n){jt++,Lt[jt]=e.current,e.current=n}var rt=V(null),pt=V(null),St=V(null),Mt=V(null);function Ne(e,n){switch(nt(St,n),nt(pt,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?d_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=d_(n),e=m_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),nt(rt,e)}function re(){Y(rt),Y(pt),Y(St)}function ss(e){e.memoizedState!==null&&nt(Mt,e);var n=rt.current,a=m_(n,e.type);n!==a&&(nt(pt,e),nt(rt,a))}function Ys(e){pt.current===e&&(Y(rt),Y(pt)),Mt.current===e&&(Y(Mt),dl._currentValue=ut)}var Xs,$s;function ti(e){if(Xs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Xs=n&&n[1]||"",$s=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xs+e+$s}var fo=!1;function as(e,n){if(!e||fo)return"";fo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){z=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),k=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===k.length)for(o=R.length-1,h=k.length-1;1<=o&&0<=h&&R[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==k[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{fo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ti(a):""}function mo(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return as(e.type,!1);case 11:return as(e.type.render,!1);case 1:return as(e.type,!0);case 31:return ti("Activity");default:return""}}function go(e){try{var n="",a=null;do n+=mo(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,ir=r.unstable_cancelCallback,kh=r.unstable_shouldYield,iu=r.unstable_requestPaint,We=r.unstable_now,os=r.unstable_getCurrentPriorityLevel,po=r.unstable_ImmediatePriority,yo=r.unstable_UserBlockingPriority,rr=r.unstable_NormalPriority,zh=r.unstable_LowPriority,ru=r.unstable_IdlePriority,su=r.log,au=r.unstable_setDisableYieldValue,kn=null,ze=null;function wn(e){if(typeof su=="function"&&au(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(kn,e)}catch{}}var he=Math.clz32?Math.clz32:lu,ou=Math.log,Zs=Math.LN2;function lu(e){return e>>>=0,e===0?32:31-(ou(e)/Zs|0)|0}var ei=256,ls=262144,_e=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ni(o):(p&=E,p!==0?h=ni(p):a||(a=E&~e,a!==0&&(h=ni(a))))):(E=o&~f,E!==0?h=ni(E):p!==0?h=ni(p):a||(a=o&~e,a!==0&&(h=ni(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Bh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ri(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function us(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qh(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,k=e.hiddenUpdates;for(a=p&~a;0<a;){var H=31-he(a),K=1<<H;E[H]=0,R[H]=-1;var z=k[H];if(z!==null)for(k[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}a&=~K}o!==0&&cs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function cs(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function _o(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-he(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function vo(e,n){var a=n&-n;return a=(a&42)!==0?1:hs(a),(a&(e.suspendedLanes|n))!==0?0:a}function hs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:L_(e.type))}function Bn(e,n){var a=et.p;try{return et.p=e,n()}finally{et.p=a}}var qn=Math.random().toString(36).slice(2),ve="__reactFiber$"+qn,xe="__reactProps$"+qn,si="__reactContainer$"+qn,Js="__reactEvents$"+qn,jh="__reactListeners$"+qn,hu="__reactHandles$"+qn,fu="__reactResources$"+qn,ai="__reactMarker$"+qn;function Ws(e){delete e[ve],delete e[xe],delete e[Js],delete e[jh],delete e[hu]}function oi(e){var n=e[ve];if(n)return n;for(var a=e.parentNode;a;){if(n=a[si]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=T_(e);e!==null;){if(a=e[ve])return a;e=T_(e)}return n}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[ve]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function li(e){var n=e[fu];return n||(n=e[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ai]=!0}var Eo=new Set,To={};function ui(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(To[e]=n,e=0;e<n.length;e++)Eo.add(n[e])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},bo={};function du(e){return ye.call(bo,e)?!0:ye.call(So,e)?!1:Ao.test(e)?bo[e]=!0:(So[e]=!0,!1)}function ta(e,n,a){if(du(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function mn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Te(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ht(e){if(!e._valueTracker){var n=sr(e)?"checked":"value";e._valueTracker=wo(e,n,""+e[n])}}function fs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=sr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ds=/[\n"\\]/g;function rn(e){return e.replace(ds,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,a,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Ro(e,p,Ue(n)):a!=null?Ro(e,p,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function mu(e,n,a,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ht(e);return}a=a!=null?""+Ue(a):"",n=n!=null?""+Ue(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ht(e)}function Ro(e,n,a){n==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ar(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function gu(e,n,a){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ue(a):""}function or(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(De(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ue(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Ht(e)}function sn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||pu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Co(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Io(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Io(e,f,n[f])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return lr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var Do=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ur=null,fi=null;function ms(e){var n=Rn(e);if(n&&(e=n.stateNode)){var a=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ea(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(s(90));ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&fs(o)}break t;case"textarea":gu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ar(e,!!a.multiple,n,!1)}}}var ra=!1;function cr(e,n,a){if(ra)return e(n,a);ra=!0;try{var o=e(n);return o}finally{if(ra=!1,(ur!==null||fi!==null)&&(cc(),ur&&(n=ur,e=fi,fi=ur=null,ms(n),e)))for(n=0;n<e.length;n++)ms(e[n])}}function Hn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[xe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(Cn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){gs=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{gs=!1}var di=null,No=null,ps=null;function Oo(){if(ps)return ps;var e,n=No,a=n.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return ps=h.slice(e,1<o?1-o:void 0)}function ys(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Fn(){return!1}function Be(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Fn,this.isPropagationStopped=Fn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Be(Vi),hr=S({},Vi,{view:0,detail:0}),Vo=Be(hr),fr,sa,gi,aa=S({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(fr=e.screenX-gi.screenX,sa=e.screenY-gi.screenY):sa=fr=0,gi=e),fr)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Mo=Be(aa),_s=S({},aa,{dataTransfer:0}),_u=Be(_s),vu=S({},hr,{relatedTarget:0}),vs=Be(vu),xo=S({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Be(xo),oa=S({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tu=Be(oa),Au=S({},Vi,{data:0}),pi=Be(Au),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=wu[e])?!!n[e]:!1}function dr(){return Ru}var tn=S({},hr,{key:function(e){if(e.key){var n=Su[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(e){return e.type==="keypress"?ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iu=Be(tn),Cu=S({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=Be(Cu),u=S({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),m=Be(u),v=S({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(v),P=S({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(P),J=S({},Vi,{newState:0,oldState:0}),Tt=Be(J),fe=[9,13,27,32],Bt=Cn&&"CompositionEvent"in window,se=null;Cn&&"documentMode"in document&&(se=document.documentMode);var Dn=Cn&&"TextEvent"in window&&!se,yi=Cn&&(!Bt||se&&8<se&&11>=se),Gn=" ",Qn=!1;function Es(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function lA(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Qn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Qn?null:e;default:return null}}function uA(e,n){if(ua)return e==="compositionend"||!Bt&&Es(e,n)?(e=Oo(),ps=No=di=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var cA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!cA[e.type]:n==="textarea"}function wg(e,n,a,o){ur?fi?fi.push(o):fi=[o]:ur=o,n=yc(n,"onChange"),0<n.length&&(a=new mi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Uo=null,Po=null;function hA(e){o_(e,0)}function Du(e){var n=dn(e);if(fs(n))return e}function Rg(e,n){if(e==="change")return n}var Ig=!1;if(Cn){var Hh;if(Cn){var Fh="oninput"in document;if(!Fh){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Fh=typeof Cg.oninput=="function"}Hh=Fh}else Hh=!1;Ig=Hh&&(!document.documentMode||9<document.documentMode)}function Dg(){Uo&&(Uo.detachEvent("onpropertychange",Ng),Po=Uo=null)}function Ng(e){if(e.propertyName==="value"&&Du(Po)){var n=[];wg(n,Po,e,In(e)),cr(hA,n)}}function fA(e,n,a){e==="focusin"?(Dg(),Uo=n,Po=a,Uo.attachEvent("onpropertychange",Ng)):e==="focusout"&&Dg()}function dA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(Po)}function mA(e,n){if(e==="click")return Du(n)}function gA(e,n){if(e==="input"||e==="change")return Du(n)}function pA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:pA;function Lo(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function Og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vg(e,n){var a=Og(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Og(a)}}function Mg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Mg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function xg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=hi(e.document)}return n}function Gh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var yA=Cn&&"documentMode"in document&&11>=document.documentMode,ca=null,Qh=null,ko=null,Kh=!1;function Ug(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||ca==null||ca!==hi(o)||(o=ca,"selectionStart"in o&&Gh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ko&&Lo(ko,o)||(ko=o,o=yc(Qh,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ca)))}function Ts(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ha={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},Yh={},Pg={};Cn&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function As(e){if(Yh[e])return Yh[e];if(!ha[e])return e;var n=ha[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Pg)return Yh[e]=n[a];return e}var Lg=As("animationend"),kg=As("animationiteration"),zg=As("animationstart"),_A=As("transitionrun"),vA=As("transitionstart"),EA=As("transitioncancel"),Bg=As("transitionend"),qg=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function Kn(e,n){qg.set(e,n),ui(n,[e])}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],fa=0,$h=0;function Ou(){for(var e=fa,n=$h=fa=0;n<e;){var a=Nn[n];Nn[n++]=null;var o=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&jg(a,h,f)}}function Vu(e,n,a,o){Nn[fa++]=e,Nn[fa++]=n,Nn[fa++]=a,Nn[fa++]=o,$h|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Zh(e,n,a,o){return Vu(e,n,a,o),Mu(e)}function Ss(e,n){return Vu(e,null,null,n),Mu(e)}function jg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Mu(e){if(50<al)throw al=0,od=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function TA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,a,o){return new TA(e,n,a,o)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var a=e.alternate;return a===null?(a=pn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Hg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xu(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")Jh(e)&&(p=1);else if(typeof e=="string")p=RS(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=pn(31,a,n,h),e.elementType=I,e.lanes=f,e;case W:return bs(a.children,h,f,n);case Z:p=8,h|=24;break;case ht:return e=pn(12,a,n,h|2),e.elementType=ht,e.lanes=f,e;case Wt:return e=pn(13,a,n,h),e.elementType=Wt,e.lanes=f,e;case Pt:return e=pn(19,a,n,h),e.elementType=Pt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:p=10;break t;case Et:p=9;break t;case Qt:p=11;break t;case D:p=14;break t;case b:p=16,o=null;break t}p=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=pn(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function bs(e,n,a,o){return e=pn(7,e,o,n),e.lanes=a,e}function Wh(e,n,a){return e=pn(6,e,null,n),e.lanes=a,e}function Fg(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function tf(e,n,a){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Gg=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var a=Gg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:go(n)},Gg.set(e,n),n)}return{value:e,source:n,stack:go(n)}}var ma=[],ga=0,Uu=null,zo=0,Vn=[],Mn=0,mr=null,_i=1,vi="";function Ui(e,n){ma[ga++]=zo,ma[ga++]=Uu,Uu=e,zo=n}function Qg(e,n,a){Vn[Mn++]=_i,Vn[Mn++]=vi,Vn[Mn++]=mr,mr=e;var o=_i;e=vi;var h=32-he(o)-1;o&=~(1<<h),a+=1;var f=32-he(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,_i=1<<32-he(n)+h|a<<h|o,vi=f+e}else _i=1<<f|a<<h|o,vi=e}function ef(e){e.return!==null&&(Ui(e,1),Qg(e,1,0))}function nf(e){for(;e===Uu;)Uu=ma[--ga],ma[ga]=null,zo=ma[--ga],ma[ga]=null;for(;e===mr;)mr=Vn[--Mn],Vn[Mn]=null,vi=Vn[--Mn],Vn[Mn]=null,_i=Vn[--Mn],Vn[Mn]=null}function Kg(e,n){Vn[Mn++]=_i,Vn[Mn++]=vi,Vn[Mn++]=mr,_i=n.id,vi=n.overflow,mr=e}var qe=null,te=null,Vt=!1,gr=null,xn=!1,rf=Error(s(519));function pr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(On(n,e)),rf}function Yg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ve]=e,n[xe]=o,a){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<ll.length;a++)Rt(ll[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),mu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),or(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||h_(n.textContent,a)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||pr(e,!0)}function Xg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:qe=qe.return}}function pa(e){if(e!==qe)return!1;if(!Vt)return Xg(e),Vt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ad(e.type,e.memoizedProps)),a=!a),a&&te&&pr(e),Xg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=E_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=E_(e)}else n===27?(n=te,Nr(e.type)?(e=Id,Id=null,te=e):te=n):te=qe?Pn(e.stateNode.nextSibling):null;return!0}function ws(){te=qe=null,Vt=!1}function sf(){var e=gr;return e!==null&&(un===null?un=e:un.push.apply(un,e),gr=null),e}function Bo(e){gr===null?gr=[e]:gr.push(e)}var af=V(null),Rs=null,Pi=null;function yr(e,n,a){nt(af,n._currentValue),n._currentValue=a}function Li(e){e._currentValue=af.current,Y(af)}function of(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function lf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),of(f.return,a,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),of(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ya(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=h.type;gn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(dl):e=[dl])}h=h.return}e!==null&&lf(n,e,a,o),n.flags|=262144}function Pu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Is(e){Rs=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return $g(Rs,e)}function Lu(e,n){return Rs===null&&Is(e),$g(e,n)}function $g(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Pi===null){if(e===null)throw Error(s(308));Pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pi=Pi.next=n;return a}var AA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},SA=r.unstable_scheduleCallback,bA=r.unstable_NormalPriority,Ae={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new AA,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&SA(bA,function(){e.controller.abort()})}var jo=null,cf=0,_a=0,va=null;function wA(e,n){if(jo===null){var a=jo=[];cf=0,_a=dd(),va={status:"pending",value:void 0,then:function(o){a.push(o)}}}return cf++,n.then(Zg,Zg),n}function Zg(){if(--cf===0&&jo!==null){va!==null&&(va.status="fulfilled");var e=jo;jo=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function RA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Jg=F.S;F.S=function(e,n){Uy=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&wA(e,n),Jg!==null&&Jg(e,n)};var Cs=V(null);function hf(){var e=Cs.current;return e!==null?e:Jt.pooledCache}function ku(e,n){n===null?nt(Cs,Cs.current):nt(Cs,n.pool)}function Wg(){var e=hf();return e===null?null:{parent:Ae._currentValue,pool:e}}var Ea=Error(s(460)),ff=Error(s(474)),zu=Error(s(542)),Bu={then:function(){}};function tp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ep(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(jn,jn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ip(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ip(e),e}throw Ns=n,Ea}}function Ds(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ns=a,Ea):a}}var Ns=null;function np(){if(Ns===null)throw Error(s(459));var e=Ns;return Ns=null,e}function ip(e){if(e===Ea||e===zu)throw Error(s(483))}var Ta=null,Ho=0;function qu(e){var n=Ho;return Ho+=1,Ta===null&&(Ta=[]),ep(Ta,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ju(e,n){throw n.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function rp(e){function n(x,N){if(e){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function o(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=xi(x,N),x.index=0,x.sibling=null,x}function f(x,N,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=67108866,N):L):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function p(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,L,Q){return N===null||N.tag!==6?(N=Wh(L,x.mode,Q),N.return=x,N):(N=h(N,L),N.return=x,N)}function R(x,N,L,Q){var lt=L.type;return lt===W?H(x,N,L.props.children,Q,L.key):N!==null&&(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Ds(lt)===N.type)?(N=h(N,L.props),Fo(N,L),N.return=x,N):(N=xu(L.type,L.key,L.props,null,x.mode,Q),Fo(N,L),N.return=x,N)}function k(x,N,L,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=tf(L,x.mode,Q),N.return=x,N):(N=h(N,L.children||[]),N.return=x,N)}function H(x,N,L,Q,lt){return N===null||N.tag!==7?(N=bs(L,x.mode,Q,lt),N.return=x,N):(N=h(N,L),N.return=x,N)}function K(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Wh(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case j:return L=xu(N.type,N.key,N.props,null,x.mode,L),Fo(L,N),L.return=x,L;case $:return N=tf(N,x.mode,L),N.return=x,N;case b:return N=Ds(N),K(x,N,L)}if(De(N)||U(N))return N=bs(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return K(x,qu(N),L);if(N.$$typeof===gt)return K(x,Lu(x,N),L);ju(x,N)}return null}function z(x,N,L,Q){var lt=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(x,N,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case j:return L.key===lt?R(x,N,L,Q):null;case $:return L.key===lt?k(x,N,L,Q):null;case b:return L=Ds(L),z(x,N,L,Q)}if(De(L)||U(L))return lt!==null?null:H(x,N,L,Q,null);if(typeof L.then=="function")return z(x,N,qu(L),Q);if(L.$$typeof===gt)return z(x,N,Lu(x,L),Q);ju(x,L)}return null}function q(x,N,L,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,E(N,x,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:return x=x.get(Q.key===null?L:Q.key)||null,R(N,x,Q,lt);case $:return x=x.get(Q.key===null?L:Q.key)||null,k(N,x,Q,lt);case b:return Q=Ds(Q),q(x,N,L,Q,lt)}if(De(Q)||U(Q))return x=x.get(L)||null,H(N,x,Q,lt,null);if(typeof Q.then=="function")return q(x,N,L,qu(Q),lt);if(Q.$$typeof===gt)return q(x,N,L,Lu(N,Q),lt);ju(N,Q)}return null}function st(x,N,L,Q){for(var lt=null,kt=null,at=N,bt=N=0,Ct=null;at!==null&&bt<L.length;bt++){at.index>bt?(Ct=at,at=null):Ct=at.sibling;var zt=z(x,at,L[bt],Q);if(zt===null){at===null&&(at=Ct);break}e&&at&&zt.alternate===null&&n(x,at),N=f(zt,N,bt),kt===null?lt=zt:kt.sibling=zt,kt=zt,at=Ct}if(bt===L.length)return a(x,at),Vt&&Ui(x,bt),lt;if(at===null){for(;bt<L.length;bt++)at=K(x,L[bt],Q),at!==null&&(N=f(at,N,bt),kt===null?lt=at:kt.sibling=at,kt=at);return Vt&&Ui(x,bt),lt}for(at=o(at);bt<L.length;bt++)Ct=q(at,x,bt,L[bt],Q),Ct!==null&&(e&&Ct.alternate!==null&&at.delete(Ct.key===null?bt:Ct.key),N=f(Ct,N,bt),kt===null?lt=Ct:kt.sibling=Ct,kt=Ct);return e&&at.forEach(function(Ur){return n(x,Ur)}),Vt&&Ui(x,bt),lt}function ft(x,N,L,Q){if(L==null)throw Error(s(151));for(var lt=null,kt=null,at=N,bt=N=0,Ct=null,zt=L.next();at!==null&&!zt.done;bt++,zt=L.next()){at.index>bt?(Ct=at,at=null):Ct=at.sibling;var Ur=z(x,at,zt.value,Q);if(Ur===null){at===null&&(at=Ct);break}e&&at&&Ur.alternate===null&&n(x,at),N=f(Ur,N,bt),kt===null?lt=Ur:kt.sibling=Ur,kt=Ur,at=Ct}if(zt.done)return a(x,at),Vt&&Ui(x,bt),lt;if(at===null){for(;!zt.done;bt++,zt=L.next())zt=K(x,zt.value,Q),zt!==null&&(N=f(zt,N,bt),kt===null?lt=zt:kt.sibling=zt,kt=zt);return Vt&&Ui(x,bt),lt}for(at=o(at);!zt.done;bt++,zt=L.next())zt=q(at,x,bt,zt.value,Q),zt!==null&&(e&&zt.alternate!==null&&at.delete(zt.key===null?bt:zt.key),N=f(zt,N,bt),kt===null?lt=zt:kt.sibling=zt,kt=zt);return e&&at.forEach(function(LS){return n(x,LS)}),Vt&&Ui(x,bt),lt}function $t(x,N,L,Q){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case j:t:{for(var lt=L.key;N!==null;){if(N.key===lt){if(lt=L.type,lt===W){if(N.tag===7){a(x,N.sibling),Q=h(N,L.props.children),Q.return=x,x=Q;break t}}else if(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Ds(lt)===N.type){a(x,N.sibling),Q=h(N,L.props),Fo(Q,L),Q.return=x,x=Q;break t}a(x,N);break}else n(x,N);N=N.sibling}L.type===W?(Q=bs(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=xu(L.type,L.key,L.props,null,x.mode,Q),Fo(Q,L),Q.return=x,x=Q)}return p(x);case $:t:{for(lt=L.key;N!==null;){if(N.key===lt)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(x,N.sibling),Q=h(N,L.children||[]),Q.return=x,x=Q;break t}else{a(x,N);break}else n(x,N);N=N.sibling}Q=tf(L,x.mode,Q),Q.return=x,x=Q}return p(x);case b:return L=Ds(L),$t(x,N,L,Q)}if(De(L))return st(x,N,L,Q);if(U(L)){if(lt=U(L),typeof lt!="function")throw Error(s(150));return L=lt.call(L),ft(x,N,L,Q)}if(typeof L.then=="function")return $t(x,N,qu(L),Q);if(L.$$typeof===gt)return $t(x,N,Lu(x,L),Q);ju(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(x,N.sibling),Q=h(N,L),Q.return=x,x=Q):(a(x,N),Q=Wh(L,x.mode,Q),Q.return=x,x=Q),p(x)):a(x,N)}return function(x,N,L,Q){try{Ho=0;var lt=$t(x,N,L,Q);return Ta=null,lt}catch(at){if(at===Ea||at===zu)throw at;var kt=pn(29,at,null,x.mode);return kt.lanes=Q,kt.return=x,kt}finally{}}}var Os=rp(!0),sp=rp(!1),_r=!1;function df(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Mu(e),jg(e,null,a),n}return Vu(e,o,n,a),Mu(e)}function Go(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,_o(e,a)}}function gf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var pf=!1;function Qo(){if(pf){var e=va;if(e!==null)throw e}}function Ko(e,n,a,o){pf=!1;var h=e.updateQueue;_r=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,k=R.next;R.next=null,p===null?f=k:p.next=k,p=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==p&&(E===null?H.firstBaseUpdate=k:E.next=k,H.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;p=0,H=k=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(It&z)===z:(o&z)===z){z!==0&&z===_a&&(pf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ft=E;z=n;var $t=a;switch(ft.tag){case 1:if(st=ft.payload,typeof st=="function"){K=st.call($t,K,z);break t}K=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ft.payload,z=typeof st=="function"?st.call($t,K,z):st,z==null)break t;K=S({},K,z);break t;case 2:_r=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(k=H=q,R=K):H=H.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(R=K),h.baseState=R,h.firstBaseUpdate=k,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),wr|=p,e.lanes=p,e.memoizedState=K}}function ap(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function op(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ap(a[e],n)}var Aa=V(null),Hu=V(0);function lp(e,n){e=Qi,nt(Hu,e),nt(Aa,n),Qi=e|n.baseLanes}function yf(){nt(Hu,Qi),nt(Aa,Aa.current)}function _f(){Qi=Hu.current,Y(Aa),Y(Hu)}var yn=V(null),Un=null;function Tr(e){var n=e.alternate;nt(de,de.current&1),nt(yn,e),Un===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Un=e)}function vf(e){nt(de,de.current),nt(yn,e),Un===null&&(Un=e)}function up(e){e.tag===22?(nt(de,de.current),nt(yn,e),Un===null&&(Un=e)):Ar()}function Ar(){nt(de,de.current),nt(yn,yn.current)}function _n(e){Y(yn),Un===e&&(Un=null),Y(de)}var de=V(0);function Fu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wd(a)||Rd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ki=0,At=null,Yt=null,Se=null,Gu=!1,Sa=!1,Vs=!1,Qu=0,Yo=0,ba=null,IA=0;function ue(){throw Error(s(321))}function Ef(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!gn(e[a],n[a]))return!1;return!0}function Tf(e,n,a,o,h,f){return ki=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Qp:Pf,Vs=!1,f=a(o,h),Vs=!1,Sa&&(f=hp(n,a,o,h)),cp(e),f}function cp(e){F.H=Zo;var n=Yt!==null&&Yt.next!==null;if(ki=0,Se=Yt=At=null,Gu=!1,Yo=0,ba=null,n)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&Pu(e)&&(be=!0))}function hp(e,n,a,o){At=e;var h=0;do{if(Sa&&(ba=null),Yo=0,Sa=!1,25<=h)throw Error(s(301));if(h+=1,Se=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Kp,f=n(a,o)}while(Sa);return f}function CA(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Xo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(At.flags|=1024),n}function Af(){var e=Qu!==0;return Qu=0,e}function Sf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function bf(e){if(Gu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Gu=!1}ki=0,Se=Yt=At=null,Sa=!1,Yo=Qu=0,ba=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function me(){if(Yt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Se===null?At.memoizedState:Se.next;if(n!==null)Se=n,Yt=e;else{if(e===null)throw At.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(e){var n=Yo;return Yo+=1,ba===null&&(ba=[]),e=ep(ba,e,n),n=At,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Qp:Pf),e}function Yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xo(e);if(e.$$typeof===gt)return je(e)}throw Error(s(438,String(e)))}function wf(e){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ku(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function zi(e,n){return typeof n=="function"?n(e):n}function Xu(e){var n=me();return Rf(n,Yt,e)}function Rf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,k=n,H=!1;do{var K=k.lane&-536870913;if(K!==k.lane?(It&K)===K:(ki&K)===K){var z=k.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),K===_a&&(H=!0);else if((ki&z)===z){k=k.next,z===_a&&(H=!0);continue}else K={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=K,p=f):R=R.next=K,At.lanes|=z,wr|=z;K=k.action,Vs&&a(f,K),f=k.hasEagerState?k.eagerState:a(f,K)}else z={lane:K,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,At.lanes|=K,wr|=K;k=k.next}while(k!==null&&k!==n);if(R===null?p=f:R.next=E,!gn(f,e.memoizedState)&&(be=!0,H&&(a=va,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function If(e){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);gn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function fp(e,n,a){var o=At,h=me(),f=Vt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var p=!gn((Yt||h).memoizedState,a);if(p&&(h.memoizedState=a,be=!0),h=h.queue,Nf(gp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},mp.bind(null,o,h,a,n),null),Jt===null)throw Error(s(349));f||(ki&127)!==0||dp(o,n,a)}return a}function dp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=Ku(),At.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function mp(e,n,a,o){n.value=a,n.getSnapshot=o,pp(n)&&yp(e)}function gp(e,n,a){return a(function(){pp(n)&&yp(e)})}function pp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!gn(e,a)}catch{return!0}}function yp(e){var n=Ss(e,2);n!==null&&cn(n,e,2)}function Cf(e){var n=en();if(typeof e=="function"){var a=e;if(e=a(),Vs){wn(!0);try{a()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function _p(e,n,a,o){return e.baseState=a,Rf(e,Yt,typeof o=="function"?o:zi)}function DA(e,n,a,o,h){if(Ju(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,vp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function vp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var E=a(h,o),R=F.S;R!==null&&R(p,E),Ep(e,n,E)}catch(k){Df(e,n,k)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=a(h,o),Ep(e,n,f)}catch(k){Df(e,n,k)}}function Ep(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Tp(e,n,o)},function(o){return Df(e,n,o)}):Tp(e,n,a)}function Tp(e,n,a){n.status="fulfilled",n.value=a,Ap(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,vp(e,a)))}function Df(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Ap(n),n=n.next;while(n!==o)}e.action=null}function Ap(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Sp(e,n){return n}function bp(e,n){if(Vt){var a=Jt.formState;if(a!==null){t:{var o=At;if(Vt){if(te){e:{for(var h=te,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Pn(h.nextSibling),o=h.data==="F!";break t}}pr(o)}o=!1}o&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:n},a.queue=o,a=Hp.bind(null,At,o),o.dispatch=a,o=Cf(!1),f=Uf.bind(null,At,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=DA.bind(null,At,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function wp(e){var n=me();return Rp(n,Yt,e)}function Rp(e,n,a){if(n=Rf(e,n,Sp)[0],e=Xu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Xo(n)}catch(p){throw p===Ea?zu:p}else o=n;n=me();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(At.flags|=2048,wa(9,{destroy:void 0},NA.bind(null,h,a),null)),[o,f,e]}function NA(e,n){e.action=n}function Ip(e){var n=me(),a=Yt;if(a!==null)return Rp(n,a,e);me(),n=n.memoizedState,a=me();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function wa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Ku(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Cp(){return me().memoizedState}function $u(e,n,a,o){var h=en();At.flags|=e,h.memoizedState=wa(1|n,{destroy:void 0},a,o===void 0?null:o)}function Zu(e,n,a,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&Ef(o,Yt.memoizedState.deps)?h.memoizedState=wa(n,f,a,o):(At.flags|=e,h.memoizedState=wa(1|n,f,a,o))}function Dp(e,n){$u(8390656,8,e,n)}function Nf(e,n){Zu(2048,8,e,n)}function OA(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Ku(),At.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Np(e){var n=me().memoizedState;return OA({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Op(e,n){return Zu(4,2,e,n)}function Vp(e,n){return Zu(4,4,e,n)}function Mp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function xp(e,n,a){a=a!=null?a.concat([e]):null,Zu(4,4,Mp.bind(null,n,e),a)}function Of(){}function Up(e,n){var a=me();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Ef(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Pp(e,n){var a=me();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Ef(n,o[1]))return o[0];if(o=e(),Vs){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o}function Vf(e,n,a){return a===void 0||(ki&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Ly(),At.lanes|=e,wr|=e,a)}function Lp(e,n,a,o){return gn(a,n)?a:Aa.current!==null?(e=Vf(e,a,o),gn(e,n)||(be=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(It&261930)===0?(be=!0,e.memoizedState=a):(e=Ly(),At.lanes|=e,wr|=e,n)}function kp(e,n,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var p=F.T,E={};F.T=E,Uf(e,!1,n,a);try{var R=h(),k=F.S;if(k!==null&&k(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=RA(R,o);$o(e,n,H,Tn(e))}else $o(e,n,o,Tn(e))}catch(K){$o(e,n,{then:function(){},status:"rejected",reason:K},Tn())}finally{et.p=f,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function VA(){}function Mf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=zp(e).queue;kp(e,h,n,ut,a===null?VA:function(){return Bp(e),a(o)})}function zp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Bp(e){var n=zp(e);n.next===null&&(n=e.alternate.memoizedState),$o(e,n.next.queue,{},Tn())}function xf(){return je(dl)}function qp(){return me().memoizedState}function jp(){return me().memoizedState}function MA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();e=vr(a);var o=Er(n,e,a);o!==null&&(cn(o,n,a),Go(o,n,a)),n={cache:uf()},e.payload=n;return}n=n.return}}function xA(e,n,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(e)?Fp(n,a):(a=Zh(e,n,a,o),a!==null&&(cn(a,e,o),Gp(a,n,o)))}function Hp(e,n,a){var o=Tn();$o(e,n,a,o)}function $o(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))Fp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,p))return Vu(e,n,h,0),Jt===null&&Ou(),!1}catch{}finally{}if(a=Zh(e,n,h,o),a!==null)return cn(a,e,o),Gp(a,n,o),!0}return!1}function Uf(e,n,a,o){if(o={lane:2,revertLane:dd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(e)){if(n)throw Error(s(479))}else n=Zh(e,a,o,2),n!==null&&cn(n,e,2)}function Ju(e){var n=e.alternate;return e===At||n!==null&&n===At}function Fp(e,n){Sa=Gu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Gp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,_o(e,a)}}var Zo={readContext:je,use:Yu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Zo.useEffectEvent=ue;var Qp={readContext:je,use:Yu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:Dp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,$u(4194308,4,Mp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return $u(4194308,4,e,n)},useInsertionEffect:function(e,n){$u(4,2,e,n)},useMemo:function(e,n){var a=en();n=n===void 0?null:n;var o=e();if(Vs){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=en();if(a!==void 0){var h=a(n);if(Vs){wn(!0);try{a(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=xA.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=Cf(e);var n=e.queue,a=Hp.bind(null,At,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(e,n){var a=en();return Vf(a,e,n)},useTransition:function(){var e=Cf(!1);return e=kp.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=At,h=en();if(Vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(It&127)!==0||dp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Dp(gp.bind(null,o,f,e),[e]),o.flags|=2048,wa(9,{destroy:void 0},mp.bind(null,o,f,a,n),null),a},useId:function(){var e=en(),n=Jt.identifierPrefix;if(Vt){var a=vi,o=_i;a=(o&~(1<<32-he(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Qu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=IA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:xf,useFormState:bp,useActionState:bp,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Uf.bind(null,At,!0,a),a.dispatch=n,[e,n]},useMemoCache:wf,useCacheRefresh:function(){return en().memoizedState=MA.bind(null,At)},useEffectEvent:function(e){var n=en(),a={impl:e};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Pf={readContext:je,use:Yu,useCallback:Up,useContext:je,useEffect:Nf,useImperativeHandle:xp,useInsertionEffect:Op,useLayoutEffect:Vp,useMemo:Pp,useReducer:Xu,useRef:Cp,useState:function(){return Xu(zi)},useDebugValue:Of,useDeferredValue:function(e,n){var a=me();return Lp(a,Yt.memoizedState,e,n)},useTransition:function(){var e=Xu(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:fp,useId:qp,useHostTransitionStatus:xf,useFormState:wp,useActionState:wp,useOptimistic:function(e,n){var a=me();return _p(a,Yt,e,n)},useMemoCache:wf,useCacheRefresh:jp};Pf.useEffectEvent=Np;var Kp={readContext:je,use:Yu,useCallback:Up,useContext:je,useEffect:Nf,useImperativeHandle:xp,useInsertionEffect:Op,useLayoutEffect:Vp,useMemo:Pp,useReducer:If,useRef:Cp,useState:function(){return If(zi)},useDebugValue:Of,useDeferredValue:function(e,n){var a=me();return Yt===null?Vf(a,e,n):Lp(a,Yt.memoizedState,e,n)},useTransition:function(){var e=If(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:fp,useId:qp,useHostTransitionStatus:xf,useFormState:Ip,useActionState:Ip,useOptimistic:function(e,n){var a=me();return Yt!==null?_p(a,Yt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:jp};Kp.useEffectEvent=Np;function Lf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var kf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Tn(),h=vr(o);h.payload=n,a!=null&&(h.callback=a),n=Er(e,h,o),n!==null&&(cn(n,e,o),Go(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Tn(),h=vr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Er(e,h,o),n!==null&&(cn(n,e,o),Go(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Tn(),o=vr(a);o.tag=2,n!=null&&(o.callback=n),n=Er(e,o,a),n!==null&&(cn(n,e,a),Go(n,e,a))}};function Yp(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Lo(a,o)||!Lo(h,f):!0}function Xp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&kf.enqueueReplaceState(n,n.state,null)}function Ms(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function $p(e){Nu(e)}function Zp(e){console.error(e)}function Jp(e){Nu(e)}function Wu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Wp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(e,n,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(e,n)},a}function ty(e){return e=vr(e),e.tag=3,e}function ey(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Wp(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Wp(n,a,o),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function UA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ya(n,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?hc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Bu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),cd(e,o,h)),!1;case 22:return a.flags|=65536,o===Bu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),cd(e,o,h)),!1}throw Error(s(435,a.tag))}return cd(e,o,h),hc(),!1}if(Vt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==rf&&(e=Error(s(422),{cause:o}),Bo(On(e,a)))):(o!==rf&&(n=Error(s(423),{cause:o}),Bo(On(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,a),h=zf(e.stateNode,o,h),gf(e,h),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:o});if(f=On(f,a),sl===null?sl=[f]:sl.push(f),ce!==4&&(ce=2),n===null)return!0;o=On(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=zf(a.stateNode,o,e),gf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rr===null||!Rr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ty(h),ey(h,e,a,o),gf(a,h),!1}a=a.return}while(a!==null);return!1}var Bf=Error(s(461)),be=!1;function He(e,n,a,o){n.child=e===null?sp(n,null,a,o):Os(n,e.child,a,o)}function ny(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Is(n),o=Tf(e,n,a,p,f,h),E=Af(),e!==null&&!be?(Sf(e,n,h),Bi(e,n,h)):(Vt&&E&&ef(n),n.flags|=1,He(e,n,o,h),n.child)}function iy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ry(e,n,f,o,h)):(e=xu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Yf(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Lo,a(p,o)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=xi(f,o),e.ref=n.ref,e.return=n,n.child=e}function ry(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Lo(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,Yf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return qf(e,n,a,o,h)}function sy(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ay(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(n,f!==null?f.cachePool:null),f!==null?lp(n,f):yf(),up(n);else return o=n.lanes=536870912,ay(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(ku(n,f.cachePool),lp(n,f),Ar(),n.memoizedState=null):(e!==null&&ku(n,null),yf(),Ar());return He(e,n,h,a),n.child}function Jo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(e,n,a,o,h){var f=hf();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&ku(n,null),yf(),up(n),e!==null&&ya(e,n,o,!0),n.childLanes=h,null}function tc(e,n){return n=nc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function oy(e,n,a){return Os(n,e.child,null,a),e=tc(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function PA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=tc(n,o),n.lanes=536870912,Jo(null,e);if(vf(n),(e=te)?(e=v_(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:mr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Fg(e),a.return=n,n.child=a,qe=n,te=null)):e=null,e===null)throw pr(n);return n.lanes=536870912,null}return tc(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(vf(n),h)if(n.flags&256)n.flags&=-257,n=oy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(be||ya(e,n,a,!1),h=(a&e.childLanes)!==0,be||h){if(o=Jt,o!==null&&(p=vo(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ss(e,p),cn(o,e,p),Bf;hc(),n=oy(e,n,a)}else e=f.treeContext,te=Pn(p.nextSibling),qe=n,Vt=!0,gr=null,xn=!1,e!==null&&Kg(n,e),n=tc(n,o),n.flags|=4096;return n}return e=xi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ec(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function qf(e,n,a,o,h){return Is(n),a=Tf(e,n,a,o,void 0,h),o=Af(),e!==null&&!be?(Sf(e,n,h),Bi(e,n,h)):(Vt&&o&&ef(n),n.flags|=1,He(e,n,a,h),n.child)}function ly(e,n,a,o,h,f){return Is(n),n.updateQueue=null,a=hp(n,o,a,h),cp(e),o=Af(),e!==null&&!be?(Sf(e,n,f),Bi(e,n,f)):(Vt&&o&&ef(n),n.flags|=1,He(e,n,a,f),n.child)}function uy(e,n,a,o,h){if(Is(n),n.stateNode===null){var f=da,p=a.contextType;typeof p=="object"&&p!==null&&(f=je(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},df(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?je(p):da,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Lf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&kf.enqueueReplaceState(f,f.state,null),Ko(n,o,f,h),Qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ms(a,E);f.props=R;var k=f.context,H=a.contextType;p=da,typeof H=="object"&&H!==null&&(p=je(H));var K=a.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==p)&&Xp(n,f,o,p),_r=!1;var z=n.memoizedState;f.state=z,Ko(n,o,f,h),Qo(),k=n.memoizedState,E||z!==k||_r?(typeof K=="function"&&(Lf(n,a,K,o),k=n.memoizedState),(R=_r||Yp(n,a,R,o,z,k,p))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,mf(e,n),p=n.memoizedProps,H=Ms(a,p),f.props=H,K=n.pendingProps,z=f.context,k=a.contextType,R=da,typeof k=="object"&&k!==null&&(R=je(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||z!==R)&&Xp(n,f,o,R),_r=!1,z=n.memoizedState,f.state=z,Ko(n,o,f,h),Qo();var q=n.memoizedState;p!==K||z!==q||_r||e!==null&&e.dependencies!==null&&Pu(e.dependencies)?(typeof E=="function"&&(Lf(n,a,E,o),q=n.memoizedState),(H=_r||Yp(n,a,H,o,z,q,R)||e!==null&&e.dependencies!==null&&Pu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ec(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Os(n,e.child,null,h),n.child=Os(n,null,a,h)):He(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Bi(e,n,h),e}function cy(e,n,a,o){return ws(),n.flags|=256,He(e,n,a,o),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(e){return{baseLanes:e,cachePool:Wg()}}function Ff(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=En),e}function hy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Tr(n):Ar(),(e=te)?(e=v_(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:mr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Fg(e),a.return=n,n.child=a,qe=n,te=null)):e=null,e===null)throw pr(n);return Rd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ar(),h=n.mode,E=nc({mode:"hidden",children:E},h),o=bs(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Hf(a),o.childLanes=Ff(e,p,a),n.memoizedState=jf,Jo(null,o)):(Tr(n),Gf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Tr(n),n.flags&=-257,n=Qf(e,n,a)):n.memoizedState!==null?(Ar(),n.child=e.child,n.flags|=128,n=null):(Ar(),E=o.fallback,h=n.mode,o=nc({mode:"visible",children:o.children},h),E=bs(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Os(n,e.child,null,a),o=n.child,o.memoizedState=Hf(a),o.childLanes=Ff(e,p,a),n.memoizedState=jf,n=Jo(null,o));else if(Tr(n),Rd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var k=p.dgst;p=k,o=Error(s(419)),o.stack="",o.digest=p,Bo({value:o,source:null,stack:null}),n=Qf(e,n,a)}else if(be||ya(e,n,a,!1),p=(a&e.childLanes)!==0,be||p){if(p=Jt,p!==null&&(o=vo(p,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Ss(e,o),cn(p,e,o),Bf;wd(E)||hc(),n=Qf(e,n,a)}else wd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,te=Pn(E.nextSibling),qe=n,Vt=!0,gr=null,xn=!1,e!==null&&Kg(n,e),n=Gf(n,o.children),n.flags|=4096);return n}return h?(Ar(),E=o.fallback,h=n.mode,R=e.child,k=R.sibling,o=xi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,k!==null?E=xi(k,E):(E=bs(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Jo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Hf(a):(h=E.cachePool,h!==null?(R=Ae._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Wg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Ff(e,p,a),n.memoizedState=jf,Jo(e.child,o)):(Tr(n),a=e.child,e=a.sibling,a=xi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function Gf(e,n){return n=nc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function nc(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Qf(e,n,a){return Os(n,e.child,null,a),e=Gf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function fy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),of(e.return,n,a)}function Kf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function dy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=de.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,nt(de,p),He(e,n,o,a),o=Vt?zo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fy(e,a,n);else if(e.tag===19)fy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Fu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Kf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Kf(n,!0,a,null,f,o);break;case"together":Kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),wr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ya(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=xi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=xi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Yf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Pu(e)))}function LA(e,n,a){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),yr(n,Ae,e.memoizedState.cache),ws();break;case 27:case 5:ss(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:yr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Tr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?hy(e,n,a):(Tr(n),e=Bi(e,n,a),e!==null?e.sibling:null);Tr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ya(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return dy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(de,de.current),o)break;return null;case 22:return n.lanes=0,sy(e,n,a,n.pendingProps);case 24:yr(n,Ae,e.memoizedState.cache)}return Bi(e,n,a)}function my(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Yf(e,a)&&(n.flags&128)===0)return be=!1,LA(e,n,a);be=(e.flags&131072)!==0}else be=!1,Vt&&(n.flags&1048576)!==0&&Qg(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ds(n.elementType),n.type=e,typeof e=="function")Jh(e)?(o=Ms(e,o),n.tag=1,n=uy(null,n,e,o,a)):(n.tag=0,n=qf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Qt){n.tag=11,n=ny(null,n,e,o,a);break t}else if(h===D){n.tag=14,n=iy(null,n,e,o,a);break t}}throw n=ie(e)||e,Error(s(306,n,""))}}return n;case 0:return qf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ms(o,n.pendingProps),uy(e,n,o,h,a);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,mf(e,n),Ko(n,o,null,a);var p=n.memoizedState;if(o=p.cache,yr(n,Ae,o),o!==f.cache&&lf(n,[Ae],a,!0),Qo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=cy(e,n,o,a);break t}else if(o!==h){h=On(Error(s(424)),n),Bo(h),n=cy(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=Pn(e.firstChild),qe=n,Vt=!0,gr=null,xn=!0,a=sp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ws(),o===h){n=Bi(e,n,a);break t}He(e,n,o,a)}n=n.child}return n;case 26:return ec(e,n),e===null?(a=w_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Vt||(a=n.type,e=n.pendingProps,o=_c(St.current).createElement(a),o[ve]=n,o[xe]=e,Fe(o,a,e),Ee(o),n.stateNode=o):n.memoizedState=w_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ss(n),e===null&&Vt&&(o=n.stateNode=A_(n.type,n.pendingProps,St.current),qe=n,xn=!0,h=te,Nr(n.type)?(Id=h,te=Pn(o.firstChild)):te=h),He(e,n,n.pendingProps.children,a),ec(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=te)&&(o=dS(o,n.type,n.pendingProps,xn),o!==null?(n.stateNode=o,qe=n,te=Pn(o.firstChild),xn=!1,h=!0):h=!1),h||pr(n)),ss(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Ad(h,f)?o=null:p!==null&&Ad(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(e,n,CA,null,null,a),dl._currentValue=h),ec(e,n),He(e,n,o,a),n.child;case 6:return e===null&&Vt&&((e=a=te)&&(a=mS(a,n.pendingProps,xn),a!==null?(n.stateNode=a,qe=n,te=null,e=!0):e=!1),e||pr(n)),null;case 13:return hy(e,n,a);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Os(n,null,o,a):He(e,n,o,a),n.child;case 11:return ny(e,n,n.type,n.pendingProps,a);case 7:return He(e,n,n.pendingProps,a),n.child;case 8:return He(e,n,n.pendingProps.children,a),n.child;case 12:return He(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,yr(n,n.type,o.value),He(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Is(n),h=je(h),o=o(h),n.flags|=1,He(e,n,o,a),n.child;case 14:return iy(e,n,n.type,n.pendingProps,a);case 15:return ry(e,n,n.type,n.pendingProps,a);case 19:return dy(e,n,a);case 31:return PA(e,n,a);case 22:return sy(e,n,a,n.pendingProps);case 24:return Is(n),o=je(Ae),e===null?(h=hf(),h===null&&(h=Jt,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},df(n),yr(n,Ae,h)):((e.lanes&a)!==0&&(mf(e,n),Ko(n,null,null,a),Qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),yr(n,Ae,o)):(o=f.cache,yr(n,Ae,o),o!==h.cache&&lf(n,[Ae],a,!0))),He(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function qi(e){e.flags|=4}function Xf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(qy())e.flags|=8192;else throw Ns=Bu,ff}else e.flags&=-16777217}function gy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!N_(n))if(qy())e.flags|=8192;else throw Ns=Bu,ff}function ic(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?uu():536870912,e.lanes|=n,Da|=n)}function Wo(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function kA(e,n,a){var o=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Ae),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(pa(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sf())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(ee(n),gy(n,f)):(ee(n),Xf(n,h,null,o,a))):f?f!==e.memoizedState?(qi(n),ee(n),gy(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(n),ee(n),Xf(n,h,e,o,a)),null;case 27:if(Ys(n),a=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ee(n),null}e=rt.current,pa(n)?Yg(n):(e=A_(h,o,a),n.stateNode=e,qi(n))}return ee(n),null;case 5:if(Ys(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(f=rt.current,pa(n))Yg(n);else{var p=_c(St.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[ve]=n,f[xe]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&qi(n)}}return ee(n),Xf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=St.current,pa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||h_(e.nodeValue,a)),e||pr(n,!0)}else e=_c(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ee(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=pa(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=n}else ws(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else a=sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=n}else ws(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),ic(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&yd(n.stateNode.containerInfo),ee(n),null;case 10:return Li(n.type),ee(n),null;case 19:if(Y(de),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Wo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Fu(e),f!==null){for(n.flags|=128,Wo(o,!1),e=f.updateQueue,n.updateQueue=e,ic(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Hg(a,e),a=a.sibling;return nt(de,de.current&1|2),Vt&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>lc&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Fu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ic(n,e),Wo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ee(n),null}else 2*We()-o.renderingStartTime>lc&&a!==536870912&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=de.current,nt(de,h?a&1|2:a&1),Vt&&Ui(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return _n(n),_f(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),a=n.updateQueue,a!==null&&ic(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Y(Cs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Li(Ae),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function zA(e,n){switch(nf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Ae),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ys(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(s(340));ws()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ws()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(de),null;case 4:return re(),null;case 10:return Li(n.type),null;case 22:case 23:return _n(n),_f(),e!==null&&Y(Cs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Ae),null;case 25:return null;default:return null}}function py(e,n){switch(nf(n),n.tag){case 3:Li(Ae),re();break;case 26:case 27:case 5:Ys(n);break;case 4:re();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:Y(de);break;case 10:Li(n.type);break;case 22:case 23:_n(n),_f(),e!==null&&Y(Cs);break;case 24:Li(Ae)}}function tl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){Gt(n,n.return,E)}}function Sr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=a,k=E;try{k()}catch(H){Gt(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){Gt(n,n.return,H)}}function yy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{op(n,a)}catch(o){Gt(e,e.return,o)}}}function _y(e,n,a){a.props=Ms(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Gt(e,n,o)}}function el(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Gt(e,n,h)}}function Ei(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Gt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Gt(e,n,h)}else a.current=null}function vy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Gt(e,e.return,h)}}function $f(e,n,a){try{var o=e.stateNode;oS(o,e.type,a,n),o[xe]=n}catch(h){Gt(e,e.return,h)}}function Ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Nr(e.type)||e.tag===4}function Zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Nr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&Nr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Jf(e,n,a),e=e.sibling;e!==null;)Jf(e,n,a),e=e.sibling}function rc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Nr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(rc(e,n,a),e=e.sibling;e!==null;)rc(e,n,a),e=e.sibling}function Ty(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,a),n[ve]=e,n[xe]=a}catch(f){Gt(e,e.return,f)}}var ji=!1,we=!1,Wf=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function BA(e,n){if(e=e.containerInfo,Ed=wc,e=xg(e),Gh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,E=-1,R=-1,k=0,H=0,K=e,z=null;e:for(;;){for(var q;K!==a||h!==0&&K.nodeType!==3||(E=p+h),K!==f||o!==0&&K.nodeType!==3||(R=p+o),K.nodeType===3&&(p+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===e)break e;if(z===a&&++k===h&&(E=p),z===f&&++H===o&&(R=p),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:e,selectionRange:a},wc=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var st=Ms(a.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Gt(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)bd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function Sy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(e,a),o&4&&tl(5,a);break;case 1:if(Fi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Gt(a,a.return,p)}else{var h=Ms(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Gt(a,a.return,p)}}o&64&&yy(a),o&512&&el(a,a.return);break;case 3:if(Fi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{op(e,n)}catch(p){Gt(a,a.return,p)}}break;case 27:n===null&&o&4&&Ty(a);case 26:case 5:Fi(e,a),n===null&&o&4&&vy(a),o&512&&el(a,a.return);break;case 12:Fi(e,a);break;case 31:Fi(e,a),o&4&&Ry(e,a);break;case 13:Fi(e,a),o&4&&Iy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=XA.bind(null,a),gS(e,a))));break;case 22:if(o=a.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||we,h=ji;var f=we;ji=o,(we=n)&&!f?Gi(e,a,(a.subtreeFlags&8772)!==0):Fi(e,a),ji=h,we=f}break;case 30:break;default:Fi(e,a)}}function by(e){var n=e.alternate;n!==null&&(e.alternate=null,by(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ws(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,an=!1;function Hi(e,n,a){for(a=a.child;a!==null;)wy(e,n,a),a=a.sibling}function wy(e,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(kn,a)}catch{}switch(a.tag){case 26:we||Ei(a,n),Hi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||Ei(a,n);var o=ae,h=an;Nr(a.type)&&(ae=a.stateNode,an=!1),Hi(e,n,a),cl(a.stateNode),ae=o,an=h;break;case 5:we||Ei(a,n);case 6:if(o=ae,h=an,ae=null,Hi(e,n,a),ae=o,an=h,ae!==null)if(an)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(f){Gt(a,n,f)}else try{ae.removeChild(a.stateNode)}catch(f){Gt(a,n,f)}break;case 18:ae!==null&&(an?(e=ae,y_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),La(e)):y_(ae,a.stateNode));break;case 4:o=ae,h=an,ae=a.stateNode.containerInfo,an=!0,Hi(e,n,a),ae=o,an=h;break;case 0:case 11:case 14:case 15:Sr(2,a,n),we||Sr(4,a,n),Hi(e,n,a);break;case 1:we||(Ei(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&_y(a,n,o)),Hi(e,n,a);break;case 21:Hi(e,n,a);break;case 22:we=(o=we)||a.memoizedState!==null,Hi(e,n,a),we=o;break;default:Hi(e,n,a)}}function Ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(a){Gt(n,n.return,a)}}}function Iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(a){Gt(n,n.return,a)}}function qA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ay),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ay),n;default:throw Error(s(435,e.tag))}}function sc(e,n){var a=qA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=$A.bind(null,e,o);o.then(h,h)}})}function on(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Nr(E.type)){ae=E.stateNode,an=!1;break t}break;case 5:ae=E.stateNode,an=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(ae===null)throw Error(s(160));wy(f,p,h),ae=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cy(n,e),n=n.sibling}var Yn=null;function Cy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(Sr(3,e,e.return),tl(3,e),Sr(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(we||a===null||Ei(a,a.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Yn;if(on(n,e),ln(e),o&512&&(we||a===null||Ei(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[ve]=e,Ee(f),o=f;break t;case"link":var p=C_("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(p=C_("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else D_(h,e.type,e.stateNode);else e.stateNode=I_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?D_(h,e.type,e.stateNode):I_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&$f(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(we||a===null||Ei(a,a.return)),a!==null&&o&4&&$f(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(we||a===null||Ei(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(st){Gt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,$f(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Wf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(st){Gt(e,e.return,st)}}break;case 3:if(Tc=null,h=Yn,Yn=vc(n.containerInfo),on(n,e),Yn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(st){Gt(e,e.return,st)}Wf&&(Wf=!1,Dy(e));break;case 4:o=Yn,Yn=vc(e.stateNode.containerInfo),on(n,e),ln(e),Yn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,sc(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,sc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,k=ji,H=we;if(ji=k||h,we=H||R,on(n,e),we=H,ji=k,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||ji||we||xs(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Gt(R,R.return,st)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(st){Gt(R,R.return,st)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?__(q,!0):__(R.stateNode,!1)}catch(st){Gt(R,R.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,sc(e,a))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,sc(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Ey(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Zf(e);rc(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(sn(p,""),a.flags&=-33);var E=Zf(e);rc(e,E,p);break;case 3:case 4:var R=a.stateNode.containerInfo,k=Zf(e);Jf(e,k,R);break;default:throw Error(s(161))}}catch(H){Gt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sy(e,n.alternate,n),n=n.sibling}function xs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Sr(4,n,n.return),xs(n);break;case 1:Ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&_y(n,n.return,a),xs(n);break;case 27:cl(n.stateNode);case 26:case 5:Ei(n,n.return),xs(n);break;case 22:n.memoizedState===null&&xs(n);break;case 30:xs(n);break;default:xs(n)}e=e.sibling}}function Gi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,a),tl(4,f);break;case 1:if(Gi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Gt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)ap(R[h],E)}catch(k){Gt(o,o.return,k)}}a&&p&64&&yy(f),el(f,f.return);break;case 27:Ty(f);case 26:case 5:Gi(h,f,a),a&&o===null&&p&4&&vy(f),el(f,f.return);break;case 12:Gi(h,f,a);break;case 31:Gi(h,f,a),a&&p&4&&Ry(h,f);break;case 13:Gi(h,f,a),a&&p&4&&Iy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,a),el(f,f.return);break;case 30:break;default:Gi(h,f,a)}n=n.sibling}}function td(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qo(a))}function ed(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function Xn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ny(e,n,a,o),n=n.sibling}function Ny(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,a,o),h&2048&&tl(9,n);break;case 1:Xn(e,n,a,o);break;case 3:Xn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){Xn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Gt(n,n.return,R)}}else Xn(e,n,a,o);break;case 31:Xn(e,n,a,o);break;case 13:Xn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,a,o):nl(e,n):f._visibility&2?Xn(e,n,a,o):(f._visibility|=2,Ra(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(p,n);break;case 24:Xn(e,n,a,o),h&2048&&ed(n.alternate,n);break;default:Xn(e,n,a,o)}}function Ra(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=a,R=o,k=p.flags;switch(p.tag){case 0:case 11:case 15:Ra(f,p,E,R,h),tl(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?Ra(f,p,E,R,h):nl(f,p):(H._visibility|=2,Ra(f,p,E,R,h)),h&&k&2048&&td(p.alternate,p);break;case 24:Ra(f,p,E,R,h),h&&k&2048&&ed(p.alternate,p);break;default:Ra(f,p,E,R,h)}n=n.sibling}}function nl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:nl(a,o),h&2048&&td(o.alternate,o);break;case 24:nl(a,o),h&2048&&ed(o.alternate,o);break;default:nl(a,o)}n=n.sibling}}var il=8192;function Ia(e,n,a){if(e.subtreeFlags&il)for(e=e.child;e!==null;)Oy(e,n,a),e=e.sibling}function Oy(e,n,a){switch(e.tag){case 26:Ia(e,n,a),e.flags&il&&e.memoizedState!==null&&IS(a,Yn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,n,a);break;case 3:case 4:var o=Yn;Yn=vc(e.stateNode.containerInfo),Ia(e,n,a),Yn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=il,il=16777216,Ia(e,n,a),il=o):Ia(e,n,a));break;default:Ia(e,n,a)}}function Vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pe=o,xy(o,e)}Vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)My(e),e=e.sibling}function My(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Sr(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ac(e)):rl(e);break;default:rl(e)}}function ac(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pe=o,xy(o,e)}Vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Sr(8,n,n.return),ac(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ac(n));break;default:ac(n)}e=e.sibling}}function xy(e,n){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Sr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pe=o;else t:for(a=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(by(o),o===a){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var jA={getCacheForType:function(e){var n=je(Ae),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return je(Ae).controller.signal}},HA=typeof WeakMap=="function"?WeakMap:Map,qt=0,Jt=null,wt=null,It=0,Ft=0,vn=null,br=!1,Ca=!1,nd=!1,Qi=0,ce=0,wr=0,Us=0,id=0,En=0,Da=0,sl=null,un=null,rd=!1,oc=0,Uy=0,lc=1/0,uc=null,Rr=null,Ve=0,Ir=null,Na=null,Ki=0,sd=0,ad=null,Py=null,al=0,od=null;function Tn(){return(qt&2)!==0&&It!==0?It&-It:F.T!==null?dd():cu()}function Ly(){if(En===0)if((It&536870912)===0||Vt){var e=ls;ls<<=1,(ls&3932160)===0&&(ls=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,a){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),Cr(e,It,En,!1)),us(e,a),((qt&2)===0||e!==Jt)&&(e===Jt&&((qt&2)===0&&(Us|=a),ce===4&&Cr(e,It,En,!1)),Ti(e))}function ky(e,n,a){if((qt&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?QA(e,n):ud(e,n,!0),f=o;do{if(h===0){Ca&&!o&&Cr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!FA(a)){h=ud(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=sl;var R=E.current.memoizedState.isDehydrated;if(R&&(Oa(E,p).flags|=256),p=ud(E,p,!1),p!==2){if(nd&&!R){E.errorRecoveryDisabledLanes|=f,Us|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),Cr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Cr(o,n,En,!br);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=oc+300-We(),10<h)){if(Cr(o,n,En,!br),ii(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=g_(zy.bind(null,o,a,un,uc,rd,n,En,Us,Da,br,f,"Throttled",-0,0),h);break t}zy(o,a,un,uc,rd,n,En,Us,Da,br,f,null,-0,0)}}break}while(!0);Ti(e)}function zy(e,n,a,o,h,f,p,E,R,k,H,K,z,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},Oy(n,f,K);var st=(f&62914560)===f?oc-We():(f&4194048)===f?Uy-We():0;if(st=CS(K,st),st!==null){Ki=f,e.cancelPendingCommit=st(Ky.bind(null,e,n,f,a,o,h,p,E,R,H,K,null,z,q)),Cr(e,f,p,!k);return}}Ky(e,n,f,a,o,h,p,E,R)}function FA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cr(e,n,a,o){n&=~id,n&=~Us,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&cs(e,a,n)}function cc(){return(qt&6)===0?(ol(0),!1):!0}function ld(){if(wt!==null){if(Ft===0)var e=wt.return;else e=wt,Pi=Rs=null,bf(e),Ta=null,Ho=0,e=wt;for(;e!==null;)py(e.alternate,e),e=e.return;wt=null}}function Oa(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,cS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ki=0,ld(),Jt=e,wt=a=xi(e.current,null),It=n,Ft=0,vn=null,br=!1,Ca=zn(e,n),nd=!1,Da=En=id=Us=wr=ce=0,un=sl=null,rd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Qi=n,Ou(),a}function By(e,n){At=null,F.H=Zo,n===Ea||n===zu?(n=np(),Ft=3):n===ff?(n=np(),Ft=4):Ft=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,wt===null&&(ce=1,Wu(e,On(n,e.current)))}function qy(){var e=yn.current;return e===null?!0:(It&4194048)===It?Un===null:(It&62914560)===It||(It&536870912)!==0?e===Un:!1}function jy(){var e=F.H;return F.H=Zo,e===null?Zo:e}function Hy(){var e=F.A;return F.A=jA,e}function hc(){ce=4,br||(It&4194048)!==It&&yn.current!==null||(Ca=!0),(wr&134217727)===0&&(Us&134217727)===0||Jt===null||Cr(Jt,It,En,!1)}function ud(e,n,a){var o=qt;qt|=2;var h=jy(),f=Hy();(Jt!==e||It!==n)&&(uc=null,Oa(e,n)),n=!1;var p=ce;t:do try{if(Ft!==0&&wt!==null){var E=wt,R=vn;switch(Ft){case 8:ld(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var k=Ft;if(Ft=0,vn=null,Va(e,E,R,k),a&&Ca){p=0;break t}break;default:k=Ft,Ft=0,vn=null,Va(e,E,R,k)}}GA(),p=ce;break}catch(H){By(e,H)}while(!0);return n&&e.shellSuspendCounter++,Pi=Rs=null,qt=o,F.H=h,F.A=f,wt===null&&(Jt=null,It=0,Ou()),p}function GA(){for(;wt!==null;)Fy(wt)}function QA(e,n){var a=qt;qt|=2;var o=jy(),h=Hy();Jt!==e||It!==n?(uc=null,lc=We()+500,Oa(e,n)):Ca=zn(e,n);t:do try{if(Ft!==0&&wt!==null){n=wt;var f=vn;e:switch(Ft){case 1:Ft=0,vn=null,Va(e,n,f,1);break;case 2:case 9:if(tp(f)){Ft=0,vn=null,Gy(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),Ti(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:tp(f)?(Ft=0,vn=null,Gy(n)):(Ft=0,vn=null,Va(e,n,f,7));break;case 5:var p=null;switch(wt.tag){case 26:p=wt.memoizedState;case 5:case 27:var E=wt;if(p?N_(p):E.stateNode.complete){Ft=0,vn=null;var R=E.sibling;if(R!==null)wt=R;else{var k=E.return;k!==null?(wt=k,fc(k)):wt=null}break e}}Ft=0,vn=null,Va(e,n,f,5);break;case 6:Ft=0,vn=null,Va(e,n,f,6);break;case 8:ld(),ce=6;break t;default:throw Error(s(462))}}KA();break}catch(H){By(e,H)}while(!0);return Pi=Rs=null,F.H=o,F.A=h,qt=a,wt!==null?0:(Jt=null,It=0,Ou(),ce)}function KA(){for(;wt!==null&&!kh();)Fy(wt)}function Fy(e){var n=my(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?fc(e):wt=n}function Gy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ly(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=ly(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:bf(n);default:py(a,n),n=wt=Hg(n,Qi),n=my(a,n,Qi)}e.memoizedProps=e.pendingProps,n===null?fc(e):wt=n}function Va(e,n,a,o){Pi=Rs=null,bf(n),Ta=null,Ho=0;var h=n.return;try{if(UA(e,h,n,a,It)){ce=1,Wu(e,On(a,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ce=1,Wu(e,On(a,e.current)),wt=null;return}n.flags&32768?(Vt||o===1?e=!0:Ca||(It&536870912)!==0?e=!1:(br=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Qy(n,e)):fc(n)}function fc(e){var n=e;do{if((n.flags&32768)!==0){Qy(n,br);return}e=n.return;var a=kA(n.alternate,n,Qi);if(a!==null){wt=a;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);ce===0&&(ce=5)}function Qy(e,n){do{var a=zA(e.alternate,e);if(a!==null){a.flags&=32767,wt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=a}while(e!==null);ce=6,wt=null}function Ky(e,n,a,o,h,f,p,E,R){e.cancelPendingCommit=null;do dc();while(Ve!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=$h,qh(e,a,f,p,E,R),e===Jt&&(wt=Jt=null,It=0),Na=n,Ir=e,Ki=a,sd=f,ad=h,Py=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ZA(rr,function(){return Jy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,p=qt,qt|=4;try{BA(e,n,a)}finally{qt=p,et.p=h,F.T=o}}Ve=1,Yy(),Xy(),$y()}}function Yy(){if(Ve===1){Ve=0;var e=Ir,n=Na,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=qt;qt|=4;try{Cy(n,e);var f=Td,p=xg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Mg(E.ownerDocument.documentElement,E)){if(R!==null&&Gh(E)){var k=R.start,H=R.end;if(H===void 0&&(H=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(H,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var q=z.getSelection(),st=E.textContent.length,ft=Math.min(R.start,st),$t=R.end===void 0?ft:Math.min(R.end,st);!q.extend&&ft>$t&&(p=$t,$t=ft,ft=p);var x=Vg(E,ft),N=Vg(E,$t);if(x&&N&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var L=K.createRange();L.setStart(x.node,x.offset),q.removeAllRanges(),ft>$t?(q.addRange(L),q.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),q.addRange(L))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wc=!!Ed,Td=Ed=null}finally{qt=h,et.p=o,F.T=a}}e.current=n,Ve=2}}function Xy(){if(Ve===2){Ve=0;var e=Ir,n=Na,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=qt;qt|=4;try{Sy(e,n.alternate,n)}finally{qt=h,et.p=o,F.T=a}}Ve=3}}function $y(){if(Ve===4||Ve===3){Ve=0,iu();var e=Ir,n=Na,a=Ki,o=Py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,Na=Ir=null,Zy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rr=null),Ni(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=h}}(Ki&3)!==0&&dc(),Ti(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===od?al++:(al=0,od=e):al=0,ol(0)}}function Zy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function dc(){return Yy(),Xy(),$y(),Jy()}function Jy(){if(Ve!==5)return!1;var e=Ir,n=sd;sd=0;var a=Ni(Ki),o=F.T,h=et.p;try{et.p=32>a?32:a,F.T=null,a=ad,ad=null;var f=Ir,p=Ki;if(Ve=0,Na=Ir=null,Ki=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,My(f.current),Ny(f,f.current,p,a),qt=E,ol(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{et.p=h,F.T=o,Zy(e,n)}}function Wy(e,n,a){n=On(a,n),n=zf(e.stateNode,n,2),e=Er(e,n,2),e!==null&&(us(e,2),Ti(e))}function Gt(e,n,a){if(e.tag===3)Wy(e,e,a);else for(;n!==null;){if(n.tag===3){Wy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){e=On(a,e),a=ty(2),o=Er(n,a,2),o!==null&&(ey(a,o,n,e),us(o,2),Ti(o));break}}n=n.return}}function cd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new HA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(nd=!0,h.add(a),e=YA.bind(null,e,n,a),n.then(e,e))}function YA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(It&a)===a&&(ce===4||ce===3&&(It&62914560)===It&&300>We()-oc?(qt&2)===0&&Oa(e,0):id|=a,Da===It&&(Da=0)),Ti(e)}function t_(e,n){n===0&&(n=uu()),e=Ss(e,n),e!==null&&(us(e,n),Ti(e))}function XA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),t_(e,a)}function $A(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),t_(e,a)}function ZA(e,n){return Oe(e,n)}var mc=null,Ma=null,hd=!1,gc=!1,fd=!1,Dr=0;function Ti(e){e!==Ma&&e.next===null&&(Ma===null?mc=Ma=e:Ma=Ma.next=e),gc=!0,hd||(hd=!0,WA())}function ol(e,n){if(!fd&&gc){fd=!0;do for(var a=!1,o=mc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,r_(o,f))}else f=It,f=ii(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(a=!0,r_(o,f));o=o.next}while(a);fd=!1}}function JA(){e_()}function e_(){gc=hd=!1;var e=0;Dr!==0&&uS()&&(e=Dr);for(var n=We(),a=null,o=mc;o!==null;){var h=o.next,f=n_(o,n);f===0?(o.next=null,a===null?mc=h:a.next=h,h===null&&(Ma=a)):(a=o,(e!==0||(f&3)!==0)&&(gc=!0)),o=h}Ve!==0&&Ve!==5||ol(e),Dr!==0&&(Dr=0)}function n_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-he(f),E=1<<p,R=h[p];R===-1?((E&a)===0||(E&o)!==0)&&(h[p]=Bh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,a=It,a=ii(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ir(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&ir(o),Ni(a)){case 2:case 8:a=yo;break;case 32:a=rr;break;case 268435456:a=ru;break;default:a=rr}return o=i_.bind(null,e),a=Oe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&ir(o),e.callbackPriority=2,e.callbackNode=null,2}function i_(e,n){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(dc()&&e.callbackNode!==a)return null;var o=It;return o=ii(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ky(e,o,n),n_(e,We()),e.callbackNode!=null&&e.callbackNode===a?i_.bind(null,e):null)}function r_(e,n){if(dc())return null;ky(e,n,!0)}function WA(){hS(function(){(qt&6)!==0?Oe(po,JA):e_()})}function dd(){if(Dr===0){var e=_a;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Dr=e}return Dr}function s_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function a_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function tS(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=s_((h[xe]||null).action),p=o.submitter;p&&(n=(n=p[xe]||null)?s_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new mi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Dr!==0){var R=p?a_(h,p):new FormData(h);Mf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?a_(h,p):new FormData(h),Mf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var gd=Xh[md],eS=gd.toLowerCase(),nS=gd[0].toUpperCase()+gd.slice(1);Kn(eS,"on"+nS)}Kn(Lg,"onAnimationEnd"),Kn(kg,"onAnimationIteration"),Kn(zg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(_A,"onTransitionRun"),Kn(vA,"onTransitionStart"),Kn(EA,"onTransitionCancel"),Kn(Bg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function o_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,k=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(H){Nu(H)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,k=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(H){Nu(H)}h.currentTarget=null,f=R}}}}function Rt(e,n){var a=n[Js];a===void 0&&(a=n[Js]=new Set);var o=e+"__bubble";a.has(o)||(l_(n,e,2,!1),a.add(o))}function pd(e,n,a){var o=0;n&&(o|=4),l_(a,e,o,n)}var pc="_reactListening"+Math.random().toString(36).slice(2);function yd(e){if(!e[pc]){e[pc]=!0,Eo.forEach(function(a){a!=="selectionchange"&&(iS.has(a)||pd(a,!1,e),pd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[pc]||(n[pc]=!0,pd("selectionchange",!1,n))}}function l_(e,n,a,o){switch(L_(n)){case 2:var h=OS;break;case 8:h=VS;break;default:h=Vd}a=h.bind(null,n,a,e),h=void 0,!gs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function _d(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=oi(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}cr(function(){var k=f,H=In(a),K=[];t:{var z=qg.get(e);if(z!==void 0){var q=mi,st=e;switch(e){case"keypress":if(ys(a)===0)break t;case"keydown":case"keyup":q=Iu;break;case"focusin":st="focus",q=vs;break;case"focusout":st="blur",q=vs;break;case"beforeblur":case"afterblur":q=vs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Lg:case kg:case zg:q=Eu;break;case Bg:q=T;break;case"scroll":case"scrollend":q=Vo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Mi;break;case"toggle":case"beforetoggle":q=Tt}var ft=(n&4)!==0,$t=!ft&&(e==="scroll"||e==="scrollend"),x=ft?z!==null?z+"Capture":null:z;ft=[];for(var N=k,L;N!==null;){var Q=N;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=Hn(N,x),Q!=null&&ft.push(ul(N,Q,L))),$t)break;N=N.return}0<ft.length&&(z=new q(z,st,null,a,H),K.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==Do&&(st=a.relatedTarget||a.fromElement)&&(oi(st)||st[si]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=a.relatedTarget||a.toElement,q=k,st=st?oi(st):null,st!==null&&($t=c(st),ft=st.tag,st!==$t||ft!==5&&ft!==27&&ft!==6)&&(st=null)):(q=null,st=k),q!==st)){if(ft=Mo,Q="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Mi,Q="onPointerLeave",x="onPointerEnter",N="pointer"),$t=q==null?z:dn(q),L=st==null?z:dn(st),z=new ft(Q,N+"leave",q,a,H),z.target=$t,z.relatedTarget=L,Q=null,oi(H)===k&&(ft=new ft(x,N+"enter",st,a,H),ft.target=L,ft.relatedTarget=$t,Q=ft),$t=Q,q&&st)e:{for(ft=rS,x=q,N=st,L=0,Q=x;Q;Q=ft(Q))L++;Q=0;for(var lt=N;lt;lt=ft(lt))Q++;for(;0<L-Q;)x=ft(x),L--;for(;0<Q-L;)N=ft(N),Q--;for(;L--;){if(x===N||N!==null&&x===N.alternate){ft=x;break e}x=ft(x),N=ft(N)}ft=null}else ft=null;q!==null&&u_(K,z,q,ft,!1),st!==null&&$t!==null&&u_(K,$t,st,ft,!0)}}t:{if(z=k?dn(k):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var kt=Rg;else if(bg(z))if(Ig)kt=gA;else{kt=dA;var at=fA}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&na(k.elementType)&&(kt=Rg):kt=mA;if(kt&&(kt=kt(e,k))){wg(K,kt,a,H);break t}at&&at(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&Ro(z,"number",z.value)}switch(at=k?dn(k):window,e){case"focusin":(bg(at)||at.contentEditable==="true")&&(ca=at,Qh=k,ko=null);break;case"focusout":ko=Qh=ca=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Ug(K,a,H);break;case"selectionchange":if(yA)break;case"keydown":case"keyup":Ug(K,a,H)}var bt;if(Bt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else ua?Es(e,a)&&(Ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(yi&&a.locale!=="ko"&&(ua||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ua&&(bt=Oo()):(di=H,No="value"in di?di.value:di.textContent,ua=!0)),at=yc(k,Ct),0<at.length&&(Ct=new pi(Ct,e,null,a,H),K.push({event:Ct,listeners:at}),bt?Ct.data=bt:(bt=la(a),bt!==null&&(Ct.data=bt)))),(bt=Dn?lA(e,a):uA(e,a))&&(Ct=yc(k,"onBeforeInput"),0<Ct.length&&(at=new pi("onBeforeInput","beforeinput",null,a,H),K.push({event:at,listeners:Ct}),at.data=bt)),tS(K,e,k,a,H)}o_(K,n)})}function ul(e,n,a){return{instance:e,listener:n,currentTarget:a}}function yc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,a),h!=null&&o.unshift(ul(e,h,f)),h=Hn(e,n),h!=null&&o.push(ul(e,h,f))),e.tag===3)return o;e=e.return}return[]}function rS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function u_(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var E=a,R=E.alternate,k=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||k===null||(R=k,h?(k=Hn(a,f),k!=null&&p.unshift(ul(a,k,R))):h||(k=Hn(a,f),k!=null&&p.push(ul(a,k,R)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var sS=/\r\n?/g,aS=/\u0000|\uFFFD/g;function c_(e){return(typeof e=="string"?e:""+e).replace(sS,`
`).replace(aS,"")}function h_(e,n){return n=c_(n),c_(e)===n}function Xt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,o);break;case"style":Co(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ia(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ia(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=jn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ia(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),ta(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ta(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,ta(e,a,o))}}function vd(e,n,a,o,h,f){switch(a){case"style":Co(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!To.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[xe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ta(e,a,o)}}}function Fe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,f,p,a,null)}}h&&Xt(e,n,"srcSet",a.srcSet,a,null),o&&Xt(e,n,"src",a.src,a,null);return;case"input":Rt("invalid",e);var E=f=p=h=null,R=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":p=H;break;case"checked":R=H;break;case"defaultChecked":k=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Xt(e,n,o,H,a,null)}}mu(e,f,E,R,k,p,h,!1);return;case"select":Rt("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Xt(e,n,h,E,a,null)}n=f,a=p,e.multiple=!!o,n!=null?ar(e,!!o,n,!1):a!=null&&ar(e,!!o,a,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(e,n,p,E,a,null)}or(e,o,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,R,o,a,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<ll.length;o++)Rt(ll[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,k,o,a,null)}return;default:if(na(n)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&vd(e,n,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Xt(e,n,E,o,a,null))}function oS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,k=null,H=null;for(q in a){var K=a[q];if(a.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(q)||Xt(e,n,q,null,o,K)}}for(var z in o){var q=o[z];if(K=a[z],o.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":k=q;break;case"defaultChecked":H=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==K&&Xt(e,n,z,q,o,K)}}ea(e,p,E,R,k,H,f,h);return;case"select":q=p=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&Xt(e,n,h,f,o,R)}n=E,a=p,o=q,z!=null?ar(e,!!a,z,!1):!!o!=!!a&&(n!=null?ar(e,!!a,n,!0):ar(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Xt(e,n,p,h,o,f)}gu(e,z,q);return;case"option":for(var st in a)if(z=a[st],a.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:Xt(e,n,st,null,o,z)}for(R in o)if(z=o[R],q=a[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,n,R,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)z=a[ft],a.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Xt(e,n,ft,null,o,z);for(k in o)if(z=o[k],q=a[k],o.hasOwnProperty(k)&&z!==q&&(z!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Xt(e,n,k,z,o,q)}return;default:if(na(n)){for(var $t in a)z=a[$t],a.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&vd(e,n,$t,void 0,o,z);for(H in o)z=o[H],q=a[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||vd(e,n,H,z,o,q);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Xt(e,n,x,null,o,z);for(K in o)z=o[K],q=a[K],!o.hasOwnProperty(K)||z===q||z==null&&q==null||Xt(e,n,K,z,o,q)}function f_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&f_(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],k=R.startTime;if(k>E)break;var H=R.transferSize,K=R.initiatorType;H&&f_(K)&&(R=R.responseEnd,p+=H*(R<E?1:(E-k)/(R-k)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ed=null,Td=null;function _c(e){return e.nodeType===9?e:e.ownerDocument}function d_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ad(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function uS(){var e=window.event;return e&&e.type==="popstate"?e===Sd?!1:(Sd=e,!0):(Sd=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,cS=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,hS=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(e){return p_.resolve(null).then(e).catch(fS)}:g_;function fS(e){setTimeout(function(){throw e})}function Nr(e){return e==="head"}function y_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),La(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")cl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,cl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&cl(e.ownerDocument.body);a=h}while(a);La(n)}function __(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function bd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bd(a),Ws(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function dS(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function mS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function v_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function wd(e){return e.data==="$?"||e.data==="$~"}function Rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function gS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Id=null;function E_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Pn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function T_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function A_(e,n,a){switch(n=_c(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function cl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ws(e)}var Ln=new Map,S_=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=et.d;et.d={f:pS,r:yS,D:_S,C:vS,L:ES,m:TS,X:SS,S:AS,M:bS};function pS(){var e=Yi.f(),n=cc();return e||n}function yS(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?Bp(n):Yi.r(e)}var xa=typeof document>"u"?null:document;function b_(e,n,a){var o=xa;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),S_.has(h)||(S_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Ee(n),o.head.appendChild(n)))}}function _S(e){Yi.D(e),b_("dns-prefetch",e,null)}function vS(e,n){Yi.C(e,n),b_("preconnect",e,n)}function ES(e,n,a){Yi.L(e,n,a);var o=xa;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=Ua(e);break;case"script":f=Pa(e)}Ln.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ln.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(hl(f))||n==="script"&&o.querySelector(fl(f))||(n=o.createElement("link"),Fe(n,"link",e),Ee(n),o.head.appendChild(n)))}}function TS(e,n){Yi.m(e,n);var a=xa;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!Ln.has(f)&&(e=S({rel:"modulepreload",href:e},n),Ln.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fl(f)))return}o=a.createElement("link"),Fe(o,"link",e),Ee(o),a.head.appendChild(o)}}}function AS(e,n,a){Yi.S(e,n,a);var o=xa;if(o&&e){var h=li(o).hoistableStyles,f=Ua(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(hl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ln.get(f))&&Cd(e,a);var R=p=o.createElement("link");Ee(R),Fe(R,"link",e),R._p=new Promise(function(k,H){R.onload=k,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ec(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function SS(e,n){Yi.X(e,n);var a=xa;if(a&&e){var o=li(a).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=a.querySelector(fl(h)),f||(e=S({src:e,async:!0},n),(n=Ln.get(h))&&Dd(e,n),f=a.createElement("script"),Ee(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function bS(e,n){Yi.M(e,n);var a=xa;if(a&&e){var o=li(a).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=a.querySelector(fl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Ln.get(h))&&Dd(e,n),f=a.createElement("script"),Ee(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function w_(e,n,a,o){var h=(h=St.current)?vc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ua(a.href),a=li(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ua(a.href);var f=li(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(hl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||wS(h,e,a,p.state))),n&&o===null)throw Error(s(528,""));return p}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(a),a=li(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ua(e){return'href="'+rn(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function R_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function wS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",a),Ee(n),e.head.appendChild(n))}function Pa(e){return'[src="'+rn(e)+'"]'}function fl(e){return"script[async]"+e}function I_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Fe(o,"style",h),Ec(o,a.precedence,e),n.instance=o;case"stylesheet":h=Ua(a.href);var f=e.querySelector(hl(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=R_(a),(h=Ln.get(h))&&Cd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Fe(f,"link",o),n.state.loading|=4,Ec(f,a.precedence,e),n.instance=f;case"script":return f=Pa(a.src),(h=e.querySelector(fl(f)))?(n.instance=h,Ee(h),h):(o=a,(h=Ln.get(f))&&(o=S({},a),Dd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ec(o,a.precedence,e));return n.instance}function Ec(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Tc=null;function C_(e,n,a){if(Tc===null){var o=new Map,h=Tc=new Map;h.set(a,o)}else h=Tc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ai]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function D_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function RS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function N_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function IS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ua(o.href),f=n.querySelector(hl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ac.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,o=R_(o),(h=Ln.get(h))&&Cd(o,h),f=f.createElement("link"),Ee(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ac.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Nd=0;function CS(e,n){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Nd===0&&(Nd=62500*lS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Nd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sc=null;function bc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sc=new Map,n.forEach(DS,e),Sc=null,Ac.call(e))}function DS(e,n){if(!(n.state.loading&4)){var a=Sc.get(e);if(a)var o=a.get(null);else{a=new Map,Sc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=Ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var dl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function NS(e,n,a,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function O_(e,n,a,o,h,f,p,E,R,k,H,K){return e=new NS(e,n,a,p,R,k,H,K,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=uf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},df(f),e}function V_(e){return e?(e=da,e):da}function M_(e,n,a,o,h,f){h=V_(h),o.context===null?o.context=h:o.pendingContext=h,o=vr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Er(e,o,n),a!==null&&(cn(a,e,n),Go(a,e,n))}function x_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Od(e,n){x_(e,n),(e=e.alternate)&&x_(e,n)}function U_(e){if(e.tag===13||e.tag===31){var n=Ss(e,67108864);n!==null&&cn(n,e,67108864),Od(e,67108864)}}function P_(e){if(e.tag===13||e.tag===31){var n=Tn();n=hs(n);var a=Ss(e,n);a!==null&&cn(a,e,n),Od(e,n)}}var wc=!0;function OS(e,n,a,o){var h=F.T;F.T=null;var f=et.p;try{et.p=2,Vd(e,n,a,o)}finally{et.p=f,F.T=h}}function VS(e,n,a,o){var h=F.T;F.T=null;var f=et.p;try{et.p=8,Vd(e,n,a,o)}finally{et.p=f,F.T=h}}function Vd(e,n,a,o){if(wc){var h=Md(o);if(h===null)_d(e,n,o,Rc,a),k_(e,o);else if(xS(h,e,n,a,o))o.stopPropagation();else if(k_(e,o),n&4&&-1<MS.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ni(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-he(p);E.entanglements[1]|=R,p&=~R}Ti(f),(qt&6)===0&&(lc=We()+500,ol(0))}}break;case 31:case 13:E=Ss(f,2),E!==null&&cn(E,f,2),cc(),Od(f,2)}if(f=Md(o),f===null&&_d(e,n,o,Rc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else _d(e,n,o,null,a)}}function Md(e){return e=In(e),xd(e)}var Rc=null;function xd(e){if(Rc=null,e=oi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Rc=e,null}function L_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(os()){case po:return 2;case yo:return 8;case rr:case zh:return 32;case ru:return 268435456;default:return 32}default:return 32}}var Ud=!1,Or=null,Vr=null,Mr=null,ml=new Map,gl=new Map,xr=[],MS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(e,n){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(n.pointerId)}}function pl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&U_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function xS(e,n,a,o,h){switch(n){case"focusin":return Or=pl(Or,e,n,a,o,h),!0;case"dragenter":return Vr=pl(Vr,e,n,a,o,h),!0;case"mouseover":return Mr=pl(Mr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return ml.set(f,pl(ml.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,gl.set(f,pl(gl.get(f)||null,e,n,a,o,h)),!0}return!1}function z_(e){var n=oi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){P_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){P_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Md(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Do=o,a.target.dispatchEvent(o),Do=null}else return n=Rn(a),n!==null&&U_(n),e.blockedOn=a,!1;n.shift()}return!0}function B_(e,n,a){Ic(e)&&a.delete(n)}function US(){Ud=!1,Or!==null&&Ic(Or)&&(Or=null),Vr!==null&&Ic(Vr)&&(Vr=null),Mr!==null&&Ic(Mr)&&(Mr=null),ml.forEach(B_),gl.forEach(B_)}function Cc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ud||(Ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,US)))}var Dc=null;function q_(e){Dc!==e&&(Dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dc===e&&(Dc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(xd(o||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(n,3),n-=3,Mf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function La(e){function n(R){return Cc(R,e)}Or!==null&&Cc(Or,e),Vr!==null&&Cc(Vr,e),Mr!==null&&Cc(Mr,e),ml.forEach(n),gl.forEach(n);for(var a=0;a<xr.length;a++){var o=xr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<xr.length&&(a=xr[0],a.blockedOn===null);)z_(a),a.blockedOn===null&&xr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[xe]||null;if(typeof f=="function")p||q_(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[xe]||null)E=p.formAction;else if(xd(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),q_(a)}}}function j_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Pd(e){this._internalRoot=e}Nc.prototype.render=Pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Tn();M_(a,o,e,n,null,null)},Nc.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;M_(e.current,2,null,e,null,null),cc(),n[si]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var n=cu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<xr.length&&n!==0&&n<xr[a].priority;a++);xr.splice(a,0,e),a===0&&z_(e)}};var H_=t.version;if(H_!=="19.2.0")throw Error(s(527,H_,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var PS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{kn=Oc.inject(PS),ze=Oc}catch{}}return _l.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=$p,f=Zp,p=Jp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=O_(e,1,!1,null,null,a,o,null,h,f,p,j_),e[si]=n.current,yd(e),new Pd(n)},_l.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=$p,p=Zp,E=Jp,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=O_(e,1,!0,n,a??null,o,h,R,f,p,E,j_),n.context=V_(null),a=n.current,o=Tn(),o=hs(o),h=vr(o),h.callback=null,Er(a,h,o),a=o,n.current.lanes=a,us(n,a),Ti(n),e[si]=n.current,yd(e),new Nc(n)},_l.version="19.2.0",_l}var W_;function QS(){if(W_)return zd.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),zd.exports=GS(),zd.exports}var KS=QS();const aD=ME(KS),YS=()=>{};var tv={};const xE=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},XS=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},UE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,A=c>>2,S=(c&3)<<4|g>>4;let C=(g&15)<<2|_>>6,j=_&63;y||(j=64,d||(C=64)),s.push(i[A],i[S],i[C],i[j])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(xE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):XS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||S==null)throw new $S;const C=c<<2|g>>4;if(s.push(C),_!==64){const j=g<<4&240|_>>2;if(s.push(j),S!==64){const $=_<<6&192|S;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZS=function(r){const t=xE(r);return UE.encodeByteArray(t,!0)},Yc=function(r){return ZS(r).replace(/\./g,"")},PE=function(r){try{return UE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function JS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const WS=()=>JS().__FIREBASE_DEFAULTS__,t1=()=>{if(typeof process>"u"||typeof tv>"u")return;const r=tv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},e1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&PE(r[1]);return t&&JSON.parse(t)},ph=()=>{try{return YS()||WS()||t1()||e1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LE=r=>ph()?.emulatorHosts?.[r],n1=r=>{const t=LE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},kE=()=>ph()?.config,zE=r=>ph()?.[`_${r}`];class i1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function io(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BE(r){return(await fetch(r,{credentials:"include"})).ok}function r1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Rl={};function s1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?r.emulator.push(t):r.prod.push(t);return r}function a1(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let ev=!1;function qE(r,t){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||Rl[r]===t||Rl[r]||ev)return;Rl[r]=t;function i(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=s1().prod.length>0;function d(){const C=document.getElementById(s);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,j){C.setAttribute("width","24"),C.setAttribute("id",j),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{ev=!0,d()},C}function A(C,j){C.setAttribute("id",j),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=a1(s),j=i("text"),$=document.getElementById(j)||document.createElement("span"),W=i("learnmore"),Z=document.getElementById(W)||document.createElement("a"),ht=i("preprendIcon"),Et=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const gt=C.element;g(gt),A(Z,W);const Qt=_();y(Et,ht),gt.append(Et,$,Z,Qt),document.body.appendChild(gt)}c?($.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function l1(){const r=ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function c1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function h1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f1(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function d1(){return!l1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m1(){try{return typeof indexedDB=="object"}catch{return!1}}function g1(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const p1="FirebaseError";class nr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=p1,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?y1(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new nr(l,g,s)}}function y1(r,t){return r.replace(_1,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const _1=/\{\$([^}]+)}/g;function v1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Bs(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(nv(c)&&nv(d)){if(!Bs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function nv(r){return r!==null&&typeof r=="object"}function Fl(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function El(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Tl(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function E1(r,t){const i=new T1(r,t);return i.subscribe.bind(i)}class T1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");A1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Hd),l.error===void 0&&(l.error=Hd),l.complete===void 0&&(l.complete=Hd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A1(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Hd(){}function pe(r){return r&&r._delegate?r._delegate:r}class qs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ls="[DEFAULT]";class S1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new i1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(w1(t))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ls){return this.instances.has(t)}getOptions(t=Ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:b1(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ls){return this.component?this.component.multipleInstances?t:Ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b1(r){return r===Ls?void 0:r}function w1(r){return r.instantiationMode==="EAGER"}class R1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new S1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const I1={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},C1=Dt.INFO,D1={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},N1=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=D1[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Im{constructor(t){this.name=t,this._logLevel=C1,this._logHandler=N1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?I1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const O1=(r,t)=>t.some(i=>r instanceof i);let iv,rv;function V1(){return iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M1(){return rv||(rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jE=new WeakMap,em=new WeakMap,HE=new WeakMap,Fd=new WeakMap,Cm=new WeakMap;function x1(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(jr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&jE.set(i,r)}).catch(()=>{}),Cm.set(t,r),t}function U1(r){if(em.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});em.set(r,t)}let nm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return em.get(r);if(t==="objectStoreNames")return r.objectStoreNames||HE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return jr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function P1(r){nm=r(nm)}function L1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Gd(this),t,...i);return HE.set(s,t.sort?t.sort():[t]),jr(s)}:M1().includes(r)?function(...t){return r.apply(Gd(this),t),jr(jE.get(this))}:function(...t){return jr(r.apply(Gd(this),t))}}function k1(r){return typeof r=="function"?L1(r):(r instanceof IDBTransaction&&U1(r),O1(r,V1())?new Proxy(r,nm):r)}function jr(r){if(r instanceof IDBRequest)return x1(r);if(Fd.has(r))return Fd.get(r);const t=k1(r);return t!==r&&(Fd.set(r,t),Cm.set(t,r)),t}const Gd=r=>Cm.get(r);function z1(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=jr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(jr(d.result),y.oldVersion,y.newVersion,jr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const B1=["get","getKey","getAll","getAllKeys","count"],q1=["put","add","delete","clear"],Qd=new Map;function sv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Qd.get(t))return Qd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=q1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||B1.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Qd.set(t,c),c}P1(r=>({...r,get:(t,i,s)=>sv(t,i)||r.get(t,i,s),has:(t,i)=>!!sv(t,i)||r.has(t,i)}));class j1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(H1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function H1(r){return r.getComponent()?.type==="VERSION"}const im="@firebase/app",av="0.14.6";const Zi=new Im("@firebase/app"),F1="@firebase/app-compat",G1="@firebase/analytics-compat",Q1="@firebase/analytics",K1="@firebase/app-check-compat",Y1="@firebase/app-check",X1="@firebase/auth",$1="@firebase/auth-compat",Z1="@firebase/database",J1="@firebase/data-connect",W1="@firebase/database-compat",tb="@firebase/functions",eb="@firebase/functions-compat",nb="@firebase/installations",ib="@firebase/installations-compat",rb="@firebase/messaging",sb="@firebase/messaging-compat",ab="@firebase/performance",ob="@firebase/performance-compat",lb="@firebase/remote-config",ub="@firebase/remote-config-compat",cb="@firebase/storage",hb="@firebase/storage-compat",fb="@firebase/firestore",db="@firebase/ai",mb="@firebase/firestore-compat",gb="firebase",pb="12.6.0";const rm="[DEFAULT]",yb={[im]:"fire-core",[F1]:"fire-core-compat",[Q1]:"fire-analytics",[G1]:"fire-analytics-compat",[Y1]:"fire-app-check",[K1]:"fire-app-check-compat",[X1]:"fire-auth",[$1]:"fire-auth-compat",[Z1]:"fire-rtdb",[J1]:"fire-data-connect",[W1]:"fire-rtdb-compat",[tb]:"fire-fn",[eb]:"fire-fn-compat",[nb]:"fire-iid",[ib]:"fire-iid-compat",[rb]:"fire-fcm",[sb]:"fire-fcm-compat",[ab]:"fire-perf",[ob]:"fire-perf-compat",[lb]:"fire-rc",[ub]:"fire-rc-compat",[cb]:"fire-gcs",[hb]:"fire-gcs-compat",[fb]:"fire-fst",[mb]:"fire-fst-compat",[db]:"fire-vertex","fire-js":"fire-js",[gb]:"fire-js-all"};const Xc=new Map,_b=new Map,sm=new Map;function ov(r,t){try{r.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Xa(r){const t=r.name;if(sm.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,r);for(const i of Xc.values())ov(i,r);for(const i of _b.values())ov(i,r);return!0}function Dm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function $n(r){return r==null?!1:r.settings!==void 0}const vb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Hl("app","Firebase",vb);class Eb{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}const ro=pb;function FE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:rm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Hr.create("bad-app-name",{appName:String(l)});if(i||(i=kE()),!i)throw Hr.create("no-options");const c=Xc.get(l);if(c){if(Bs(i,c.options)&&Bs(s,c.config))return c;throw Hr.create("duplicate-app",{appName:l})}const d=new R1(l);for(const y of sm.values())d.addComponent(y);const g=new Eb(i,s,d);return Xc.set(l,g),g}function GE(r=rm){const t=Xc.get(r);if(!t&&r===rm&&kE())return FE();if(!t)throw Hr.create("no-app",{appName:r});return t}function Fr(r,t,i){let s=yb[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Xa(new qs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const Tb="firebase-heartbeat-database",Ab=1,Ml="firebase-heartbeat-store";let Kd=null;function QE(){return Kd||(Kd=z1(Tb,Ab,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ml)}catch(i){console.warn(i)}}}}).catch(r=>{throw Hr.create("idb-open",{originalErrorMessage:r.message})})),Kd}async function Sb(r){try{const i=(await QE()).transaction(Ml),s=await i.objectStore(Ml).get(KE(r));return await i.done,s}catch(t){if(t instanceof nr)Zi.warn(t.message);else{const i=Hr.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function lv(r,t){try{const s=(await QE()).transaction(Ml,"readwrite");await s.objectStore(Ml).put(t,KE(r)),await s.done}catch(i){if(i instanceof nr)Zi.warn(i.message);else{const s=Hr.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(s.message)}}}function KE(r){return`${r.name}!${r.options.appId}`}const bb=1024,wb=30;class Rb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Cb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>wb){const l=Db(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uv(),{heartbeatsToSend:i,unsentEntries:s}=Ib(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function uv(){return new Date().toISOString().substring(0,10)}function Ib(r,t=bb){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),cv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),cv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Cb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m1()?g1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Sb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return lv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return lv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function cv(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function Db(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function Nb(r){Xa(new qs("platform-logger",t=>new j1(t),"PRIVATE")),Xa(new qs("heartbeat",t=>new Rb(t),"PRIVATE")),Fr(im,av,r),Fr(im,av,"esm2020"),Fr("fire-js","")}Nb("");var Ob="firebase",Vb="12.6.0";Fr(Ob,Vb,"app");var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gr,YE;(function(){var r;function t(D,b){function I(){}I.prototype=b.prototype,D.F=b.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(M,O,U){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return b.prototype[O].apply(M,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)M[O]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(O=0;O<16;++O)M[O]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=D.g[0],I=D.g[1],O=D.g[2];let U=D.g[3],w;w=b+(U^I&(O^U))+M[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(O^b&(I^O))+M[1]+3905402710&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(I^U&(b^I))+M[2]+606105819&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(b^O&(U^b))+M[3]+3250441966&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(U^I&(O^U))+M[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(O^b&(I^O))+M[5]+1200080426&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(I^U&(b^I))+M[6]+2821735955&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(b^O&(U^b))+M[7]+4249261313&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(U^I&(O^U))+M[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(O^b&(I^O))+M[9]+2336552879&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(I^U&(b^I))+M[10]+4294925233&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(b^O&(U^b))+M[11]+2304563134&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(U^I&(O^U))+M[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(O^b&(I^O))+M[13]+4254626195&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(I^U&(b^I))+M[14]+2792965006&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(b^O&(U^b))+M[15]+1236535329&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(O^U&(I^O))+M[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(b^I))+M[6]+3225465664&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(U^b))+M[11]+643717713&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(O^U))+M[0]+3921069994&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^U&(I^O))+M[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(b^I))+M[10]+38016083&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(U^b))+M[15]+3634488961&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(O^U))+M[4]+3889429448&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^U&(I^O))+M[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(b^I))+M[14]+3275163606&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(U^b))+M[3]+4107603335&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(O^U))+M[8]+1163531501&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^U&(I^O))+M[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(b^I))+M[2]+4243563512&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(U^b))+M[7]+1735328473&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(O^U))+M[12]+2368359562&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(I^O^U)+M[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^O)+M[8]+2272392833&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^I)+M[11]+1839030562&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^b)+M[14]+4259657740&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^U)+M[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^O)+M[4]+1272893353&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^I)+M[7]+4139469664&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^b)+M[10]+3200236656&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^U)+M[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^O)+M[0]+3936430074&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^I)+M[3]+3572445317&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^b)+M[6]+76029189&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^U)+M[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^O)+M[12]+3873151461&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^I)+M[15]+530742520&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^b)+M[2]+3299628645&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(O^(I|~U))+M[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~O))+M[7]+1126891415&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~I))+M[14]+2878612391&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~b))+M[5]+4237533241&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~U))+M[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~O))+M[3]+2399980690&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~I))+M[10]+4293915773&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~b))+M[1]+2240044497&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~U))+M[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~O))+M[15]+4264355552&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~I))+M[6]+2734768916&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~b))+M[13]+1309151649&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~U))+M[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~O))+M[11]+3174756917&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~I))+M[2]+718787259&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~b))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.v=function(D,b){b===void 0&&(b=D.length);const I=b-this.blockSize,M=this.C;let O=this.h,U=0;for(;U<b;){if(O==0)for(;U<=I;)l(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<b;)if(M[O++]=D.charCodeAt(U++),O==this.blockSize){l(this,M),O=0;break}}else for(;U<b;)if(M[O++]=D[U++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)D[b++]=this.g[I]>>>M&255;return D};function c(D,b){var I=g;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=b(D)}function d(D,b){this.h=b;const I=[];let M=!0;for(let O=D.length-1;O>=0;O--){const U=D[O]|0;M&&U==b||(I[O]=U,M=!1)}this.g=I}var g={};function y(D){return-128<=D&&D<128?c(D,function(b){return new d([b|0],b<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return Z(_(-D));const b=[];let I=1;for(let M=0;D>=I;M++)b[M]=D/I|0,I*=4294967296;return new d(b,0)}function A(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return Z(A(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let M=S;for(let U=0;U<D.length;U+=8){var O=Math.min(8,D.length-U);const w=parseInt(D.substring(U,U+O),b);O<8?(O=_(Math.pow(b,O)),M=M.j(O).add(_(w))):(M=M.j(I),M=M.add(_(w)))}return M}var S=y(0),C=y(1),j=y(16777216);r=d.prototype,r.m=function(){if(W(this))return-Z(this).m();let D=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);D+=(M>=0?M:4294967296+M)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if($(this))return"0";if(W(this))return"-"+Z(this).toString(D);const b=_(Math.pow(D,6));var I=this;let M="";for(;;){const O=Qt(I,b).g;I=ht(I,O.j(b));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=O,$(I))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function $(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function W(D){return D.h==-1}r.l=function(D){return D=ht(this,D),W(D)?-1:$(D)?0:1};function Z(D){const b=D.g.length,I=[];for(let M=0;M<b;M++)I[M]=~D.g[M];return new d(I,~D.h).add(C)}r.abs=function(){return W(this)?Z(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),I=[];let M=0;for(let O=0;O<=b;O++){let U=M+(this.i(O)&65535)+(D.i(O)&65535),w=(U>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);M=w>>>16,U&=65535,w&=65535,I[O]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ht(D,b){return D.add(Z(b))}r.j=function(D){if($(this)||$(D))return S;if(W(this))return W(D)?Z(this).j(Z(D)):Z(Z(this).j(D));if(W(D))return Z(this.j(Z(D)));if(this.l(j)<0&&D.l(j)<0)return _(this.m()*D.m());const b=this.g.length+D.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<D.g.length;O++){const U=this.i(M)>>>16,w=this.i(M)&65535,ie=D.i(O)>>>16,De=D.i(O)&65535;I[2*M+2*O]+=w*De,Et(I,2*M+2*O),I[2*M+2*O+1]+=U*De,Et(I,2*M+2*O+1),I[2*M+2*O+1]+=w*ie,Et(I,2*M+2*O+1),I[2*M+2*O+2]+=U*ie,Et(I,2*M+2*O+2)}for(D=0;D<b;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=b;D<2*b;D++)I[D]=0;return new d(I,0)};function Et(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function gt(D,b){this.g=D,this.h=b}function Qt(D,b){if($(b))throw Error("division by zero");if($(D))return new gt(S,S);if(W(D))return b=Qt(Z(D),b),new gt(Z(b.g),Z(b.h));if(W(b))return b=Qt(D,Z(b)),new gt(Z(b.g),b.h);if(D.g.length>30){if(W(D)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var I=C,M=b;M.l(D)<=0;)I=Wt(I),M=Wt(M);var O=Pt(I,1),U=Pt(M,1);for(M=Pt(M,2),I=Pt(I,2);!$(M);){var w=U.add(M);w.l(D)<=0&&(O=O.add(I),U=w),M=Pt(M,1),I=Pt(I,1)}return b=ht(D,O.j(b)),new gt(O,b)}for(O=S;D.l(b)>=0;){for(I=Math.max(1,Math.floor(D.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(I),w=U.j(b);W(w)||w.l(D)>0;)I-=M,U=_(I),w=U.j(b);$(U)&&(U=C),O=O.add(U),D=ht(D,w)}return new gt(O,D)}r.B=function(D){return Qt(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&D.i(M);return new d(I,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|D.i(M);return new d(I,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^D.i(M);return new d(I,this.h^D.h)};function Wt(D){const b=D.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=D.i(M)<<1|D.i(M-1)>>>31;return new d(I,D.h)}function Pt(D,b){const I=b>>5;b%=32;const M=D.g.length-I,O=[];for(let U=0;U<M;U++)O[U]=b>0?D.i(U+I)>>>b|D.i(U+I+1)<<32-b:D.i(U+I);return new d(O,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,YE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Gr=d}).apply(typeof hv<"u"?hv:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var XE,Al,$E,kc,am,ZE,JE,WE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,B){for(var J=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)J[Tt-2]=arguments[Tt];return m.prototype[P].apply(T,J)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const B=P.length||0;u.length=v+B;for(let J=0;J<B;J++)u[v+J]=P[J]}else u.push(P)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new W(()=>new Qt,u=>u.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Pt=!1,D=new Et,b=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(I)}};function I(){for(var u;u=ht();){try{u.h.call(u.g)}catch(v){Z(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Pt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,O),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++F,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function jt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,P){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const J=St(u,m,T,P);return J>-1?(m=u[J],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,P),m.fa=v,u.push(m)),m};function pt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(T,P,1),B&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let P=0;P<u.length;++P){const B=u[P];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return P}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Ne={};function re(u,m,v,T,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],v,T,P);return null}return v=go(v),u&&u[De]?u.J(m,v,g(T)?!!T.capture:!1,P):ss(u,m,v,!1,T,P)}function ss(u,m,v,T,P,B){if(!m)throw Error("Invalid event type");const J=g(P)?!!P.capture:!!P;let Tt=as(u);if(Tt||(u[Mt]=Tt=new rt(u)),v=Tt.add(m,v,T,J,B),v.proxy)return v;if(T=Ys(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(P=J),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(ti(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ys(){function u(v){return m.call(u.src,u.listener,v)}const m=fo;return u}function Xs(u,m,v,T,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)Xs(u,m[B],v,T,P);else T=g(T)?!!T.capture:!!T,v=go(v),u&&u[De]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,P),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=as(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,P)),(v=u>-1?m[u]:null)&&$s(v))}function $s(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])pt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ti(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=as(m))?(pt(v,u),v.h==0&&(v.src=null,m[Mt]=null)):ut(u)}}}function ti(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function fo(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&$s(u),u=v.call(T,m)}return u}function as(u){return u=u[Mt],u instanceof rt?u:null}var mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function go(u){return typeof u=="function"?u:(u[mo]||(u[mo]=function(m){return u.handleEvent(m)}),u[mo])}function ye(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}S(ye,M),ye.prototype[De]=!0,ye.prototype.removeEventListener=function(u,m,v,T){Xs(this,u,m,v,T)};function Oe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var P=m;m=new O(T,u),nt(m,P)}P=!0;let B,J;if(v)for(J=v.length-1;J>=0;J--)B=m.g=v[J],P=ir(B,T,!0,m)&&P;if(B=m.g=u,P=ir(B,T,!0,m)&&P,P=ir(B,T,!1,m)&&P,v)for(J=0;J<v.length;J++)B=m.g=v[J],P=ir(B,T,!1,m)&&P}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ye.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ir(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const J=m[B];if(J&&!J.da&&J.capture==v){const Tt=J.listener,fe=J.ha||J.src;J.fa&&pt(u.i,J),P=Tt.call(fe,T)!==!1&&P}}return P&&!T.defaultPrevented}function kh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function iu(u){u.g=kh(()=>{u.g=null,u.i&&(u.i=!1,iu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(u){M.call(this),this.h=u,this.g={}}S(os,M);var po=[];function yo(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&$s(m)},u),u.g={}}os.prototype.N=function(){os.Z.N.call(this),yo(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=d.JSON.stringify,zh=d.JSON.parse,ru=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function su(){}function au(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}S(ze,O);function wn(){O.call(this,"c")}S(wn,O);var he={},ou=null;function Zs(){return ou=ou||new ye}he.Ia="serverreachability";function lu(u){O.call(this,he.Ia,u)}S(lu,O);function ei(u){const m=Zs();Oe(m,new lu(m))}he.STAT_EVENT="statevent";function ls(u,m){O.call(this,he.STAT_EVENT,u),this.stat=m}S(ls,O);function _e(u){const m=Zs();Oe(m,new ls(m,u))}he.Ja="timingevent";function ni(u,m){O.call(this,he.Ja,u),this.size=m}S(ni,O);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Bh(u,m,v,T,P,B){u.info(function(){if(u.g)if(B){var J="",Tt=B.split("&");for(let Bt=0;Bt<Tt.length;Bt++){var fe=Tt[Bt].split("=");if(fe.length>1){const se=fe[0];fe=fe[1];const Dn=se.split("_");J=Dn.length>=2&&Dn[1]=="type"?J+(se+"="+fe+"&"):J+(se+"=redacted&")}}}else J=null;else J=B;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+J})}function uu(u,m,v,T,P,B,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+B+" "+J})}function ri(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qh(u,v)+(T?" "+T:"")})}function us(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function qh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return rr(B)}catch{return m}}var cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_o={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vo;function hs(){}S(hs,su),hs.prototype.g=function(){return new XMLHttpRequest},vo=new hs;function Ni(u){return encodeURIComponent(String(u))}function cu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var ve={},xe={};function si(u,m,v){u.M=1,u.A=fs(Te(m)),u.u=v,u.R=!0,Js(u,null)}function Js(u,m){u.F=Date.now(),ai(u),u.B=Te(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),na(v.i,"t",T),u.C=0,v=u.j.L,u.h=new qn,u.g=wu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(po[0]=P.toString()),P=po);for(let B=0;B<P.length;B++){const J=re(v,P[B],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),Bh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Fn(this.g),fe=this.g.ya(),Bt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Tt!=4||fe==7||(fe==8||Bt<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var v=jh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,_e(12),dn(this),Rn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<v.length;)if(se=fu(this,v),se==xe){Tt==4&&(this.m=4,_e(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ve){this.m=4,_e(15),ri(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,se,null),li(this,se);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),xo(J),J.P=!0,_e(11))}}else ri(this.i,this.l,v,null),li(this,v);Tt==4&&dn(this),this.o&&!this.K&&(Tt==4?Tu(this.j,this):(this.o=!1,ai(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),Rn(this)}}}catch{}finally{}};function jh(u){if(!hu(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const T=m.length,P=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(P&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?xe:(v=Number(m.substring(v,T)),isNaN(v)?ve:(T+=1,T+v>m.length?xe:(m=m.slice(T,T+v),u.C=T+v,m)))}Bn.prototype.cancel=function(){this.K=!0,dn(this)};function ai(u){u.T=Date.now()+u.H,Ws(u,u.H)}function Ws(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(_(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(us(this.i,this.B),this.M!=2&&(ei(),_e(17)),dn(this),this.m=2,Rn(this)):Ws(this,this.T-u)};function Rn(u){u.j.I==0||u.K||Tu(u.j,u)}function dn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,yo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ci(v.h,u))){if(!u.L&&ci(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),fr(v);else break t;vs(v),_e(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(_(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((u.L||v.g==u)&&oa(v),!w(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Bt=P[m];const se=Bt[0];if(!(se<=v.K))if(v.K=se,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const Dn=Bt[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const yi=Bt[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Gn=Bt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Qn=u.g;if(Qn){const Es=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Es){var B=T.h;B.g||Es.indexOf("spdy")==-1&&Es.indexOf("quic")==-1&&Es.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ao(B,B.h),B.h=null))}if(T.G){const la=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(T.wa=la,Ht(T.J,T.G,la))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var J=u;if(T.na=bu(T,T.L?T.ba:null,T.W),J.L){So(T.h,J);var Tt=J,fe=T.O;fe&&(Tt.H=fe),Tt.D&&(oi(Tt),ai(Tt)),T.g=J}else vu(T);v.i.length>0&&gi(v)}else Bt[0]!="stop"&&Bt[0]!="close"||pi(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?pi(v,7):Vo(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}ei(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function Eo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function To(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function So(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Eo.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return j(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,B=null;T>=0?(P=u[v].substring(0,T),B=u[v].substring(T+1)):P=u[v],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,sr(this,u.u),this.h=u.h,wo(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),sr(this,m[4]),this.h=hi(m[5]||"",!0),wo(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new or(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ds(m,ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ds(m,ea,!0),"@"),u.push(Ni(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ds(v,v.charAt(0)=="/"?Ro:mu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ds(v,gu)),u.join("")},mn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)sr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let J=0;J<P.length;){const Tt=P[J++];Tt=="."?T&&J==P.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&J==P.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?wo(m,yu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new mn(u)}function Ue(u,m,v){u.j=v?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function sr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function wo(u,m,v){m instanceof or?(u.i=m,ia(u.i,u.l)):(v||(m=ds(m,ar)),u.i=new or(m,u.l))}function Ht(u,m,v){u.i.set(m,v)}function fs(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ds(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,mu=/[#\?:]/g,Ro=/[#\?]/g,ar=/[#\?@]/g,gu=/#/g;function or(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=or.prototype,r.add=function(u,m){sn(this),this.i=null,u=lr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function pu(u,m){sn(u),m=lr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Io(u,m){return sn(u),m=lr(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Co(u,m){sn(u);let v=[];if(typeof m=="string")Io(u,m)&&(v=v.concat(u.g.get(lr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=lr(this,u),Io(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Co(this,u),u.length>0?String(u[0]):m):m};function na(u,m,v){pu(u,m),v.length>0&&(u.i=null,u.g.set(lr(u,m),j(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Ni(v);v=Co(this,v);for(let B=0;B<v.length;B++){let J=P;v[B]!==""&&(J+="="+Ni(v[B])),u.push(J)}}return this.i=u.join("&")};function yu(u){const m=new or;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function lr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(pu(this,T),na(this,P,v))},u)),u.j=m}function jn(u,m){const v=new zn;if(d.Image){const T=new Image;T.onload=A(In,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(In,v,"TestLoadImage: error",!1,m,T),T.onabort=A(In,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(In,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Do(u,m){const v=new zn,T=new AbortController,P=setTimeout(()=>{T.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(P),B.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),In(v,"TestPingServer: error",!1,m)})}function In(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function ur(){this.g=new ru}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(fi,su),fi.prototype.g=function(){return new ms(this.i,this.h)};function ms(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ms,ye),r=ms.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cr(this):Hn(this),this.readyState==3&&ra(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,cr(this))},r.Na=function(u){this.g&&(this.response=u,cr(this))},r.ga=function(){this.g&&cr(this)};function cr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return Lt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function gs(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Cn(v),typeof u=="string"?v!=null&&Ni(v):Ht(u,m,v))}function Kt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,ye);var di=/^https?$/i,No=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vo.g(),this.g.onreadystatechange=C(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){ps(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(No,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of v)this.g.setRequestHeader(B,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){ps(this,B)}};function ps(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),Oi(u)}function Oo(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),Oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ys(this):this.Xa())},r.Xa=function(){ys(this)};function ys(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let J=String(u.D).match(du)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!di.test(J?J.toLowerCase():"")}v=T}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var P=Fn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Oo(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=cu(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[P]||[];m[P]=B,B.push(v)}jt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function hr(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Eo(u&&u.concurrentRequestLimit),this.Ba=new ur,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=hr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){_e(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=bu(this,null,this.W),gi(this)};function Vo(u){if(sa(u),u.I==3){var m=u.V++,v=Te(u.J);if(Ht(v,"SID",u.M),Ht(v,"RID",m),Ht(v,"TYPE","terminate"),_s(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=fs(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}Su(u)}function fr(u){u.g&&(xo(u),u.g.cancel(),u.g=null)}function sa(u){fr(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!To(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||b(),Pt||(Wt(),Pt=!0),D.add(m,u),u.D=0}}function aa(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(_(u.Ea,u,m),Au(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Bn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=_u(this,P,m),v=Te(this.J),Ht(v,"RID",u),Ht(v,"CVER",22),this.G&&Ht(v,"X-HTTP-Session-Id",this.G),_s(this,v),B&&(this.R?m="headers="+Ni(Cn(B))+"&"+m:this.u&&gs(v,this.u,B)),Ao(this.h,P),this.Ra&&Ht(v,"TYPE","init"),this.S?(Ht(v,"$req",m),Ht(v,"SID","null"),P.U=!0,si(P,v,null)):si(P,v,m),this.I=2}}else this.I==3&&(u?Mo(this,u):this.i.length==0||To(this.h)||Mo(this))};function Mo(u,m){var v;m?v=m.l:v=u.V++;const T=Te(u.J);Ht(T,"SID",u.M),Ht(T,"RID",v),Ht(T,"AID",u.K),_s(u,T),u.u&&u.o&&gs(T,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),si(v,T,m)}function _s(u,m){u.H&&Lt(u.H,function(v,T){Ht(m,T,v)}),u.l&&Lt({},function(v,T){Ht(m,T,v)})}function _u(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let Tt=-1;for(;;){const fe=["count="+v];Tt==-1?v>0?(Tt=P[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let Bt=!0;for(let se=0;se<v;se++){var B=P[se].g;const Dn=P[se].map;if(B-=Tt,B<0)Tt=Math.max(0,P[se].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var J=Dn instanceof Map?Dn:Object.entries(Dn);for(const[yi,Gn]of J){let Qn=Gn;g(Gn)&&(Qn=rr(Gn)),fe.push(B+yi+"="+encodeURIComponent(Qn))}}catch(yi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),yi}}catch{T&&T(Dn)}}if(Bt){J=fe.join("&");break t}}J=void 0}return u=u.i.splice(0,v),m.G=u,J}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||b(),Pt||(Wt(),Pt=!0),D.add(m,u),u.A=0}}function vs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(_(u.Da,u),Au(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),fr(this),Eu(this))};function xo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Eu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),_s(u,m),u.u&&u.o&&gs(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=fs(Te(m)),v.u=null,v.R=!0,Js(v,u)}r.Va=function(){this.C!=null&&(this.C=null,fr(this),vs(this),_e(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var v=null;if(u.g==m){oa(u),xo(u),u.g=null;var T=2}else if(ci(u.h,m))v=m.G,So(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Zs(),Oe(T,new ni(T,v)),gi(u)}else vu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&aa(u,m)||T==2&&vs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function Au(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const P=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),fs(T),P?jn(T.toString(),v):Do(T.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),Su(u),sa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Su(u){if(u.I=0,u.ja=[],u.l){const m=bo(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var T=v instanceof mn?Te(v):new mn(v);if(T.g!="")m&&(T.g=m+"."+T.g),sr(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new mn(null);T&&Ue(B,T),m&&(B.g=m),P&&sr(B,P),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Ht(T,v,m),Ht(T,"VER",u.ka),_s(u,T),T}function wu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new fi({ab:v})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function dr(){}dr.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ye.call(this),this.g=new hr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}S(tn,ye),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Vo(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=rr(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&gi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,tn.Z.N.call(this)};function Iu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Iu,ze);function Cu(){wn.call(this),this.status=1}S(Cu,wn);function Mi(u){this.g=u}S(Mi,Ru),Mi.prototype.ra=function(){Oe(this.g,"a")},Mi.prototype.qa=function(u){Oe(this.g,new Iu(u))},Mi.prototype.pa=function(u){Oe(this.g,new Cu)},Mi.prototype.oa=function(){Oe(this.g,"b")},dr.prototype.createWebChannel=dr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,WE=function(){return new dr},JE=function(){return Zs()},ZE=he,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,kc=cs,_o.COMPLETE="complete",$E=_o,au.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Al=au,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,XE=Kt}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const fv="@firebase/firestore",dv="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let so="12.3.0";const js=new Im("@firebase/firestore");function za(){return js.logLevel}function it(r,...t){if(js.logLevel<=Dt.DEBUG){const i=t.map(Nm);js.debug(`Firestore (${so}): ${r}`,...i)}}function Ji(r,...t){if(js.logLevel<=Dt.ERROR){const i=t.map(Nm);js.error(`Firestore (${so}): ${r}`,...i)}}function $a(r,...t){if(js.logLevel<=Dt.WARN){const i=t.map(Nm);js.warn(`Firestore (${so}): ${r}`,...i)}}function Nm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ct(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,tT(r,s,i)}function tT(r,t,i){let s=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ji(s),new Error(s)}function Ut(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||tT(t,l,s)}function _t(r,t){return r}const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends nr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Si{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class eT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Mb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class xb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ub{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ut(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Si,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Si)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ut(typeof s.accessToken=="string",31837,{l:s}),new eT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ut(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class Pb{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lb{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new Pb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ut(this.o===void 0,3512);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ut(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new mv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Om{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=zb(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Nt(r,t){return r<t?-1:r>t?1:0}function om(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Yd(l)===Yd(c)?Nt(l,c):Yd(l)?1:-1}return Nt(r.length,t.length)}const Bb=55296,qb=57343;function Yd(r){const t=r.charCodeAt(0);return t>=Bb&&t<=qb}function Za(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}const gv="__name__";class Ai{constructor(t,i,s){i===void 0?i=0:i>t.length&&ct(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&ct(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=Ai.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const s=Ai.isNumericId(t),l=Ai.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Ai.extractNumericId(t).compare(Ai.extractNumericId(i)):om(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gr.fromString(t.substring(4,t.length-2))}}class Zt extends Ai{construct(t,i,s){return new Zt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new tt(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Zt(i)}static emptyPath(){return new Zt([])}}const jb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ai{construct(t,i,s){return new Qe(t,i,s)}static isValidIdentifier(t){return jb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gv}static keyField(){return new Qe([gv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new tt(G.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new tt(G.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new tt(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new tt(G.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ot{constructor(t){this.path=t}static fromPath(t){return new ot(Zt.fromString(t))}static fromName(t){return new ot(Zt.fromString(t).popFirst(5))}static empty(){return new ot(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Zt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ot(new Zt(t.slice()))}}function nT(r,t,i){if(!i)throw new tt(G.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Hb(r,t,i,s){if(t===!0&&s===!0)throw new tt(G.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function pv(r){if(!ot.isDocumentKey(r))throw new tt(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yv(r){if(ot.isDocumentKey(r))throw new tt(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function iT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function yh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":ct(12329,{type:typeof r})}function fn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new tt(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=yh(r);throw new tt(G.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Gl(r,t){if(!iT(r))throw new tt(G.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new tt(G.INVALID_ARGUMENT,i);return!0}const _v=-62135596800,vv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*vv);return new ne(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new tt(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new tt(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<_v)throw new tt(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tt(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_v;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ce("string",ne._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class dt{static fromTimestamp(t){return new dt(t)}static min(){return new dt(new ne(0,0))}static max(){return new dt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xl=-1;function Fb(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=dt.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new Xr(l,ot.empty(),t)}function Gb(r){return new Xr(r.readTime,r.key,xl)}class Xr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Xr(dt.min(),ot.empty(),xl)}static max(){return new Xr(dt.max(),ot.empty(),xl)}}function Qb(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ot.comparator(r.documentKey,t.documentKey),i!==0?i:Nt(r.largestBatchId,t.largestBatchId))}const Kb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ao(r){if(r.code!==G.FAILED_PRECONDITION||r.message!==Kb)throw r;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,s)=>{i(t)}))}static reject(t){return new X(((i,s)=>{s(t)}))}static waitFor(t){return new X(((i,s)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const s of t)i=i.next((l=>l?X.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new X(((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++g,g===c&&s(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function Xb(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(r){return r.name==="IndexedDbTransactionError"}class _h{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}_h.ce=-1;const Vm=-1;function Ql(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function $b(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const rT="";function Zb(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Ev(t)),t=Jb(r.get(i),t);return Ev(t)}function Jb(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case rT:i+="";break;default:i+=c}}return i}function Ev(r){return r+rT+""}function Tv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function es(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function sT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mc(this.root,t,this.comparator,!0)}}class Mc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Ge(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ct(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ct(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw ct(57766)}get value(){throw ct(16141)}get color(){throw ct(16727)}get left(){throw ct(29726)}get right(){throw ct(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Av(this.data.getIterator())}getIteratorFrom(t){return new Av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class Av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new Me(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class aT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new aT("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const Wb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(r){if(Ut(!!r,39018),typeof r=="string"){let t=0;const i=Wb.exec(r);if(Ut(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zr(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const oT="server_timestamp",lT="__type__",uT="__previous_value__",cT="__local_write_time__";function Mm(r){return(r?.mapValue?.fields||{})[lT]?.stringValue===oT}function vh(r){const t=r.mapValue.fields[uT];return Mm(t)?vh(t):t}function Ul(r){const t=$r(r.mapValue.fields[cT].timestampValue);return new ne(t.seconds,t.nanos)}class tw{constructor(t,i,s,l,c,d,g,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Zc="(default)";class Pl{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}const hT="__type__",ew="__max__",xc={mapValue:{}},fT="__vector__",Jc="value";function Jr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mm(r)?4:iw(r)?9007199254740991:nw(r)?10:11:ct(28295,{value:r})}function Di(r,t){if(r===t)return!0;const i=Jr(r);if(i!==Jr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ul(r).isEqual(Ul(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$r(l.timestampValue),g=$r(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Zr(l.bytesValue).isEqual(Zr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?$c(d)===$c(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Tv(d)!==Tv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Di(d[y],g[y])))return!1;return!0})(r,t);default:return ct(52216,{left:r})}}function Ll(r,t){return(r.values||[]).find((i=>Di(i,t)))!==void 0}function Ja(r,t){if(r===t)return 0;const i=Jr(r),s=Jr(t);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,t);case 3:return Sv(r.timestampValue,t.timestampValue);case 4:return Sv(Ul(r),Ul(t));case 5:return om(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Zr(c),y=Zr(d);return g.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=Nt(g[_],y[_]);if(A!==0)return A}return Nt(g.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Nt(ge(c.latitude),ge(d.latitude));return g!==0?g:Nt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return bv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[Jc]?.arrayValue,A=y[Jc]?.arrayValue,S=Nt(_?.values?.length||0,A?.values?.length||0);return S!==0?S:bv(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const C=om(y[S],A[S]);if(C!==0)return C;const j=Ja(g[y[S]],_[A[S]]);if(j!==0)return j}return Nt(y.length,A.length)})(r.mapValue,t.mapValue);default:throw ct(23264,{he:i})}}function Sv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const i=$r(r),s=$r(t),l=Nt(i.seconds,s.seconds);return l!==0?l:Nt(i.nanos,s.nanos)}function bv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Ja(i[l],s[l]);if(c)return c}return Nt(i.length,s.length)}function Wa(r){return lm(r)}function lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=$r(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Zr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ot.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=lm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${lm(i.fields[d])}`;return l+"}"})(r.mapValue):ct(61005,{value:r})}function zc(r){switch(Jr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vh(r);return t?16+zc(t):16;case 5:return 2*r.stringValue.length;case 6:return Zr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+zc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return es(s.fields,((c,d)=>{l+=c.length+zc(d)})),l})(r.mapValue);default:throw ct(13486,{value:r})}}function wv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function um(r){return!!r&&"integerValue"in r}function xm(r){return!!r&&"arrayValue"in r}function Rv(r){return!!r&&"nullValue"in r}function Iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bc(r){return!!r&&"mapValue"in r}function nw(r){return(r?.mapValue?.fields||{})[hT]?.stringValue===fT}function Il(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return es(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Il(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(r.arrayValue.values[i]);return t}return{...r}}function iw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ew}class nn{constructor(t){this.value=t}static empty(){return new nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=Qe.emptyPath(),s={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=Il(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){es(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new nn(Il(this.value))}}function dT(r){const t=[];return es(r.fields,((i,s)=>{const l=new Qe([i]);if(Bc(s)){const c=dT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Sn(t)}class ke{constructor(t,i,s,l,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new ke(t,0,dt.min(),dt.min(),dt.min(),nn.empty(),0)}static newFoundDocument(t,i,s,l){return new ke(t,1,i,dt.min(),s,l,0)}static newNoDocument(t,i){return new ke(t,2,i,dt.min(),dt.min(),nn.empty(),0)}static newUnknownDocument(t,i){return new ke(t,3,i,dt.min(),dt.min(),nn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function Cv(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ot.comparator(ot.fromName(d.referenceValue),i.key):s=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Dv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Di(r.position[i],t.position[i]))return!1;return!0}class kl{constructor(t,i="asc"){this.field=t,this.dir=i}}function rw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class mT{}class Ie extends mT{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new aw(t,i,s):i==="array-contains"?new uw(t,s):i==="in"?new cw(t,s):i==="not-in"?new hw(t,s):i==="array-contains-any"?new fw(t,s):new Ie(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new ow(t,s):new lw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&Jr(this.value)===Jr(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends mT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Jn(t,i)}matches(t){return gT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gT(r){return r.op==="and"}function pT(r){return sw(r)&&gT(r)}function sw(r){for(const t of r.filters)if(t instanceof Jn)return!1;return!0}function cm(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(pT(r))return r.filters.map((t=>cm(t))).join(",");{const t=r.filters.map((i=>cm(i))).join(",");return`${r.op}(${t})`}}function yT(r,t){return r instanceof Ie?(function(s,l){return l instanceof Ie&&s.op===l.op&&s.field.isEqual(l.field)&&Di(s.value,l.value)})(r,t):r instanceof Jn?(function(s,l){return l instanceof Jn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,g)=>c&&yT(d,l.filters[g])),!0):!1})(r,t):void ct(19439)}function _T(r){return r instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(r):r instanceof Jn?(function(i){return i.op.toString()+" {"+i.getFilters().map(_T).join(" ,")+"}"})(r):"Filter"}class aw extends Ie{constructor(t,i,s){super(t,i,s),this.key=ot.fromName(s.referenceValue)}matches(t){const i=ot.comparator(t.key,this.key);return this.matchesComparison(i)}}class ow extends Ie{constructor(t,i){super(t,"in",i),this.keys=vT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class lw extends Ie{constructor(t,i){super(t,"not-in",i),this.keys=vT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function vT(r,t){return(t.arrayValue?.values||[]).map((i=>ot.fromName(i.referenceValue)))}class uw extends Ie{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return xm(i)&&Ll(i.arrayValue,this.value)}}class cw extends Ie{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ll(this.value.arrayValue,i)}}class hw extends Ie{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ll(this.value.arrayValue,i)}}class fw extends Ie{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Ll(this.value.arrayValue,s)))}}class dw{constructor(t,i=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Nv(r,t=null,i=[],s=[],l=null,c=null,d=null){return new dw(r,t,i,s,l,c,d)}function Um(r){const t=_t(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>cm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Ql(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Wa(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Wa(s))).join(",")),t.Te=i}return t.Te}function Pm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!rw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!yT(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Dv(r.startAt,t.startAt)&&Dv(r.endAt,t.endAt)}function hm(r){return ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class lo{constructor(t,i=null,s=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mw(r,t,i,s,l,c,d,g){return new lo(r,t,i,s,l,c,d,g)}function Eh(r){return new lo(r)}function Ov(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ET(r){return r.collectionGroup!==null}function Cl(r){const t=_t(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new kl(c,s))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new kl(Qe.keyField(),s))}return t.Ie}function bi(r){const t=_t(r);return t.Ee||(t.Ee=gw(t,Cl(r))),t.Ee}function gw(r,t){if(r.limitType==="F")return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new kl(l.field,c)}));const i=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function fm(r,t){const i=r.filters.concat([t]);return new lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function dm(r,t,i){return new lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Th(r,t){return Pm(bi(r),bi(t))&&r.limitType===t.limitType}function TT(r){return`${Um(bi(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>_T(l))).join(", ")}]`),Ql(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Wa(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Wa(l))).join(",")),`Target(${s})`})(bi(r))}; limitType=${r.limitType})`}function Ah(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ot.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Cl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,g,y){const _=Cv(d,g,y);return d.inclusive?_<=0:_<0})(s.startAt,Cl(s),l)||s.endAt&&!(function(d,g,y){const _=Cv(d,g,y);return d.inclusive?_>=0:_>0})(s.endAt,Cl(s),l))})(r,t)}function pw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function AT(r){return(t,i)=>{let s=!1;for(const l of Cl(r)){const c=yw(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function yw(r,t,i){const s=r.field.isKeyField()?ot.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?Ja(y,_):ct(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ct(19790,{direction:r.dir})}}class Gs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){es(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return sT(this.inner)}size(){return this.innerSize}}const _w=new le(ot.comparator);function Wi(){return _w}const ST=new le(ot.comparator);function Sl(...r){let t=ST;for(const i of r)t=t.insert(i.key,i);return t}function bT(r){let t=ST;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function ks(){return Dl()}function wT(){return Dl()}function Dl(){return new Gs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const vw=new le(ot.comparator),Ew=new Me(ot.comparator);function Ot(...r){let t=Ew;for(const i of r)t=t.add(i);return t}const Tw=new Me(Nt);function Aw(){return Tw}function Lm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function RT(r){return{integerValue:""+r}}function Sw(r,t){return $b(t)?RT(t):Lm(r,t)}class Sh{constructor(){this._=void 0}}function bw(r,t,i){return r instanceof th?(function(l,c){const d={fields:{[lT]:{stringValue:oT},[cT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Mm(c)&&(c=vh(c)),c&&(d.fields[uT]=c),{mapValue:d}})(i,t):r instanceof zl?CT(r,t):r instanceof Bl?DT(r,t):(function(l,c){const d=IT(l,c),g=Vv(d)+Vv(l.Ae);return um(d)&&um(l.Ae)?RT(g):Lm(l.serializer,g)})(r,t)}function ww(r,t,i){return r instanceof zl?CT(r,t):r instanceof Bl?DT(r,t):i}function IT(r,t){return r instanceof eh?(function(s){return um(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class th extends Sh{}class zl extends Sh{constructor(t){super(),this.elements=t}}function CT(r,t){const i=NT(t);for(const s of r.elements)i.some((l=>Di(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Bl extends Sh{constructor(t){super(),this.elements=t}}function DT(r,t){let i=NT(t);for(const s of r.elements)i=i.filter((l=>!Di(l,s)));return{arrayValue:{values:i}}}class eh extends Sh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Vv(r){return ge(r.integerValue||r.doubleValue)}function NT(r){return xm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Rw(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof zl&&l instanceof zl||s instanceof Bl&&l instanceof Bl?Za(s.elements,l.elements,Di):s instanceof eh&&l instanceof eh?Di(s.Ae,l.Ae):s instanceof th&&l instanceof th})(r.transform,t.transform)}class Iw{constructor(t,i){this.version=t,this.transformResults=i}}class Ze{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ze}static exists(t){return new Ze(void 0,t)}static updateTime(t){return new Ze(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class bh{}function OT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new wh(r.key,Ze.none()):new Kl(r.key,r.data,Ze.none());{const i=r.data,s=nn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new ns(r.key,s,new Sn(l.toArray()),Ze.none())}}function Cw(r,t,i){r instanceof Kl?(function(l,c,d){const g=l.value.clone(),y=xv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof ns?(function(l,c,d){if(!qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=xv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(VT(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(r,t,i,s){return r instanceof Kl?(function(c,d,g,y){if(!qc(c.precondition,d))return g;const _=c.value.clone(),A=Uv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,s):r instanceof ns?(function(c,d,g,y){if(!qc(c.precondition,d))return g;const _=Uv(c.fieldTransforms,y,d),A=d.data;return A.setAll(VT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,s):(function(c,d,g){return qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function Dw(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=IT(s.transform,l||null);c!=null&&(i===null&&(i=nn.empty()),i.set(s.field,c))}return i||null}function Mv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Za(s,l,((c,d)=>Rw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Kl extends bh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ns extends bh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function VT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function xv(r,t,i){const s=new Map;Ut(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,ww(d,g,i[l]))}return s}function Uv(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,bw(c,d,t))}return s}class wh extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MT extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nw{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Cw(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Nl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Nl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=wT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=OT(d,g);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(dt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,s)=>Mv(i,s)))&&Za(this.baseMutations,t.baseMutations,((i,s)=>Mv(i,s)))}}class km{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Ut(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return vw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new km(t,i,s,l)}}class Ow{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Vw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,xt;function xT(r){switch(r){case G.OK:return ct(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return ct(15467,{code:r})}}function UT(r){if(r===void 0)return Ji("GRPC error has no .code"),G.UNKNOWN;switch(r){case Re.OK:return G.OK;case Re.CANCELLED:return G.CANCELLED;case Re.UNKNOWN:return G.UNKNOWN;case Re.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Re.INTERNAL:return G.INTERNAL;case Re.UNAVAILABLE:return G.UNAVAILABLE;case Re.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Re.NOT_FOUND:return G.NOT_FOUND;case Re.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Re.ABORTED:return G.ABORTED;case Re.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Re.DATA_LOSS:return G.DATA_LOSS;default:return ct(39323,{code:r})}}(xt=Re||(Re={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";function Mw(){return new TextEncoder}const xw=new Gr([4294967295,4294967295],0);function Pv(r){const t=Mw().encode(r),i=new YE;return i.update(t),new Uint8Array(i.digest())}function Lv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gr([i,s],0),new Gr([l,c],0)]}class zm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(s<0)throw new bl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Gr.fromNumber(s)));return l.compare(xw)===1&&(l=new Gr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Pv(t),[s,l]=Lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new zm(c,l,i);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Pv(t),[s,l]=Lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Rh(dt.min(),l,new le(Nt),Wi(),Ot())}}class Yl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Yl(s,i,Ot(),Ot(),Ot())}}class jc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class PT{constructor(t,i){this.targetId=t,this.Ce=i}}class LT{constructor(t,i,s=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class kv{constructor(){this.ve=0,this.Fe=zv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:ct(38017,{changeType:c})}})),new Yl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=zv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Uw{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wi(),this.Je=Uc(),this.He=Uc(),this.Ye=new le(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:ct(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(hm(c))if(s===0){const d=new ot(c.path);this.et(i,d,ke.newNoDocument(d,dt.min()))}else Ut(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Zr(s).toUint8Array()}catch(y){if(y instanceof aT)return $a("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new zm(d,l,c)}catch(y){return $a(y instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&hm(g.target)){const y=new ot(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,ke.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Ot();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Rh(t,i,this.Ye,this.je,s);return this.je=Wi(),this.Je=Uc(),this.He=Uc(),this.Ye=new le(Nt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new kv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new kv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Uc(){return new le(ot.comparator)}function zv(){return new le(ot.comparator)}const Pw={asc:"ASCENDING",desc:"DESCENDING"},Lw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kw={and:"AND",or:"OR"};class zw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function mm(r,t){return r.useProto3Json||Ql(t)?t:{value:t}}function nh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Bw(r,t){return nh(r,t.toTimestamp())}function bn(r){return Ut(!!r,49232),dt.fromTimestamp((function(i){const s=$r(i);return new ne(s.seconds,s.nanos)})(r))}function Bm(r,t){return gm(r,t).canonicalString()}function gm(r,t){const i=(function(l){return new Zt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function zT(r){const t=Zt.fromString(r);return Ut(GT(t),10190,{key:t.toString()}),t}function ih(r,t){return Bm(r.databaseId,t.path)}function Ol(r,t){const i=zT(t);if(i.get(1)!==r.databaseId.projectId)throw new tt(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new tt(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ot(qT(i))}function BT(r,t){return Bm(r.databaseId,t)}function qw(r){const t=zT(r);return t.length===4?Zt.emptyPath():qT(t)}function pm(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function qT(r){return Ut(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Bv(r,t,i){return{name:ih(r,t),fields:i.value.mapValue.fields}}function jw(r,t){return"found"in t?(function(s,l){Ut(!!l.found,43571),l.found.name,l.found.updateTime;const c=Ol(s,l.found.name),d=bn(l.found.updateTime),g=l.found.createTime?bn(l.found.createTime):dt.min(),y=new nn({mapValue:{fields:l.found.fields}});return ke.newFoundDocument(c,d,g,y)})(r,t):"missing"in t?(function(s,l){Ut(!!l.missing,3894),Ut(!!l.readTime,22933);const c=Ol(s,l.missing),d=bn(l.readTime);return ke.newNoDocument(c,d)})(r,t):ct(7234,{result:t})}function Hw(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ct(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Ut(A===void 0||typeof A=="string",58123),Ke.fromBase64String(A||"")):(Ut(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ke.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?G.UNKNOWN:UT(_.code);return new tt(A,_.message||"")})(d);i=new LT(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Ol(r,s.document.name),c=bn(s.document.updateTime),d=s.document.createTime?bn(s.document.createTime):dt.min(),g=new nn({mapValue:{fields:s.document.fields}}),y=ke.newFoundDocument(l,c,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];i=new jc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Ol(r,s.document),c=s.readTime?bn(s.readTime):dt.min(),d=ke.newNoDocument(l,c),g=s.removedTargetIds||[];i=new jc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Ol(r,s.document),c=s.removedTargetIds||[];i=new jc([],c,l,null)}else{if(!("filter"in t))return ct(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new Vw(l,c),g=s.targetId;i=new PT(g,d)}}return i}function jT(r,t){let i;if(t instanceof Kl)i={update:Bv(r,t.key,t.value)};else if(t instanceof wh)i={delete:ih(r,t.key)};else if(t instanceof ns)i={update:Bv(r,t.key,t.data),updateMask:Jw(t.fieldMask)};else{if(!(t instanceof MT))return ct(16599,{Vt:t.type});i={verify:ih(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof eh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ct(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Bw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ct(27497)})(r,t.precondition)),i}function Fw(r,t){return r&&r.length>0?(Ut(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?bn(l.updateTime):bn(c);return d.isEqual(dt.min())&&(d=bn(c)),new Iw(d,l.transformResults||[])})(i,t)))):[]}function Gw(r,t){return{documents:[BT(r,t.path)]}}function Qw(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=BT(r,l);const c=(function(_){if(_.length!==0)return FT(Jn.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(C){return{field:qa(C.field),direction:Xw(C.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=mm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function Kw(r){let t=qw(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Ut(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const C=HT(S);return C instanceof Jn&&pT(C)?C.getFilters():[C]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((C=>(function($){return new kl(ja($.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(C)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let C;return C=typeof S=="object"?S.value:S,Ql(C)?null:C})(i.limit));let y=null;i.startAt&&(y=(function(S){const C=!!S.before,j=S.values||[];return new Wc(j,C)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const C=!S.before,j=S.values||[];return new Wc(j,C)})(i.endAt)),mw(t,l,d,c,g,"F",y,_)}function Yw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function HT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ja(i.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=ja(i.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return Ie.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ct(61313);default:return ct(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ie.create(ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ct(58110);default:return ct(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Jn.create(i.compositeFilter.filters.map((s=>HT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ct(1026)}})(i.compositeFilter.op))})(r):ct(30097,{filter:r})}function Xw(r){return Pw[r]}function $w(r){return Lw[r]}function Zw(r){return kw[r]}function qa(r){return{fieldPath:r.canonicalString()}}function ja(r){return Qe.fromServerFormat(r.fieldPath)}function FT(r){return r instanceof Ie?(function(i){if(i.op==="=="){if(Iv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(Rv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Iv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(Rv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:$w(i.op),value:i.value}}})(r):r instanceof Jn?(function(i){const s=i.getFilters().map((l=>FT(l)));return s.length===1?s[0]:{compositeFilter:{op:Zw(i.op),filters:s}}})(r):ct(54877,{filter:r})}function Jw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function GT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class qr{constructor(t,i,s,l,c=dt.min(),d=dt.min(),g=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Ww{constructor(t){this.yt=t}}function tR(r){const t=Kw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(t,t.limit,"L"):t}class eR{constructor(){this.Cn=new nR}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Xr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Xr.min())}updateCollectionGroup(t,i,s){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class nR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Me(Zt.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Me(Zt.comparator)).toArray()}}const qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QT=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(QT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class to{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}const jv="LruGarbageCollector",iR=1048576;function Hv([r,t],[i,s]){const l=Nt(r,i);return l===0?Nt(t,s):l}class rR{constructor(t){this.Ir=t,this.buffer=new Me(Hv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Hv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(jv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?it(jv,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Vr(3e5)}))}}class aR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(_h.ce);const s=new rR(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(qv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,g,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,g=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(_=Date.now(),za()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function oR(r,t){return new aR(r,t)}class lR{constructor(){this.changes=new Gs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,ke.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class uR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class cR{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Nl(s.mutation,l,Sn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ot()){const l=ks();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Sl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=ks();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ot())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,s,l){let c=Wi();const d=Dl(),g=(function(){return Dl()})();return i.forEach(((y,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof ns)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Nl(A.mutation,_,A.mutation.getFieldMask(),ne.now())):d.set(_.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new uR(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const s=Dl();let l=new le(((d,g)=>d-g)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=s.get(y)||Sn.empty();A=g.applyToLocalView(_,A),s.set(y,A);const S=(l.get(g.batchId)||Ot()).add(y);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,S=wT();A.forEach((C=>{if(!c.has(C)){const j=OT(i.get(C),s.get(C));j!==null&&S.set(C,j),c=c.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ET(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):X.resolve(ks());let g=xl,y=c;return d.next((_=>X.forEach(_,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((C=>{y=y.insert(A,C)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ot()))).next((A=>({batchId:g,changes:bT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ot(i)).next((s=>{let l=Sl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(y=>{const _=(function(S,C){return new lo(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((A=>{A.forEach(((S,C)=>{d=d.insert(S,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,ke.newInvalidDocument(A)))}));let g=Sl();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Nl(A.mutation,_,Sn.empty(),ne.now()),Ah(i,_)&&(g=g.insert(y,_))})),g}))}}class hR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:bn(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:tR(l.bundledQuery),readTime:bn(l.readTime)}})(i)),X.resolve()}}class fR{constructor(){this.overlays=new le(ot.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const s=ks();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(t,i,s){const l=ks(),c=i.length+1,d=new ot(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new le(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=ks(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=ks(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=l)););return X.resolve(g)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Ow(i,s));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class dR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class qm{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Le(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new ot(new Zt([])),s=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ot(new Zt([])),s=new Le(i,t),l=new Le(i,t+1);let c=Ot();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ot.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||ot.comparator(t.key,i.key)}}class mR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Nw(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Vm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Me(Nt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ot.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ot(c),0);let g=new Me(Nt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ut(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Le(i,0),l=this.Zr.firstAfterOrEqual(s);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class gR{constructor(t){this.ri=t,this.docs=(function(){return new le(ot.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():ke.newInvalidDocument(i))}getEntries(t,i){let s=Wi();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():ke.newInvalidDocument(l))})),X.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=Wi();const d=i.path,g=new ot(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Qb(Gb(A),s)<=0||(l.has(A.key)||Ah(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,s,l){ct(9500)}ii(t,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new pR(this)}getSize(t){return X.resolve(this.size)}}class pR extends lR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class yR{constructor(t){this.persistence=t,this.si=new Gs((i=>Um(i)),Pm),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.oi=0,this._i=new qm,this.targetCount=0,this.ai=to.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new to(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return X.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),X.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return X.resolve(s)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class KT{constructor(t,i){this.ui={},this.overlays={},this.ci=new _h(0),this.li=!1,this.li=!0,this.hi=new dR,this.referenceDelegate=t(this),this.Pi=new yR(this),this.indexManager=new eR,this.remoteDocumentCache=(function(l){return new gR(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Ww(i),this.Ii=new hR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new fR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new mR(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){it("MemoryPersistence","Starting transaction:",t);const l=new _R(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class _R extends Yb{constructor(t){super(),this.currentSequenceNumber=t}}class jm{constructor(t){this.persistence=t,this.Ri=new qm,this.Vi=null}static mi(t){return new jm(t)}get fi(){if(this.Vi)return this.Vi;throw ct(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),X.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const l=ot.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,dt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.pi=new Gs((s=>Zb(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=oR(this,i)}static mi(t,i){return new rh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(s++,c.removeEntry(d,dt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}br(t,i,s){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Hm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hm(t,i.fromCache,s,l)}}class vR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ER{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return d1()?8:Xb(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new vR;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(za()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(za()<=Dt.DEBUG&&it("QueryEngine","Query:",Ba(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(za()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(i))):X.resolve())}ys(t,i){if(Ov(i))return X.resolve(null);let s=bi(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=dm(i,null,"F"),s=bi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,dm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,s,l){return Ov(i)||l.isEqual(dt.min())?X.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?X.resolve(null):(za()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ba(i)),this.vs(t,d,i,Fb(l,xl)).next((g=>g)))}))}Ds(t,i){let s=new Me(AT(t));return i.forEach(((l,c)=>{Ah(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return za()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ba(i)),this.ps.getDocumentsMatchingQuery(t,i,Xr.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Fm="LocalStore",TR=3e8;class AR{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(Nt),this.xs=new Gs((c=>Um(c)),Pm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function SR(r,t,i,s){return new AR(r,t,i,s)}async function YT(r,t){const i=_t(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let y=Ot();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(s,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function bR(r,t){const i=_t(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,A){const S=_.batch,C=S.keys();let j=X.resolve();return C.forEach(($=>{j=j.next((()=>A.getEntry(y,$))).next((W=>{const Z=_.docVersions.get($);Ut(Z!==null,48541),W.version.compareTo(Z)<0&&(S.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),A.addEntry(W)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=Ot();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function XT(r){const t=_t(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function wR(r,t){const i=_t(r),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((A,S)=>{const C=l.get(S);if(!C)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let j=C.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?j=j.withResumeToken(Ke.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),l=l.insert(S,j),(function(W,Z,ht){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=TR?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(C,j,A)&&g.push(i.Pi.updateTargetData(c,j))}));let y=Wi(),_=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(RR(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!s.isEqual(dt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(A)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function RR(r,t,i){let s=Ot(),l=Ot();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=Wi();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(dt.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):it(Fm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function IR(r,t){const i=_t(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Vm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function CR(r,t){const i=_t(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new qr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function ym(r,t,i){const s=_t(r),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;it(Fm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function Fv(r,t,i){const s=_t(r);let l=dt.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const S=_t(y),C=S.xs.get(A);return C!==void 0?X.resolve(S.Ms.get(C)):S.Pi.getTargetData(_,A)})(s,d,bi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:dt.min(),i?c:Ot()))).next((g=>(DR(s,pw(t),g),{documents:g,Qs:c})))))}function DR(r,t,i){let s=r.Os.get(t)||dt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(t,s)}class Gv{constructor(){this.activeTargetIds=Aw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class NR{constructor(){this.Mo=new Gv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Gv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class OR{Oo(t){}shutdown(){}}const Qv="ConnectivityMonitor";class Kv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(Qv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(Qv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function _m(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const Xd="RestConnection",VR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Zc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=_m(),g=this.zo(t,i.toUriEncodedString());it(Xd,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),A=io(_);return this.Jo(t,g,y,s,A).then((S=>(it(Xd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw $a(Xd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=VR[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class xR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class UR extends MR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=_m();return new Promise(((g,y)=>{const _=new XE;_.setWithCredentials(!0),_.listenOnce($E.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case kc.NO_ERROR:const S=_.getResponseJson();it(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case kc.TIMEOUT:it(Xe,`RPC '${t}' ${d} timed out`),y(new tt(G.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const C=_.getStatus();if(it(Xe,`RPC '${t}' ${d} failed with status:`,C,"response text:",_.getResponseText()),C>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const $=j?.error;if($&&$.status&&$.message){const W=(function(ht){const Et=ht.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(Et)>=0?Et:G.UNKNOWN})($.status);y(new tt(W,$.message))}else y(new tt(G.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new tt(G.UNAVAILABLE,"Connection failed."));break;default:ct(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,s,15)}))}T_(t,i,s){const l=_m(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=WE(),g=JE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const A=c.join("");it(Xe,`Creating RPC '${t}' stream ${l}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let C=!1,j=!1;const $=new xR({Yo:Z=>{j?it(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(C||(it(Xe,`Opening RPC '${t}' stream ${l} transport.`),S.open(),C=!0),it(Xe,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),W=(Z,ht,Et)=>{Z.listen(ht,(gt=>{try{Et(gt)}catch(Qt){setTimeout((()=>{throw Qt}),0)}}))};return W(S,Al.EventType.OPEN,(()=>{j||(it(Xe,`RPC '${t}' stream ${l} transport opened.`),$.o_())})),W(S,Al.EventType.CLOSE,(()=>{j||(j=!0,it(Xe,`RPC '${t}' stream ${l} transport closed`),$.a_(),this.E_(S))})),W(S,Al.EventType.ERROR,(Z=>{j||(j=!0,$a(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),$.a_(new tt(G.UNAVAILABLE,"The operation could not be completed")))})),W(S,Al.EventType.MESSAGE,(Z=>{if(!j){const ht=Z.data[0];Ut(!!ht,16349);const Et=ht,gt=Et?.error||Et[0]?.error;if(gt){it(Xe,`RPC '${t}' stream ${l} received error:`,gt);const Qt=gt.status;let Wt=(function(b){const I=Re[b];if(I!==void 0)return UT(I)})(Qt),Pt=gt.message;Wt===void 0&&(Wt=G.INTERNAL,Pt="Unknown error status: "+Qt+" with message "+gt.message),j=!0,$.a_(new tt(Wt,Pt)),S.close()}else it(Xe,`RPC '${t}' stream ${l} received:`,ht),$.u_(ht)}})),W(g,ZE.STAT_EVENT,(Z=>{Z.stat===am.PROXY?it(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===am.NOPROXY&&it(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function $d(){return typeof document<"u"?document:null}function Ih(r){return new zw(r,!0)}class Gm{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Yv="PersistentStream";class $T{constructor(t,i,s,l,c,d,g,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Gm(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===G.RESOURCE_EXHAUSTED?(Ji(i.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new tt(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(Yv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(Yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PR extends $T{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Hw(this.serializer,t),s=(function(c){if(!("targetChange"in c))return dt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?dt.min():d.readTime?bn(d.readTime):dt.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=hm(y)?{documents:Gw(c,y)}:{query:Qw(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=kT(c,d.resumeToken);const _=mm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(dt.min())>0){g.readTime=nh(c,d.snapshotVersion.toTimestamp());const _=mm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const s=Yw(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=pm(this.serializer),i.removeTarget=t,this.q_(i)}}class LR extends $T{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ut(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ut(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ut(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Fw(t.writeResults,t.commitTime),s=bn(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=pm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>jT(this.serializer,s)))};this.q_(i)}}class kR{}class zR extends kR{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new tt(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,gm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new tt(G.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,gm(i,s),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new tt(G.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hs="RemoteStore";class qR{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Qs(this)&&(it(Hs,"Restarting streams for network reachability change."),await(async function(y){const _=_t(y);_.Ea.add(4),await Xl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ch(_)})(this))}))})),this.Ra=new BR(s,l)}}async function Ch(r){if(Qs(r))for(const t of r.da)await t(!0)}async function Xl(r){for(const t of r.da)await t(!1)}function ZT(r,t){const i=_t(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Xm(i)?Ym(i):uo(i).O_()&&Km(i,t))}function Qm(r,t){const i=_t(r),s=uo(i);i.Ia.delete(t),s.O_()&&JT(i,t),i.Ia.size===0&&(s.O_()?s.L_():Qs(i)&&i.Ra.set("Unknown"))}function Km(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(dt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}uo(r).Y_(t)}function JT(r,t){r.Va.Ue(t),uo(r).Z_(t)}function Ym(r){r.Va=new Uw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),uo(r).start(),r.Ra.ua()}function Xm(r){return Qs(r)&&!uo(r).x_()&&r.Ia.size>0}function Qs(r){return _t(r).Ea.size===0}function WT(r){r.Va=void 0}async function jR(r){r.Ra.set("Online")}async function HR(r){r.Ia.forEach(((t,i)=>{Km(r,t)}))}async function FR(r,t){WT(r),Xm(r)?(r.Ra.ha(t),Ym(r)):r.Ra.set("Unknown")}async function GR(r,t,i){if(r.Ra.set("Online"),t instanceof LT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(s){it(Hs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await sh(r,s)}else if(t instanceof jc?r.Va.Ze(t):t instanceof PT?r.Va.st(t):r.Va.tt(t),!i.isEqual(dt.min()))try{const s=await XT(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Ke.EMPTY_BYTE_STRING,A.snapshotVersion)),JT(c,y);const S=new qr(A.target,y,_,A.sequenceNumber);Km(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){it(Hs,"Failed to raise snapshot:",s),await sh(r,s)}}async function sh(r,t,i){if(!oo(t))throw t;r.Ea.add(1),await Xl(r),r.Ra.set("Offline"),i||(i=()=>XT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Hs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ch(r)}))}function t0(r,t){return t().catch((i=>sh(r,i,t)))}async function Dh(r){const t=_t(r),i=Wr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Vm;for(;QR(t);)try{const l=await IR(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,KR(t,l)}catch(l){await sh(t,l)}e0(t)&&n0(t)}function QR(r){return Qs(r)&&r.Ta.length<10}function KR(r,t){r.Ta.push(t);const i=Wr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function e0(r){return Qs(r)&&!Wr(r).x_()&&r.Ta.length>0}function n0(r){Wr(r).start()}async function YR(r){Wr(r).ra()}async function XR(r){const t=Wr(r);for(const i of r.Ta)t.ea(i.mutations)}async function $R(r,t,i){const s=r.Ta.shift(),l=km.from(s,t,i);await t0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Dh(r)}async function ZR(r,t){t&&Wr(r).X_&&await(async function(s,l){if((function(d){return xT(d)&&d!==G.ABORTED})(l.code)){const c=s.Ta.shift();Wr(s).B_(),await t0(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Dh(s)}})(r,t),e0(r)&&n0(r)}async function Xv(r,t){const i=_t(r);i.asyncQueue.verifyOperationInProgress(),it(Hs,"RemoteStore received new credentials");const s=Qs(i);i.Ea.add(3),await Xl(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ch(i)}async function JR(r,t){const i=_t(r);t?(i.Ea.delete(2),await Ch(i)):t||(i.Ea.add(2),await Xl(i),i.Ra.set("Unknown"))}function uo(r){return r.ma||(r.ma=(function(i,s,l){const c=_t(i);return c.sa(),new PR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:jR.bind(null,r),t_:HR.bind(null,r),r_:FR.bind(null,r),H_:GR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Xm(r)?Ym(r):r.Ra.set("Unknown")):(await r.ma.stop(),WT(r))}))),r.ma}function Wr(r){return r.fa||(r.fa=(function(i,s,l){const c=_t(i);return c.sa(),new LR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:YR.bind(null,r),r_:ZR.bind(null,r),ta:XR.bind(null,r),na:$R.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Dh(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Hs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class $m{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,g=new $m(t,i,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new tt(G.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(r,t){if(Ji("AsyncQueue",`${t}: ${r}`),oo(r))return new tt(G.UNAVAILABLE,`${t}: ${r}`);throw r}class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ot.comparator(i.key,s.key):(i,s)=>ot.comparator(i.key,s.key),this.keyedMap=Sl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ga;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class $v{constructor(){this.ga=new le(ot.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):ct(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class eo{constructor(t,i,s,l,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new eo(t,i,Ga.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class WR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class tI{constructor(){this.queries=Zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=_t(i),c=l.queries;l.queries=Zv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new tt(G.ABORTED,"Firestore shutting down"))}}function Zv(){return new Gs((r=>TT(r)),Th)}async function Jm(r,t){const i=_t(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new WR,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Zm(d,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&tg(i)}async function Wm(r,t){const i=_t(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function eI(r,t){const i=_t(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&tg(i)}function nI(r,t,i){const s=_t(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function tg(r){r.Ca.forEach((t=>{t.next()}))}var vm,Jv;(Jv=vm||(vm={})).Ma="default",Jv.Cache="cache";class eg{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new eo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vm.Cache}}class i0{constructor(t){this.key=t}}class r0{constructor(t){this.key=t}}class iI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=AT(t),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new $v,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const C=l.get(A),j=Ah(this.query,S)?S:null,$=!!C&&this.mutatedKeys.has(C.key),W=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;C&&j?C.data.isEqual(j.data)?$!==W&&(s.track({type:3,doc:j}),Z=!0):this.su(C,j)||(s.track({type:2,doc:j}),Z=!0,(y&&this.eu(j,y)>0||_&&this.eu(j,_)<0)&&(g=!0)):!C&&j?(s.track({type:0,doc:j}),Z=!0):C&&!j&&(s.track({type:1,doc:C}),Z=!0,(y||_)&&(g=!0)),Z&&(j?(d=d.add(j),c=W?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(j,$){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct(20277,{Rt:Z})}};return W(j)-W($)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new eo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new r0(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new i0(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ng="SyncEngine";class rI{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class sI{constructor(t){this.key=t,this.hu=!1}}class aI{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gs((g=>TT(g)),Th),this.Iu=new Map,this.Eu=new Set,this.du=new le(ot.comparator),this.Au=new Map,this.Ru=new qm,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oI(r,t,i=!0){const s=c0(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await s0(s,t,i,!0),l}async function lI(r,t){const i=c0(r);await s0(i,t,!0,!1)}async function s0(r,t,i,s){const l=await CR(r.localStore,bi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await uI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&ZT(r.remoteStore,l),g}async function uI(r,t,i,s,l){r.pu=(S,C,j)=>(async function(W,Z,ht,Et){let gt=Z.view.ru(ht);gt.Cs&&(gt=await Fv(W.localStore,Z.query,!1).then((({documents:D})=>Z.view.ru(D,gt))));const Qt=Et&&Et.targetChanges.get(Z.targetId),Wt=Et&&Et.targetMismatches.get(Z.targetId)!=null,Pt=Z.view.applyChanges(gt,W.isPrimaryClient,Qt,Wt);return tE(W,Z.targetId,Pt.au),Pt.snapshot})(r,S,C,j);const c=await Fv(r.localStore,t,!0),d=new iI(t,c.Qs),g=d.ru(c.documents),y=Yl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,y);tE(r,i,_.au);const A=new rI(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function cI(r,t,i){const s=_t(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Th(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await ym(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Qm(s.remoteStore,l.targetId),Em(s,l.targetId)})).catch(ao)):(Em(s,l.targetId),await ym(s.localStore,l.targetId,!0))}async function hI(r,t){const i=_t(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Qm(i.remoteStore,s.targetId))}async function fI(r,t,i){const s=vI(r);try{const l=await(function(d,g){const y=_t(d),_=ne.now(),A=g.reduce(((j,$)=>j.add($.key)),Ot());let S,C;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let $=Wi(),W=Ot();return y.Ns.getEntries(j,A).next((Z=>{$=Z,$.forEach(((ht,Et)=>{Et.isValidDocument()||(W=W.add(ht))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,$))).next((Z=>{S=Z;const ht=[];for(const Et of g){const gt=Dw(Et,S.get(Et.key).overlayedDocument);gt!=null&&ht.push(new ns(Et.key,gt,dT(gt.value.mapValue),Ze.exists(!0)))}return y.mutationQueue.addMutationBatch(j,_,ht,g)})).next((Z=>{C=Z;const ht=Z.applyToLocalDocumentSet(S,W);return y.documentOverlayCache.saveOverlays(j,Z.batchId,ht)}))})).then((()=>({batchId:C.batchId,changes:bT(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new le(Nt)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,i),await $l(s,l.changes),await Dh(s.remoteStore)}catch(l){const c=Zm(l,"Failed to persist write");i.reject(c)}}async function a0(r,t){const i=_t(r);try{const s=await wR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ut(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ut(d.hu,14607):l.removedDocuments.size>0&&(Ut(d.hu,42227),d.hu=!1))})),await $l(i,s,t)}catch(s){await ao(s)}}function Wv(r,t,i){const s=_t(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=_t(d);y.onlineState=g;let _=!1;y.queries.forEach(((A,S)=>{for(const C of S.Sa)C.va(g)&&(_=!0)})),_&&tg(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function dI(r,t,i){const s=_t(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new le(ot.comparator);d=d.insert(c,ke.newNoDocument(c,dt.min()));const g=Ot().add(c),y=new Rh(dt.min(),new Map,new le(Nt),d,g);await a0(s,y),s.du=s.du.remove(c),s.Au.delete(t),ig(s)}else await ym(s.localStore,t,!1).then((()=>Em(s,t,i))).catch(ao)}async function mI(r,t){const i=_t(r),s=t.batch.batchId;try{const l=await bR(i.localStore,t);l0(i,s,null),o0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await $l(i,l)}catch(l){await ao(l)}}async function gI(r,t,i){const s=_t(r);try{const l=await(function(d,g){const y=_t(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next((S=>(Ut(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(s.localStore,t);l0(s,t,i),o0(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await $l(s,l)}catch(l){await ao(l)}}function o0(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function l0(r,t,i){const s=_t(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Em(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||u0(r,s)}))}function u0(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Qm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ig(r))}function tE(r,t,i){for(const s of i)s instanceof i0?(r.Ru.addReference(s.key,t),pI(r,s)):s instanceof r0?(it(ng,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||u0(r,s.key)):ct(19791,{wu:s})}function pI(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(it(ng,"New document in limbo: "+i),r.Eu.add(s),ig(r))}function ig(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ot(Zt.fromString(t)),s=r.fu.next();r.Au.set(s,new sI(i)),r.du=r.du.insert(i,s),ZT(r.remoteStore,new qr(bi(Eh(i.path)),s,"TargetPurposeLimboResolution",_h.ce))}}async function $l(r,t,i){const s=_t(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,t,i).then((_=>{if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Hm.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,_){const A=_t(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(C=>X.forEach(C.Es,(j=>A.persistence.referenceDelegate.addReference(S,C.targetId,j))).next((()=>X.forEach(C.ds,(j=>A.persistence.referenceDelegate.removeReference(S,C.targetId,j)))))))))}catch(S){if(!oo(S))throw S;it(Fm,"Failed to update sequence numbers: "+S)}for(const S of _){const C=S.targetId;if(!S.fromCache){const j=A.Ms.get(C),$=j.snapshotVersion,W=j.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(C,W)}}})(s.localStore,c))}async function yI(r,t){const i=_t(r);if(!i.currentUser.isEqual(t)){it(ng,"User change. New user:",t.toKey());const s=await YT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new tt(G.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await $l(i,s.Ls)}}function _I(r,t){const i=_t(r),s=i.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function c0(r){const t=_t(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=a0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_I.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dI.bind(null,t),t.Pu.H_=eI.bind(null,t.eventManager),t.Pu.yu=nI.bind(null,t.eventManager),t}function vI(r){const t=_t(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gI.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ih(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return SR(this.persistence,new ER,t.initialUser,this.serializer)}Cu(t){return new KT(jm.mi,this.serializer)}Du(t){return new NR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class EI extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ut(this.persistence.referenceDelegate instanceof rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new sR(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new KT((s=>rh.mi(s,i)),this.serializer)}}class Tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Wv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yI.bind(null,this.syncEngine),await JR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new tI})()}createDatastore(t){const i=Ih(t.databaseInfo.databaseId),s=(function(c){return new UR(c)})(t.databaseInfo);return(function(c,d,g,y){return new zR(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,g){return new qR(s,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Wv(this.syncEngine,i,0)),(function(){return Kv.v()?new Kv:new OR})())}createSyncEngine(t,i){return(function(l,c,d,g,y,_,A){const S=new aI(l,c,d,g,y,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=_t(i);it(Hs,"RemoteStore shutting down."),s.Ea.add(5),await Xl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class rg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}class TI{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new tt(G.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(l,c){const d=_t(l),g={documents:c.map((S=>ih(d.serializer,S)))},y=await d.Ho("BatchGetDocuments",d.serializer.databaseId,Zt.emptyPath(),g,c.length),_=new Map;y.forEach((S=>{const C=jw(d.serializer,S);_.set(C.key.toString(),C)}));const A=[];return c.forEach((S=>{const C=_.get(S.toString());Ut(!!C,55234,{key:S}),A.push(C)})),A})(this.datastore,t);return i.forEach((s=>this.recordVersion(s))),i}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new wh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((i=>{t.delete(i.key.toString())})),t.forEach(((i,s)=>{const l=ot.fromPath(s);this.mutations.push(new MT(l,this.precondition(l)))})),await(async function(s,l){const c=_t(s),d={writes:l.map((g=>jT(c.serializer,g)))};await c.Go("Commit",c.serializer.databaseId,Zt.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw ct(50498,{Gu:t.constructor.name});i=dt.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!i.isEqual(s))throw new tt(G.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(dt.min())?Ze.exists(!1):Ze.updateTime(i):Ze.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(dt.min()))throw new tt(G.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ze.updateTime(i)}return Ze.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class AI{constructor(t,i,s,l,c){this.asyncQueue=t,this.datastore=i,this.options=s,this.updateFunction=l,this.deferred=c,this.zu=s.maxAttempts,this.M_=new Gm(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new TI(this.datastore),i=this.Hu(t);i&&i.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((l=>{this.Yu(l)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(t){try{const i=this.updateFunction(t);return!Ql(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const i=t.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!xT(i)}return!1}}const ts="FirestoreClient";class SI{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{it(ts,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(ts,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Zm(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Zd(r,t){r.asyncQueue.verifyOperationInProgress(),it(ts,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await YT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function eE(r,t){r.asyncQueue.verifyOperationInProgress();const i=await bI(r);it(ts,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>Xv(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>Xv(t.remoteStore,l))),r._onlineComponents=t}async function bI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(ts,"Using user provided OfflineComponentProvider");try{await Zd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===G.FAILED_PRECONDITION||l.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await Zd(r,new ah)}}else it(ts,"Using default OfflineComponentProvider"),await Zd(r,new EI(void 0));return r._offlineComponents}async function sg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(ts,"Using user provided OnlineComponentProvider"),await eE(r,r._uninitializedComponentsProvider._online)):(it(ts,"Using default OnlineComponentProvider"),await eE(r,new Tm))),r._onlineComponents}function wI(r){return sg(r).then((t=>t.syncEngine))}function RI(r){return sg(r).then((t=>t.datastore))}async function oh(r){const t=await sg(r),i=t.eventManager;return i.onListen=oI.bind(null,t.syncEngine),i.onUnlisten=cI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=lI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=hI.bind(null,t.syncEngine),i}function II(r,t,i={}){const s=new Si;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const A=new rg({next:C=>{A.Nu(),d.enqueueAndForget((()=>Wm(c,S)));const j=C.docs.has(g);!j&&C.fromCache?_.reject(new tt(G.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&C.fromCache&&y&&y.source==="server"?_.reject(new tt(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(C)},error:C=>_.reject(C)}),S=new eg(Eh(g.path),A,{includeMetadataChanges:!0,qa:!0});return Jm(c,S)})(await oh(r),r.asyncQueue,t,i,s))),s.promise}function CI(r,t,i={}){const s=new Si;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const A=new rg({next:C=>{A.Nu(),d.enqueueAndForget((()=>Wm(c,S))),C.fromCache&&y.source==="server"?_.reject(new tt(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(C)},error:C=>_.reject(C)}),S=new eg(g,A,{includeMetadataChanges:!0,qa:!0});return Jm(c,S)})(await oh(r),r.asyncQueue,t,i,s))),s.promise}function h0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const nE=new Map;const f0="firestore.googleapis.com",iE=!0;class rE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new tt(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=f0,this.ssl=iE}else this.host=t.host,this.ssl=t.ssl??iE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=QT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<iR)throw new tt(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Hb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new tt(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new tt(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new tt(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tt(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new tt(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Mb;switch(s.type){case"firstParty":return new Lb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new tt(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=nE.get(i);s&&(it("ComponentProvider","Removing Datastore"),nE.delete(i),s.terminate())})(this),Promise.resolve()}}function DI(r,t,i,s={}){r=fn(r,Nh);const l=io(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(BE(`https://${g}`),qE("Firestore",!0)),c.host!==f0&&c.host!==g&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:s};if(!Bs(y,d)&&(r._setSettings(y),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=$e.MOCK_USER;else{_=r1(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new tt(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $e(S)}r._authCredentials=new xb(new eT(_,A))}}class is{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new is(this.firestore,t,this._query)}}class oe{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new oe(this.firestore,t,this._key)}toJSON(){return{type:oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Gl(i,oe._jsonSchema))return new oe(t,s||null,new ot(Zt.fromString(i.referencePath)))}}oe._jsonSchemaVersion="firestore/documentReference/1.0",oe._jsonSchema={type:Ce("string",oe._jsonSchemaVersion),referencePath:Ce("string")};class Qr extends is{constructor(t,i,s){super(t,i,Eh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new oe(this.firestore,null,new ot(t))}withConverter(t){return new Qr(this.firestore,t,this._path)}}function sE(r,t,...i){if(r=pe(r),nT("collection","path",t),r instanceof Nh){const s=Zt.fromString(t,...i);return yv(s),new Qr(r,null,s)}{if(!(r instanceof oe||r instanceof Qr))throw new tt(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...i));return yv(s),new Qr(r.firestore,null,s)}}function vl(r,t,...i){if(r=pe(r),arguments.length===1&&(t=Om.newId()),nT("doc","path",t),r instanceof Nh){const s=Zt.fromString(t,...i);return pv(s),new oe(r,null,new ot(s))}{if(!(r instanceof oe||r instanceof Qr))throw new tt(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...i));return pv(s),new oe(r.firestore,r instanceof Qr?r.converter:null,new ot(s))}}const aE="AsyncQueue";class oE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Gm(this,"async_queue_retry"),this._c=()=>{const s=$d();s&&it(aE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Si;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;it(aE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",lE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=$m.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ct(47125,{Pc:lE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function lE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function uE(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class tr extends Nh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new oE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new oE(t),this._firestoreClient=void 0,await t}}}function NI(r,t){const i=typeof r=="object"?r:GE(),s=typeof r=="string"?r:Zc,l=Dm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=n1("firestore");c&&DI(l,...c)}return l}function Zl(r){if(r._terminated)throw new tt(G.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||OI(r),r._firestoreClient}function OI(r){const t=r._freezeSettings(),i=(function(l,c,d,g){return new tw(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,h0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new SI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class An{constructor(t){this._byteString=t}static fromBase64String(t){try{return new An(Ke.fromBase64String(t))}catch(i){throw new tt(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new An(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:An._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,An._jsonSchema))return An.fromBase64String(t.bytes)}}An._jsonSchemaVersion="firestore/bytes/1.0",An._jsonSchema={type:Ce("string",An._jsonSchemaVersion),bytes:Ce("string")};class Jl{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new tt(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ag{constructor(t){this._methodName=t}}class wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new tt(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new tt(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ce("string",wi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Ri{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ri(t.vectorValues);throw new tt(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:Ce("string",Ri._jsonSchemaVersion),vectorValues:Ce("object")};const VI=/^__.*__$/;class MI{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new ns(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(t,this.data,i,this.fieldTransforms)}}class d0{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new ns(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function m0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct(40011,{Ac:r})}}class og{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new og({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return lh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(m0(this.Ac)&&VI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class xI{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Ih(t)}Cc(t,i,s,l=!1){return new og({Ac:t,methodName:i,Dc:s,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(r){const t=r._freezeSettings(),i=Ih(r._databaseId);return new xI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function g0(r,t,i,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);lg("Data must be an object, but it was:",d,s);const g=_0(s,d);let y,_;if(c.merge)y=new Sn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const C=Am(t,S,i);if(!d.contains(C))throw new tt(G.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);E0(A,C)||A.push(C)}y=new Sn(A),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new MI(new nn(g),y,_)}class Vh extends ag{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Vh}}function p0(r,t,i,s){const l=r.Cc(1,t,i);lg("Data must be an object, but it was:",l,s);const c=[],d=nn.empty();es(s,((y,_)=>{const A=ug(t,y,i);_=pe(_);const S=l.yc(A);if(_ instanceof Vh)c.push(A);else{const C=Wl(_,S);C!=null&&(c.push(A),d.set(A,C))}}));const g=new Sn(c);return new d0(d,g,l.fieldTransforms)}function y0(r,t,i,s,l,c){const d=r.Cc(1,t,i),g=[Am(t,s,i)],y=[l];if(c.length%2!=0)throw new tt(G.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)g.push(Am(t,c[C])),y.push(c[C+1]);const _=[],A=nn.empty();for(let C=g.length-1;C>=0;--C)if(!E0(_,g[C])){const j=g[C];let $=y[C];$=pe($);const W=d.yc(j);if($ instanceof Vh)_.push(j);else{const Z=Wl($,W);Z!=null&&(_.push(j),A.set(j,Z))}}const S=new Sn(_);return new d0(A,S,d.fieldTransforms)}function UI(r,t,i,s=!1){return Wl(i,r.Cc(s?4:3,t))}function Wl(r,t){if(v0(r=pe(r)))return lg("Unsupported field value:",t,r),_0(r,t);if(r instanceof ag)return(function(s,l){if(!m0(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const g of s){let y=Wl(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=pe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Sw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ne.fromDate(s);return{timestampValue:nh(l.serializer,c)}}if(s instanceof ne){const c=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nh(l.serializer,c)}}if(s instanceof wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof An)return{bytesValue:kT(l.serializer,s._byteString)};if(s instanceof oe){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Ri)return(function(d,g){return{mapValue:{fields:{[hT]:{stringValue:fT},[Jc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Lm(g.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${yh(s)}`)})(r,t)}function _0(r,t){const i={};return sT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):es(r,((s,l)=>{const c=Wl(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function v0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof wi||r instanceof An||r instanceof oe||r instanceof ag||r instanceof Ri)}function lg(r,t,i){if(!v0(i)||!iT(i)){const s=yh(i);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Am(r,t,i){if((t=pe(t))instanceof Jl)return t._internalPath;if(typeof t=="string")return ug(r,t);throw lh("Field path arguments must be of type string or ",r,!1,void 0,i)}const PI=new RegExp("[~\\*/\\[\\]]");function ug(r,t,i){if(t.search(PI)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Jl(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function lh(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new tt(G.INVALID_ARGUMENT,g+r+y)}function E0(r,t){return r.some((i=>i.isEqual(t)))}class uh{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(cg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LI extends uh{data(){return super.data()}}function cg(r,t){return typeof t=="string"?ug(r,t):t instanceof Jl?t._internalPath:t._delegate._internalPath}function T0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new tt(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class A0 extends hg{}function kI(r,t,...i){let s=[];t instanceof hg&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((y=>y instanceof dg)).length,g=c.filter((y=>y instanceof fg)).length;if(d>1||d>0&&g>0)throw new tt(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class fg extends A0{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new fg(t,i,s)}_apply(t){const i=this._parse(t);return S0(t._query,i),new is(t.firestore,t.converter,fm(t._query,i))}_parse(t){const i=Oh(t.firestore);return(function(c,d,g,y,_,A,S){let C;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new tt(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){hE(S,A);const $=[];for(const W of S)$.push(cE(y,c,W));C={arrayValue:{values:$}}}else C=cE(y,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||hE(S,A),C=UI(g,d,S,A==="in"||A==="not-in");return Ie.create(_,A,C)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class dg extends hg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new dg(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Jn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)S0(d,y),d=fm(d,y)})(t._query,i),new is(t.firestore,t.converter,fm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mg extends A0{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new mg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new tt(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new tt(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kl(c,d)})(t._query,this._field,this._direction);return new is(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new lo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function zI(r,t="asc"){const i=t,s=cg("orderBy",r);return mg._create(s,i)}function cE(r,t,i){if(typeof(i=pe(i))=="string"){if(i==="")throw new tt(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ET(t)&&i.indexOf("/")!==-1)throw new tt(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Zt.fromString(i));if(!ot.isDocumentKey(s))throw new tt(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return wv(r,new ot(s))}if(i instanceof oe)return wv(r,i._key);throw new tt(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(i)}.`)}function hE(r,t){if(!Array.isArray(r)||r.length===0)throw new tt(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function S0(r,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new tt(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new tt(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class b0{convertValue(t,i="none"){switch(Jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw ct(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return es(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[Jc].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Ri(i)}convertGeoPoint(t){return new wi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=vh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const i=$r(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Zt.fromString(t);Ut(GT(s),9688,{name:t});const l=new Pl(s.get(1),s.get(3)),c=new ot(s.popFirst(5));return l.isEqual(i)||Ji(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function w0(r,t,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,s}class BI extends b0{constructor(t){super(),this.firestore=t}convertBytes(t){return new An(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new oe(this.firestore,null,i)}}class Ha{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Kr extends uh{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(cg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:Ce("string",Kr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Hc extends Kr{data(t={}){return super.data(t)}}class zs{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ha(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Hc(this._firestore,this._userDataWriter,s.key,s,new Ha(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new tt(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ha(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ha(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:qI(g.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=zs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function qI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct(61501,{type:r})}}function lD(r){r=fn(r,oe);const t=fn(r.firestore,tr);return II(Zl(t),r._key).then((i=>R0(t,r,i)))}zs._jsonSchemaVersion="firestore/querySnapshot/1.0",zs._jsonSchema={type:Ce("string",zs._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Mh extends b0{constructor(t){super(),this.firestore=t}convertBytes(t){return new An(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new oe(this.firestore,null,i)}}function jI(r){r=fn(r,is);const t=fn(r.firestore,tr),i=Zl(t),s=new Mh(t);return T0(r._query),CI(i,r._query).then((l=>new zs(t,s,r,l)))}function uD(r,t,i){r=fn(r,oe);const s=fn(r.firestore,tr),l=w0(r.converter,t,i);return gg(s,[g0(Oh(s),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Ze.none())])}function Jd(r,t,i,...s){r=fn(r,oe);const l=fn(r.firestore,tr),c=Oh(l);let d;return d=typeof(t=pe(t))=="string"||t instanceof Jl?y0(c,"updateDoc",r._key,t,i,s):p0(c,"updateDoc",r._key,t),gg(l,[d.toMutation(r._key,Ze.exists(!0))])}function HI(r){return gg(fn(r.firestore,tr),[new wh(r._key,Ze.none())])}function fE(r,...t){r=pe(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||uE(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(uE(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof oe)d=fn(r.firestore,tr),g=Eh(r._key.path),c={next:y=>{t[s]&&t[s](R0(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=fn(r,is);d=fn(y.firestore,tr),g=y._query;const _=new Mh(d);c={next:A=>{t[s]&&t[s](new zs(d,_,y,A))},error:t[s+1],complete:t[s+2]},T0(r._query)}return(function(_,A,S,C){const j=new rg(C),$=new eg(A,j,S);return _.asyncQueue.enqueueAndForget((async()=>Jm(await oh(_),$))),()=>{j.Nu(),_.asyncQueue.enqueueAndForget((async()=>Wm(await oh(_),$)))}})(Zl(d),g,l,c)}function gg(r,t){return(function(s,l){const c=new Si;return s.asyncQueue.enqueueAndForget((async()=>fI(await wI(s),l,c))),c.promise})(Zl(r),t)}function R0(r,t,i){const s=i.docs.get(t._key),l=new Mh(r);return new Kr(r,l,t._key,s,new Ha(i.hasPendingWrites,i.fromCache),t.converter)}const FI={maxAttempts:5};function wl(r,t){if((r=pe(r)).firestore!==t)throw new tt(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class GI{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Oh(t)}get(t){const i=wl(t,this._firestore),s=new BI(this._firestore);return this._transaction.lookup([i._key]).then((l=>{if(!l||l.length!==1)return ct(24041);const c=l[0];if(c.isFoundDocument())return new uh(this._firestore,s,c.key,c,i.converter);if(c.isNoDocument())return new uh(this._firestore,s,i._key,null,i.converter);throw ct(18433,{doc:c})}))}set(t,i,s){const l=wl(t,this._firestore),c=w0(l.converter,i,s),d=g0(this._dataReader,"Transaction.set",l._key,c,l.converter!==null,s);return this._transaction.set(l._key,d),this}update(t,i,s,...l){const c=wl(t,this._firestore);let d;return d=typeof(i=pe(i))=="string"||i instanceof Jl?y0(this._dataReader,"Transaction.update",c._key,i,s,l):p0(this._dataReader,"Transaction.update",c._key,i),this._transaction.update(c._key,d),this}delete(t){const i=wl(t,this._firestore);return this._transaction.delete(i._key),this}}class QI extends GI{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=wl(t,this._firestore),s=new Mh(this._firestore);return super.get(t).then((l=>new Kr(this._firestore,s,i._key,l._document,new Ha(!1,!1),i.converter)))}}function cD(r,t,i){r=fn(r,tr);const s={...FI,...i};return(function(c){if(c.maxAttempts<1)throw new tt(G.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(c,d,g){const y=new Si;return c.asyncQueue.enqueueAndForget((async()=>{const _=await RI(c);new AI(c.asyncQueue,_,g,d,y).ju()})),y.promise})(Zl(r),(l=>t(new QI(r,l))),s)}(function(t,i=!0){(function(l){so=l})(ro),Xa(new qs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new tr(new Ub(s.getProvider("auth-internal")),new kb(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new tt(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Fr(fv,dv,t),Fr(fv,dv,"esm2020")})();function I0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KI=I0,C0=new Hl("auth","Firebase",I0());const ch=new Im("@firebase/auth");function YI(r,...t){ch.logLevel<=Dt.WARN&&ch.warn(`Auth (${ro}): ${r}`,...t)}function Fc(r,...t){ch.logLevel<=Dt.ERROR&&ch.error(`Auth (${ro}): ${r}`,...t)}function Wn(r,...t){throw pg(r,...t)}function Ii(r,...t){return pg(r,...t)}function D0(r,t,i){const s={...KI(),[t]:i};return new Hl("auth","Firebase",s).create(t,{appName:r.name})}function Yr(r){return D0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pg(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return C0.create(r,...t)}function mt(r,t,...i){if(!r)throw pg(t,...i)}function Xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Fc(t),new Error(t)}function er(r,t){r||Xi(t)}function Sm(){return typeof self<"u"&&self.location?.href||""}function XI(){return dE()==="http:"||dE()==="https:"}function dE(){return typeof self<"u"&&self.location?.protocol||null}function $I(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XI()||c1()||"connection"in navigator)?navigator.onLine:!0}function ZI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class tu{constructor(t,i){this.shortDelay=t,this.longDelay=i,er(i>t,"Short delay should be less than long delay!"),this.isMobile=o1()||h1()}get(){return $I()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yg(r,t){er(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class N0{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const JI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const WI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tC=new tu(3e4,6e4);function Ks(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function rs(r,t,i,s,l={}){return O0(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Fl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return u1()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&io(r.emulatorConfig.host)&&(_.credentials="include"),N0.fetch()(await V0(r,r.config.apiHost,i,g),_)})}async function O0(r,t,i){r._canInitEmulator=!1;const s={...JI,...t};try{const l=new nC(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Lc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Lc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Lc(r,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw D0(r,A,_);Wn(r,A)}}catch(l){if(l instanceof nr)throw l;Wn(r,"network-request-failed",{message:String(l)})}}async function xh(r,t,i,s,l={}){const c=await rs(r,t,i,s,l);return"mfaPendingCredential"in c&&Wn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function V0(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?yg(r.config,l):`${r.config.apiScheme}://${l}`;return WI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function eC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),tC.get())})}}function Lc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ii(r,t,s);return l.customData._tokenResponse=i,l}function mE(r){return r!==void 0&&r.enterprise!==void 0}class iC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return eC(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rC(r,t){return rs(r,"GET","/v2/recaptchaConfig",Ks(r,t))}async function sC(r,t){return rs(r,"POST","/v1/accounts:delete",t)}async function hh(r,t){return rs(r,"POST","/v1/accounts:lookup",t)}function Vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aC(r,t=!1){const i=pe(r),s=await i.getIdToken(t),l=_g(s);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Vl(Wd(l.auth_time)),issuedAtTime:Vl(Wd(l.iat)),expirationTime:Vl(Wd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Wd(r){return Number(r)*1e3}function _g(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const l=PE(i);return l?JSON.parse(l):(Fc("Failed to decode base64 JWT payload"),null)}catch(l){return Fc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function gE(r){const t=_g(r);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ql(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof nr&&oC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function oC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class lC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(r){const t=r.auth,i=await r.getIdToken(),s=await ql(r,hh(t,{idToken:i}));mt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?M0(l.providerUserInfo):[],d=cC(r.providerData,c),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=g?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function uC(r){const t=pe(r);await fh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cC(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function M0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function hC(r,t){const i=await O0(r,{},async()=>{const s=Fl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await V0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return r.emulatorConfig&&io(r.emulatorConfig.host)&&(y.credentials="include"),N0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function fC(r,t){return rs(r,"POST","/v2/accounts:revokeToken",Ks(r,t))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):gE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=gE(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await hC(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Qa;return s&&(mt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Pr(r,t){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new lC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new bm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await ql(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return aC(this,t)}reload(){return uC(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Yr(this.auth));const t=await this.getIdToken();return await ql(this,sC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:C,isAnonymous:j,providerData:$,stsTokenManager:W}=i;mt(S&&W,t,"internal-error");const Z=Qa.fromJSON(this.name,W);mt(typeof S=="string",t,"internal-error"),Pr(s,t.name),Pr(l,t.name),mt(typeof C=="boolean",t,"internal-error"),mt(typeof j=="boolean",t,"internal-error"),Pr(c,t.name),Pr(d,t.name),Pr(g,t.name),Pr(y,t.name),Pr(_,t.name),Pr(A,t.name);const ht=new Zn({uid:S,auth:t,email:l,emailVerified:C,displayName:s,isAnonymous:j,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:_,lastLoginAt:A});return $&&Array.isArray($)&&(ht.providerData=$.map(Et=>({...Et}))),y&&(ht._redirectEventId=y),ht}static async _fromIdTokenResponse(t,i,s=!1){const l=new Qa;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await fh(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?M0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Qa;g.updateFromIdToken(s);const y=new Zn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const pE=new Map;function $i(r){er(r instanceof Function,"Expected a class definition");let t=pE.get(r);return t?(er(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,pE.set(r,t),t)}class x0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}x0.type="NONE";const yE=x0;function Gc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ka{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Gc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Gc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await hh(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Ka($i(yE),t,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||$i(yE);const d=Gc(s,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const C=await hh(t,{idToken:A}).catch(()=>{});if(!C)break;S=await Zn._fromGetAccountInfoResponse(t,C,A)}else S=Zn._fromJSON(t,A);_!==c&&(g=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ka(c,t,s):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ka(c,t,s))}}function _E(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(k0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(U0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(B0(t))return"Blackberry";if(q0(t))return"Webos";if(P0(t))return"Safari";if((t.includes("chrome/")||L0(t))&&!t.includes("edge/"))return"Chrome";if(z0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function U0(r=Je()){return/firefox\//i.test(r)}function P0(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function L0(r=Je()){return/crios\//i.test(r)}function k0(r=Je()){return/iemobile/i.test(r)}function z0(r=Je()){return/android/i.test(r)}function B0(r=Je()){return/blackberry/i.test(r)}function q0(r=Je()){return/webos/i.test(r)}function vg(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function dC(r=Je()){return vg(r)&&!!window.navigator?.standalone}function mC(){return f1()&&document.documentMode===10}function j0(r=Je()){return vg(r)||z0(r)||q0(r)||B0(r)||/windows phone/i.test(r)||k0(r)}function H0(r,t=[]){let i;switch(r){case"Browser":i=_E(Je());break;case"Worker":i=`${_E(Je())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ro}/${s}`}class gC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function pC(r,t={}){return rs(r,"GET","/v2/passwordPolicy",Ks(r,t))}const yC=6;class _C{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??yC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class vC{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vE(this),this.idTokenSubscription=new vE(this),this.beforeStateQueue=new gC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await hh(this,{idToken:t}),s=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await fh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ZI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(Yr(this));const i=t?pe(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pC(this),i=new _C(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await fC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=H0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&YI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function co(r){return pe(r)}class vE{constructor(t){this.auth=t,this.observer=null,this.addObserver=E1(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EC(r){Uh=r}function F0(r){return Uh.loadJS(r)}function TC(){return Uh.recaptchaEnterpriseScript}function AC(){return Uh.gapiScript}function SC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class bC{constructor(){this.enterprise=new wC}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class wC{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const RC="recaptcha-enterprise",G0="NO_RECAPTCHA";class IC{constructor(t){this.type=RC,this.auth=co(t)}async verify(t="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{rC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new iC(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{g(y)})})}function l(c,d,g){const y=window.grecaptcha;mE(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(G0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(g=>{if(!i&&mE(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=TC();y.length!==0&&(y+=g),F0(y).then(()=>{l(g,c,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function EE(r,t,i,s=!1,l=!1){const c=new IC(r);let d;if(l)d=G0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function TE(r,t,i,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await EE(r,t,i,i==="getOobCode");return s(r,c)}else return s(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await EE(r,t,i,i==="getOobCode");return s(r,d)}else return Promise.reject(c)})}function CC(r,t){const i=Dm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Bs(c,t??{}))return l;Wn(l,"already-initialized")}return i.initialize({options:t})}function DC(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function NC(r,t,i){const s=co(r);mt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=Q0(t),{host:d,port:g}=OC(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){mt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),mt(Bs(_,s.config.emulator)&&Bs(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,io(d)?(BE(`${c}//${d}${y}`),qE("Auth",!0)):VC()}function Q0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function OC(r){const t=Q0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:AE(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:AE(d)}}}function AE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function VC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Eg{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function MC(r,t){return rs(r,"POST","/v1/accounts:signUp",t)}async function xC(r,t){return xh(r,"POST","/v1/accounts:signInWithPassword",Ks(r,t))}async function UC(r,t){return xh(r,"POST","/v1/accounts:signInWithEmailLink",Ks(r,t))}async function PC(r,t){return xh(r,"POST","/v1/accounts:signInWithEmailLink",Ks(r,t))}class jl extends Eg{constructor(t,i,s,l=null){super("password",s),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new jl(t,i,"password")}static _fromEmailAndCode(t,i,s=null){return new jl(t,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TE(t,i,"signInWithPassword",xC);case"emailLink":return UC(t,{email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TE(t,s,"signUpPassword",MC);case"emailLink":return PC(t,{idToken:i,email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ya(r,t){return xh(r,"POST","/v1/accounts:signInWithIdp",Ks(r,t))}const LC="http://localhost";class Fs extends Eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Fs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Fs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ya(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:LC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Fl(i)}return t}}function kC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zC(r){const t=El(Tl(r)).link,i=t?El(Tl(t)).deep_link_id:null,s=El(Tl(r)).deep_link_id;return(s?El(Tl(s)).link:null)||s||i||t||r}class Tg{constructor(t){const i=El(Tl(t)),s=i.apiKey??null,l=i.oobCode??null,c=kC(i.mode??null);mt(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=zC(t);try{return new Tg(i)}catch{return null}}}class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(t,i){return jl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const s=Tg.parseLink(i);return mt(s,"argument-error"),jl._fromEmailAndCode(t,s.code,s.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class K0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class eu extends K0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Lr extends eu{constructor(){super("facebook.com")}static credential(t){return Fs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";class kr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Fs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return kr.credential(i,s)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";class zr extends eu{constructor(){super("github.com")}static credential(t){return Fs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";class Br extends eu{constructor(){super("twitter.com")}static credential(t,i){return Fs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Br.credential(i,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";class no{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Zn._fromIdTokenResponse(t,s,l),d=SE(s);return new no({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=SE(s);return new no({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function SE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class dh extends nr{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new dh(t,i,s,l)}}function Y0(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(r,c,t,s):c})}async function BC(r,t,i=!1){const s=await ql(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return no._forOperation(r,"link",s)}async function qC(r,t,i=!1){const{auth:s}=r;if($n(s.app))return Promise.reject(Yr(s));const l="reauthenticate";try{const c=await ql(r,Y0(s,l,t,r),i);mt(c.idToken,s,"internal-error");const d=_g(c.idToken);mt(d,s,"internal-error");const{sub:g}=d;return mt(r.uid===g,s,"user-mismatch"),no._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wn(s,"user-mismatch"),c}}async function X0(r,t,i=!1){if($n(r.app))return Promise.reject(Yr(r));const s="signIn",l=await Y0(r,s,t),c=await no._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function jC(r,t){return X0(co(r),t)}async function HC(r){const t=co(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function hD(r,t,i){return $n(r.app)?Promise.reject(Yr(r)):jC(pe(r),ho.credential(t,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&HC(r),s})}function FC(r,t,i,s){return pe(r).onIdTokenChanged(t,i,s)}function GC(r,t,i){return pe(r).beforeAuthStateChanged(t,i)}function fD(r,t,i,s){return pe(r).onAuthStateChanged(t,i,s)}function QC(r){return pe(r).signOut()}const mh="__sak";class $0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const KC=1e3,YC=10;class Z0 extends $0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);mC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,YC):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},KC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Z0.type="LOCAL";const XC=Z0;class J0 extends $0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}J0.type="SESSION";const W0=J0;function $C(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ph{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new Ph(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await $C(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ph.receivers=[];function Ag(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}class ZC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Ag("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const C=S;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(C.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function JC(r){Ci().location.href=r}function tA(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function WC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t2(){return navigator?.serviceWorker?.controller||null}function e2(){return tA()?self:null}const eA="firebaseLocalStorageDb",n2=1,gh="firebaseLocalStorage",nA="fbase_key";class nu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Lh(r,t){return r.transaction([gh],t?"readwrite":"readonly").objectStore(gh)}function i2(){const r=indexedDB.deleteDatabase(eA);return new nu(r).toPromise()}function wm(){const r=indexedDB.open(eA,n2);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(gh,{keyPath:nA})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(gh)?t(s):(s.close(),await i2(),t(await wm()))})})}async function bE(r,t,i){const s=Lh(r,!0).put({[nA]:t,value:i});return new nu(s).toPromise()}async function r2(r,t){const i=Lh(r,!1).get(t),s=await new nu(i).toPromise();return s===void 0?null:s.value}function wE(r,t){const i=Lh(r,!0).delete(t);return new nu(i).toPromise()}const s2=800,a2=3;class iA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>a2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ph._getInstance(e2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await WC(),!this.activeServiceWorker)return;this.sender=new ZC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||t2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wm();return await bE(t,mh,"1"),await wE(t,mh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>bE(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>r2(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>wE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Lh(l,!1).getAll();return new nu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iA.type="LOCAL";const o2=iA;new tu(3e4,6e4);function l2(r,t){return t?$i(t):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Sg extends Eg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function u2(r){return X0(r.auth,new Sg(r),r.bypassAuthState)}function c2(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),qC(i,new Sg(r),r.bypassAuthState)}async function h2(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),BC(i,new Sg(r),r.bypassAuthState)}class rA{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return u2;case"linkViaPopup":case"linkViaRedirect":return h2;case"reauthViaPopup":case"reauthViaRedirect":return c2;default:Wn(this.auth,"internal-error")}}resolve(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const f2=new tu(2e3,1e4);class Fa extends rA{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const t=Ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,f2.get())};t()}}Fa.currentPopupAction=null;const d2="pendingRedirect",Qc=new Map;class m2 extends rA{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Qc.get(this.auth._key());if(!t){try{const s=await g2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Qc.set(this.auth._key(),t)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g2(r,t){const i=_2(t),s=y2(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function p2(r,t){Qc.set(r._key(),t)}function y2(r){return $i(r._redirectPersistence)}function _2(r){return Gc(d2,r.config.apiKey,r.name)}async function v2(r,t,i=!1){if($n(r.app))return Promise.reject(Yr(r));const s=co(r),l=l2(s,t),d=await new m2(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const E2=600*1e3;class T2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!A2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!sA(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ii(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=E2&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(t))}saveEventToCache(t){this.cachedEventUids.add(RE(t)),this.lastProcessedEventTime=Date.now()}}function RE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function sA({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function A2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sA(r);default:return!1}}async function S2(r,t={}){return rs(r,"GET","/v1/projects",t)}const b2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w2=/^https?/;async function R2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await S2(r);for(const i of t)try{if(I2(i))return}catch{}Wn(r,"unauthorized-domain")}function I2(r){const t=Sm(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!w2.test(i))return!1;if(b2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const C2=new tu(3e4,6e4);function IE(){const r=Ci().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function D2(r){return new Promise((t,i)=>{function s(){IE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{IE(),i(Ii(r,"network-request-failed"))},timeout:C2.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)s();else{const l=SC("iframefcb");return Ci()[l]=()=>{gapi.load?s():i(Ii(r,"network-request-failed"))},F0(`${AC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Kc=null,t})}let Kc=null;function N2(r){return Kc=Kc||D2(r),Kc}const O2=new tu(5e3,15e3),V2="__/auth/iframe",M2="emulator/auth/iframe",x2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P2(r){const t=r.config;mt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?yg(t,M2):`https://${r.config.authDomain}/${V2}`,s={apiKey:t.apiKey,appName:r.name,v:ro},l=U2.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Fl(s).slice(1)}`}async function L2(r){const t=await N2(r),i=Ci().gapi;return mt(i,r,"internal-error"),t.open({where:document.body,url:P2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x2,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ii(r,"network-request-failed"),g=Ci().setTimeout(()=>{c(d)},O2.get());function y(){Ci().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{c(d)})}))}const k2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z2=500,B2=600,q2="_blank",j2="http://localhost";class CE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H2(r,t,i,s=z2,l=B2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...k2,width:s.toString(),height:l.toString(),top:c,left:d},_=Je().toLowerCase();i&&(g=L0(_)?q2:i),U0(_)&&(t=t||j2,y.scrollbars="yes");const A=Object.entries(y).reduce((C,[j,$])=>`${C}${j}=${$},`,"");if(dC(_)&&g!=="_self")return F2(t||"",g),new CE(null);const S=window.open(t||"",g,A);mt(S,r,"popup-blocked");try{S.focus()}catch{}return new CE(S)}function F2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const G2="__/auth/handler",Q2="emulator/auth/handler",K2=encodeURIComponent("fac");async function DE(r,t,i,s,l,c){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:ro,eventId:l};if(t instanceof K0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",v1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof eu){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await r._getAppCheckToken(),_=y?`#${K2}=${encodeURIComponent(y)}`:"";return`${Y2(r)}?${Fl(g).slice(1)}${_}`}function Y2({config:r}){return r.emulator?yg(r,Q2):`https://${r.authDomain}/${G2}`}const tm="webStorageSupport";class X2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W0,this._completeRedirectFn=v2,this._overrideRedirectResult=p2}async _openPopup(t,i,s,l){er(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await DE(t,i,s,Sm(),l);return H2(t,c,Ag())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await DE(t,i,s,Sm(),l);return JC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(er(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await L2(t),s=new T2(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(tm,{type:tm},l=>{const c=l?.[0]?.[tm];c!==void 0&&i(!!c),Wn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=R2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return j0()||P0()||vg()}}const $2=X2;var NE="@firebase/auth",OE="1.11.1";class Z2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function J2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W2(r){Xa(new qs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H0(r)},_=new vC(s,l,c,y);return DC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Xa(new qs("auth-internal",t=>{const i=co(t.getProvider("auth").getImmediate());return(s=>new Z2(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(NE,OE,J2(r)),Fr(NE,OE,"esm2020")}const tD=300,eD=zE("authIdTokenMaxAge")||tD;let VE=null;const nD=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>eD)return;const l=i?.token;VE!==l&&(VE=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function aA(r=GE()){const t=Dm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=CC(r,{popupRedirectResolver:$2,persistence:[o2,XC,W0]}),s=zE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=nD(c.toString());GC(i,d,()=>d(i.currentUser)),FC(i,g=>d(g))}}const l=LE("auth");return l&&NC(i,`http://${l}`),i}function iD(){return document.getElementsByTagName("head")?.[0]??document}EC({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Ii("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",iD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W2("Browser");const rD={apiKey:"AIzaSyDOpa0PqeaiRQRVtbezwp4iYaXov_oY51g",authDomain:"mi-restaurante-reservas-761b1.firebaseapp.com",projectId:"mi-restaurante-reservas-761b1",storageBucket:"mi-restaurante-reservas-761b1.appspot.com",messagingSenderId:"504225678178",appId:"1:504225678178:web:ec29b7a8bd05855802623b"},oA=FE(rD),Ps=NI(oA),dD=aA(oA);function mD({adminUser:r}){const[t,i]=ka.useState([]),[s,l]=ka.useState(!0),[c,d]=ka.useState(!0),g=aA(),y=async()=>{try{await QC(g)}catch(S){console.error("Error al cerrar sesin:",S)}},_=()=>{const S=new Date,C=S.getDay(),j=C===0?-6:1-C,$=new Date(S);return $.setDate(S.getDate()+j),$.setHours(0,0,0,0),$},A=async()=>{if(!window.confirm(` Seguro que quers eliminar las reservas de semanas anteriores?
Esta accin no se puede deshacer.`))return;const C=_(),j=await jI(sE(Ps,"reservas"));let $=0;for(const W of j.docs){const Z=W.data();if(!Z.date)continue;const ht=new Date(Z.date);ht.setHours(0,0,0,0),ht<C&&(await HI(vl(Ps,"reservas",W.id)),$++)}alert(` Se eliminaron ${$} reservas anteriores.`)};return ka.useEffect(()=>{const S=vl(Ps,"config","general"),C=fE(S,j=>{j.exists()&&d(j.data().estado)});return()=>C()},[]),ka.useEffect(()=>{if(!r)return;const S=kI(sE(Ps,"reservas"),zI("createdAt","desc")),C=fE(S,j=>{const $=j.docs.map(W=>({id:W.id,...W.data()}));i($),l(!1)});return()=>C()},[r]),yt.jsxs("div",{className:"min-h-screen bg-[#f5e6ca] p-8",children:[yt.jsx("h1",{className:"text-3xl font-serif text-emerald-900 mb-6",children:"Panel de Reservas"}),yt.jsxs("div",{className:"flex gap-2",children:[yt.jsxs("button",{onClick:()=>window.location.href="/sistema-reservas-restaurante/",className:`\r
    flex items-center gap-2\r
    px-4 py-2\r
    rounded-lg\r
    bg-white\r
    border border-emerald-800\r
    text-emerald-800 text-sm font-medium\r
    shadow-sm\r
    hover:bg-emerald-800\r
    hover:text-white\r
    transition-all\r
    duration-300\r
    cursor-pointer\r
    mb-5\r
  `,children:[yt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.8",children:yt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),"Volver al sitio"]}),yt.jsxs("button",{onClick:y,className:`\r
    flex items-center gap-2\r
    px-4 py-2\r
    rounded-lg\r
    bg-red-600 text-white\r
    border border-emerald-800\r
    text-emerald-800 text-sm font-medium\r
    shadow-sm\r
    hover:bg-red-700\r
    hover:text-white\r
    transition-all\r
    duration-300\r
    cursor-pointer\r
    mb-5\r
    `,children:[yt.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.8",children:[yt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6A2.25 2.25 0 005.25 5.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15"}),yt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12H9m0 0l3-3m-3 3l3 3"})]}),"Cerrar sesin"]})]}),yt.jsxs("div",{className:"mb-8 flex items-center justify-between bg-white p-5 rounded-xl shadow",children:[yt.jsxs("div",{children:[yt.jsx("p",{className:"font-serif text-lg text-emerald-900",children:"Reservas generales"}),yt.jsx("p",{className:`text-sm ${c?"text-emerald-700":"text-red-600"}`,children:c?"ABIERTAS":"CERRADAS"})]}),yt.jsx("button",{onClick:async()=>{const S=vl(Ps,"config","general");await Jd(S,{estado:!c})},className:`px-5 py-2 rounded-lg text-white transition cursor-pointer
      ${c?"bg-red-600 hover:bg-red-700":"bg-emerald-700 hover:bg-emerald-600"}
    `,children:c?"Cerrar reservas":"Abrir reservas"})]}),yt.jsxs("div",{className:"mb-8 flex items-center justify-between bg-white p-5 rounded-xl shadow",children:[yt.jsxs("div",{children:[yt.jsx("p",{className:"font-serif text-lg text-emerald-900",children:"Mantenimiento"}),yt.jsx("p",{className:"text-sm text-gray-500",children:"Eliminar reservas antiguas"})]}),yt.jsx("button",{onClick:A,className:`\r
      px-5 py-2\r
      rounded-lg\r
      bg-red-100\r
      text-red-700\r
      border border-red-300\r
      hover:bg-red-600\r
      hover:text-white\r
      transition\r
      cursor-pointer\r
    `,children:" Eliminar"})]}),s?yt.jsx("p",{children:"Cargando reservas..."}):t.length===0?yt.jsx("p",{children:"No hay reservas an"}):yt.jsx("div",{className:"overflow-x-auto",children:yt.jsxs("table",{className:"w-full bg-white rounded-lg shadow",children:[yt.jsx("thead",{className:"bg-emerald-800 text-white",children:yt.jsxs("tr",{children:[yt.jsx("th",{className:"p-3 text-left",children:"Nombre"}),yt.jsx("th",{className:"p-3",children:"Fecha"}),yt.jsx("th",{className:"p-3",children:"Hora"}),yt.jsx("th",{className:"p-3",children:"Personas"}),yt.jsx("th",{className:"p-3",children:"Telfono"}),yt.jsx("th",{className:"p-3",children:"Estado"}),yt.jsx("th",{className:"p-3",children:"Acciones"})]})}),yt.jsx("tbody",{children:t.map(S=>yt.jsxs("tr",{className:"border-b",children:[yt.jsx("td",{className:"p-3",children:S.name}),yt.jsx("td",{className:"p-3 text-center",children:S.date}),yt.jsx("td",{className:"p-3 text-center",children:S.time}),yt.jsx("td",{className:"p-3 text-center",children:S.people}),yt.jsx("td",{className:"p-3 text-center",children:S.phone}),yt.jsx("td",{className:"p-3 text-center",children:yt.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium
      ${S.status==="confirmed"?"bg-emerald-100 text-emerald-800":S.status==="cancelled"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-800"}
    `,children:S.status==="pending"?"Pendiente":S.status==="confirmed"?"Confirmada":"Cancelada"})}),yt.jsx("td",{className:"p-3 text-center",children:yt.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[(S.status==="pending"||S.status==="cancelled")&&yt.jsx("button",{onClick:async()=>{const C=vl(Ps,"reservas",S.id);await Jd(C,{status:"confirmed"})},className:` px-3 py-1\r
      rounded\r
      text-xs sm:text-sm\r
      font-medium\r
      border border-emerald-700\r
      text-emerald-700\r
      hover:bg-emerald-700 hover:text-white\r
      transition\r
      cursor-pointer`,children:"Confirmar"}),(S.status==="pending"||S.status==="confirmed")&&yt.jsx("button",{onClick:async()=>{const C=vl(Ps,"reservas",S.id);await Jd(C,{status:"cancelled"})},className:` px-3 py-1\r
      rounded\r
      text-xs sm:text-sm\r
      font-medium\r
      border border-red-600\r
      text-red-600\r
      hover:bg-red-600 hover:text-white\r
      transition cursor-pointer`,children:"Cancelar"})]})})]},S.id))})]})})]})}export{mD as A,aD as R,fE as a,fD as b,sE as c,vl as d,Ps as e,lD as f,aA as g,uD as h,hD as i,yt as j,cD as k,KS as l,dD as m,sD as n,zI as o,kI as q,ka as r,QC as s,Jd as u};
